<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Victoria Neo">
<meta name="dcterms.date" content="2024-02-07">

<title>ISS608-VAA - Take-home Exercise 3: Be Weatherwise or Otherwise</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="../../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding-0.31/datatables.js"></script>
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../../site_libs/bootstrap-grid-3.4.1/bootstrap-grid.min.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">‚úåÔ∏è Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03a.html">
 <span class="dropdown-text">Hands-on Exercise 3a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03b.html">
 <span class="dropdown-text">Hands-on Exercise 3b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04a.html">
 <span class="dropdown-text">Hands-on Exercise 4a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04b.html">
 <span class="dropdown-text">Hands-on Exercise 4b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04c.html">
 <span class="dropdown-text">Hands-on Exercise 4c</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04d.html">
 <span class="dropdown-text">Hands-on Exercise 4d</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex06/Hands-on_Ex06.html">
 <span class="dropdown-text">Hands-on Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex08/Hands-on_Ex08.html">
 <span class="dropdown-text">Hands-on Exercise 8</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex09/Hands-on_Ex09.html">
 <span class="dropdown-text">Hands-on Exercise 9</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex10/Hands-on_Ex10.html">
 <span class="dropdown-text">Hands-on Exercise 10</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üë®üèª‚Äçüè´In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex01/In-class_Ex01.html">
 <span class="dropdown-text">In-class Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex03/In-class_Ex03.html">
 <span class="dropdown-text">In-class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">üè† Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html">
 <span class="dropdown-text">Take-home Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex04/Take-home_Ex04.html">
 <span class="dropdown-text">Take-home Exercise 4</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">My VAA Journey</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../dictionary.html"> 
<span class="menu-text">Dictionary</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setting-the-scene" id="toc-setting-the-scene" class="nav-link active" data-scroll-target="#setting-the-scene">1 Setting the scene</a>
  <ul class="collapse">
  <li><a href="#the-task" id="toc-the-task" class="nav-link" data-scroll-target="#the-task">1.1 The Task</a></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">2 Getting started</a>
  <ul class="collapse">
  <li><a href="#selection-of-task" id="toc-selection-of-task" class="nav-link" data-scroll-target="#selection-of-task">2.1 Selection of Task</a>
  <ul class="collapse">
  <li><a href="#selection-of-rainfall" id="toc-selection-of-rainfall" class="nav-link" data-scroll-target="#selection-of-rainfall">2.1.1 Selection of Rainfall</a></li>
  <li><a href="#selection-of-february" id="toc-selection-of-february" class="nav-link" data-scroll-target="#selection-of-february">2.1.2 Selection of February</a></li>
  <li><a href="#selection-of-macritchie-reservoir-station" id="toc-selection-of-macritchie-reservoir-station" class="nav-link" data-scroll-target="#selection-of-macritchie-reservoir-station">2.1.3 Selection of MacRitchie Reservoir station</a></li>
  </ul></li>
  <li><a href="#questions-raised" id="toc-questions-raised" class="nav-link" data-scroll-target="#questions-raised">2.2 Questions raised</a>
  <ul class="collapse">
  <li><a href="#questions-about-the-data" id="toc-questions-about-the-data" class="nav-link" data-scroll-target="#questions-about-the-data">2.2.1 Questions about the data</a></li>
  <li><a href="#questions-about-the-visualisation-of-data" id="toc-questions-about-the-visualisation-of-data" class="nav-link" data-scroll-target="#questions-about-the-visualisation-of-data">2.2.2 Questions about the visualisation of data</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">2.3 Data</a>
  <ul class="collapse">
  <li><a href="#installing-and-loading-the-required-libraries" id="toc-installing-and-loading-the-required-libraries" class="nav-link" data-scroll-target="#installing-and-loading-the-required-libraries">2.3.1 Installing and loading the required libraries</a></li>
  <li><a href="#data-set" id="toc-data-set" class="nav-link" data-scroll-target="#data-set">2.3.2 <strong>Data Set</strong></a></li>
  <li><a href="#importing-data" id="toc-importing-data" class="nav-link" data-scroll-target="#importing-data">2.3.3 <strong>Importing Data</strong></a></li>
  <li><a href="#summary-statistics-of-combined_rainfall.csv" id="toc-summary-statistics-of-combined_rainfall.csv" class="nav-link" data-scroll-target="#summary-statistics-of-combined_rainfall.csv">2.3.4 <strong>Summary Statistics of</strong> <em>combined_rainfall.csv</em></a></li>
  <li><a href="#altering-combined_rainfall.csv" id="toc-altering-combined_rainfall.csv" class="nav-link" data-scroll-target="#altering-combined_rainfall.csv">2.3.5 <strong>Altering</strong> <em>combined_rainfall.csv</em></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#design-of-data-visualisations" id="toc-design-of-data-visualisations" class="nav-link" data-scroll-target="#design-of-data-visualisations">3 Design of Data Visualisations</a>
  <ul class="collapse">
  <li><a href="#hypothesis" id="toc-hypothesis" class="nav-link" data-scroll-target="#hypothesis">3.1 Hypothesis</a></li>
  <li><a href="#task-analysis" id="toc-task-analysis" class="nav-link" data-scroll-target="#task-analysis">3.2 Task Analysis</a>
  <ul class="collapse">
  <li><a href="#user-stories" id="toc-user-stories" class="nav-link" data-scroll-target="#user-stories">3.2.1 User Stories</a></li>
  <li><a href="#breakdown-of-tasks" id="toc-breakdown-of-tasks" class="nav-link" data-scroll-target="#breakdown-of-tasks">3.2.2 Breakdown of tasks</a></li>
  </ul></li>
  <li><a href="#plots" id="toc-plots" class="nav-link" data-scroll-target="#plots">3.2 Plots</a>
  <ul class="collapse">
  <li><a href="#to-present-interesting-facts-of-rainfall-at-a-glance" id="toc-to-present-interesting-facts-of-rainfall-at-a-glance" class="nav-link" data-scroll-target="#to-present-interesting-facts-of-rainfall-at-a-glance">3.2.1 To present interesting facts of rainfall at a glance</a></li>
  <li><a href="#to-visually-present-the-distribution-of-rainfall-over-time-and-allow-users-to-explore" id="toc-to-visually-present-the-distribution-of-rainfall-over-time-and-allow-users-to-explore" class="nav-link" data-scroll-target="#to-visually-present-the-distribution-of-rainfall-over-time-and-allow-users-to-explore">3.2.2 To visually present the distribution of rainfall over time and allow users to explore</a></li>
  <li><a href="#to-present-a-snapshot-of-patterns-and-trends-from-a-higher-level" id="toc-to-present-a-snapshot-of-patterns-and-trends-from-a-higher-level" class="nav-link" data-scroll-target="#to-present-a-snapshot-of-patterns-and-trends-from-a-higher-level">3.2.3 To present a snapshot of patterns and trends from a higher level</a></li>
  <li><a href="#to-visualise-the-distribution-of-rainfall-between-years" id="toc-to-visualise-the-distribution-of-rainfall-between-years" class="nav-link" data-scroll-target="#to-visualise-the-distribution-of-rainfall-between-years">3.2.2 To visualise the distribution of rainfall between years</a></li>
  </ul></li>
  <li><a href="#putting-it-all-together" id="toc-putting-it-all-together" class="nav-link" data-scroll-target="#putting-it-all-together">3.3 Putting it all together</a>
  <ul class="collapse">
  <li><a href="#static-visualisation" id="toc-static-visualisation" class="nav-link" data-scroll-target="#static-visualisation">3.3.1 Static Visualisation</a></li>
  <li><a href="#interactive-visualisation" id="toc-interactive-visualisation" class="nav-link" data-scroll-target="#interactive-visualisation">3.3.2 Interactive Visualisation</a></li>
  <li><a href="#final-visualisation" id="toc-final-visualisation" class="nav-link" data-scroll-target="#final-visualisation">3.3.3 Final Visualisation</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#learning-points" id="toc-learning-points" class="nav-link" data-scroll-target="#learning-points">4 Learning Points</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Take-home Exercise 3: Be Weatherwise or Otherwise</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead"><a href="https://isss608-ay2023-24jan.netlify.app/take-home_ex/th_ex03">DataVis of Singapore‚Äôs weather</a></p>
</div>



<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Victoria Neo </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 7, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">February 18, 2024</p>
    </div>
  </div>
    
  </div>
  


</header>


<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/clipboard-939414320.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="829"></p>
<figcaption><em>Taken from</em> <a href="https://www.nccs.gov.sg/singapores-climate-action/impact-of-climate-change-in-singapore/">Impact Of Climate Change In Singapore</a></figcaption>
</figure>
</div>
<section id="setting-the-scene" class="level1">
<h1>1 Setting the scene</h1>
<p>According to the official Climate Change in Singapore report as shown in the infographic above,</p>
<ul>
<li><p>Daily mean temperature are projected to increase by 1.4 to 4.6,</p></li>
<li><p>there will be more warm days and warm nights from February to September,</p></li>
<li><p>Annual total rainfall rose at an average rate of 101mm per decade,</p></li>
<li><p>The contrast between the wet months (November to January) and dry month (February and June to September) is likely to be more pronounced, and</p></li>
<li><p>Intensity and frequency of heavy rainfall events is expected to increase.</p></li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
  A[Temperature] 
  B[Rainfall]
  C[Climate Change]
  D[Increase in daily mean]
  E[More warm days and nights]
  F[Increase in annual total]
  G[More pronounced contrast between wet and dry months ]
  H[Increase intensity and frequency of heavy rainfall]
  
  C --&gt; A
  C --&gt; B
  A --&gt; D
  A --&gt; E
  B --&gt; F
  B --&gt; G
  B --&gt; H
 
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<section id="the-task" class="level2" data-link="1.1 The Task">
<h2 data-link="1.1 The Task" class="anchored" data-anchor-id="the-task">1.1 The Task</h2>
<p>In this take-home exercise, you are required to:</p>
<ul>
<li><p>Select a weather station and download <a href="http://www.weather.gov.sg/climate-historical-daily/">historical daily temperature or rainfall data</a> from <a href="http://www.weather.gov.sg/home/">Meteorological Service Singapore</a> website,</p></li>
<li><p>Select either daily temperature or rainfall records of a month of the year 1983, 1993, 2003, 2013 and 2023 and create an analytics-driven data visualisation,</p></li>
<li><p>Apply appropriate interactive techniques to enhance the user experience in data discovery and/or visual story-telling.</p></li>
</ul>
</section>
</section>
<section id="getting-started" class="level1">
<h1>2 Getting started</h1>
<section id="selection-of-task" class="level2">
<h2 class="anchored" data-anchor-id="selection-of-task">2.1 Selection of Task</h2>
<p>We are tasked to select 1) rainfall or temperature, 2) for <strong>one</strong> specific month, 3) at <strong>one</strong> specific weather station.</p>
<section id="selection-of-rainfall" class="level3">
<h3 class="anchored" data-anchor-id="selection-of-rainfall">2.1.1 Selection of Rainfall</h3>
<p>My son expressed much interest in this assignment and decided the study of rainfall would be the most interesting. He was most excited as he thought I had to manually measure rainfall with a rain gauge. While disappointed by the truth, he revived when I printed out the data tables.</p>
<p>Thus, the claim being scrutinised in this study is:</p>
<ul>
<li>Climate change has caused annual total rainfall to rise at an average rate of 101mm per decade.</li>
</ul>
<p>The claims not studied are:</p>
<ul>
<li><p>Climate change has caused more pronounced contrast between the wet and dry months.</p>
<ul>
<li>because the task has specified only studying <strong>one</strong> month and thus comparisons between months is not possible.</li>
</ul></li>
<li><p>Climate change has caused an increase in intensity and frequency of heavy rainfall events.</p>
<ul>
<li>because MacRitchie Reservoir‚Äôs (and other stations‚Äô) data for 30-min, 60-min and 120-min rainfall were only recently recorded and did not extend back to 1983 which is one of the criteria of the task.</li>
</ul></li>
</ul>
</section>
<section id="selection-of-february" class="level3">
<h3 class="anchored" data-anchor-id="selection-of-february">2.1.2 Selection of February</h3>
<p>For the selection of the month, as we enter February in 2024, <a href="https://www.todayonline.com/singapore/weather-forecast-february-dry-lesser-rain-2354476">TodayOnline (1 February 2024)</a> reported that we will be facing dry weather with less rain. We can see from the table below that between 1991 and 2020, February was the driest month with the least number of mean raindays. I selected February as I thought focusing on the driest month will give us the most pronounced contrast in the increase in rainfall due to climate change.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A day is considered to have ‚Äúrained‚Äù if the total rainfall for that day is 0.2mm or more (read more at <a href="http://www.weather.gov.sg/climate-climate-of-singapore/">Climate of Singapore</a>).</p>
</div>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/clipboard-1146528269.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="828"></p>
<figcaption><em>Taken from</em> <a href="http://www.weather.gov.sg/climate-climate-of-singapore/">Climate of Singapore</a></figcaption>
</figure>
</div>
<div class="grid">
<div class="g-col-6">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3344042275.png" class="img-fluid figure-img" width="610"></p>
<figcaption><em>Taken from</em> <a href="http://www.weather.gov.sg/fwo-drier-conditions-in-the-next-fortnight/">Drier Conditions In The Next Fortnight</a></figcaption>
</figure>
</div>
</div>
<div class="g-col-6">
<p>In the table on the right, February sees a huge variance between the highest and lowest monthly rainfall and this can question the claim that climate change has caused rainfall to increase annually.</p>
</div>
</div>
<div class="grid">
<div class="g-col-6">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2448803289.png" class="img-fluid figure-img" width="413"></p>
<figcaption><em>Taken from</em> <a href="https://www.nea.gov.sg/media/news/advisories/index/wettest-day-on-record-for-february">Wettest Day On Record For February</a></figcaption>
</figure>
</div>
</div>
<div class="g-col-6">
<p>However, <a href="https://www.nea.gov.sg/media/news/advisories/index/wettest-day-on-record-for-february">MSS (1 March 2023)</a> reported that 2023 also saw the wettest day on record for February - ‚Äú225.5mm recorded at Kallang‚Ä¶ [and] was the highest daily total rainfall ever recorded in February, exceeding the previous record of 159.3mm on 4 February 1995‚Äù. Rainfall anomaly saw that well above average rainfall happened in February 2023 as seen in the image below.</p>
</div>
</div>
<p>Thus, there seems to be interesting patterns occurring in February and thus, it was selected as part of the study.</p>
</section>
<section id="selection-of-macritchie-reservoir-station" class="level3">
<h3 class="anchored" data-anchor-id="selection-of-macritchie-reservoir-station">2.1.3 Selection of MacRitchie Reservoir station</h3>
<p>Given the criteria that we need to collect rainfall data from 1983 to 2023, only 19 weather stations met the criteria (you can refer to the link <a href="http://www.weather.gov.sg/wp-content/uploads/2022/06/Station_Records.pdf">here</a>). While Changi is the official reference station of NEA, MacRitchie Reservoir station was of most interest to me as it is relatively located in the central area of Singapore (as seen in the image below) and is in the second wettest area in Singapore. It is of 1.3417 Lat.(N), 103.8338 Long.(E) and 25m elevation above mean sea-level (you can read more <a href="http://www.weather.gov.sg/wp-content/uploads/2019/03/Annual-Climatological-Report-2018.pdf">here</a>). MacRitchie Reservoir is also the <a href="https://www.nlb.gov.sg/main/article-detail?cmsuuid=9daebfbc-261a-4785-a296-9a899017aee5">first water supply system</a> in Singapore as part of the Central Catchment Nature Reserve and its water levels are often mentioned in the news during dry spells.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/clipboard-3142014947.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="828"></p>
<figcaption><em>Taken from</em> <a href="http://www.weather.gov.sg/climate-climate-of-singapore/">Climate of Singapore</a> (label my own)</figcaption>
</figure>
</div>
<div class="grid">
<div class="g-col-6">
<p>However, as seen in the image on the right, MacRitchie Reservoir station does experience rainfall anomaly e.g.&nbsp;in February 2022, it was one of the driest stations with it experiencing only 1% above average rainfall in February.</p>
</div>
<div class="g-col-6">
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/clipboard-588065392.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="413"></p>
<figcaption><em>Taken from</em> <a href="http://www.weather.gov.sg/fwo-expect-another-wet-fortnight-2/">Expect Another Wet Fortnight</a></figcaption>
</figure>
</div>
</div>
</div>
<p>Thus, the variance in MacRitchie Reservoir‚Äôs rainfall pattern over the years is also interesting and thus, may yield interesting insights.</p>
</section>
</section>
<section id="questions-raised" class="level2">
<h2 class="anchored" data-anchor-id="questions-raised">2.2 Questions raised</h2>
<p>To validate the claims raised in <a href="#selection-of-rainfall">2.1.1 Selection of Rainfall</a>, there are some questions raised at different levels to study rainfall trends in Singapore.</p>
<section id="questions-about-the-data" class="level3">
<h3 class="anchored" data-anchor-id="questions-about-the-data">2.2.1 Questions about the data</h3>
<ol type="1">
<li><p>Number of days it rained? Total? Mean? Median? Maximum? Minimum?</p></li>
<li><p>Volume of total rainfall? Total? Mean? Median? Maximum? Minimum?</p></li>
<li><p>How do these figures compare to the average rainfall for February (1991 - 2020) as reported by MSS?</p></li>
<li><p>When does it usually rain in February? Day? Week?</p></li>
<li><p>Weekly? Monthly? Yearly? patterns</p></li>
<li><p>Since this is sample data, how can I be certain about my conclusions?</p></li>
</ol>
</section>
<section id="questions-about-the-visualisation-of-data" class="level3">
<h3 class="anchored" data-anchor-id="questions-about-the-visualisation-of-data">2.2.2 Questions about the visualisation of data</h3>
<ol type="1">
<li><p>How to present the trends in number of days and volume of rainfall</p></li>
<li><p>How to present the yearly/monthly trends of rainfall</p></li>
<li><p>How to gain a deeper insight on the differences between years and days of rainfall</p></li>
<li><p>How to quickly spot patterns in the data across years and days</p></li>
<li><p>How to visualise statistical uncertainty for sample data</p></li>
</ol>
</section>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">2.3 Data</h2>
<section id="installing-and-loading-the-required-libraries" class="level3">
<h3 class="anchored" data-anchor-id="installing-and-loading-the-required-libraries">2.3.1 Installing and loading the required libraries</h3>
<p>The code chunk below uses p_load() of pacman package to check if the necessary packages are installed in the computer. If they are, then they will be launched into R.</p>
<ul>
<li><p><a href="https://rstudio.github.io/crosstalk/using.html"><strong>crosstalk</strong></a>, for implementing cross-widget interactions (currently, linked brushing and filtering), and</p></li>
<li><p><a href="https://rstudio.github.io/DT/"><strong>DT</strong></a><strong>,</strong> for providing an R interface to the JavaScript library <a href="https://datatables.net/">DataTables</a> that create interactive table on html page</p></li>
<li><p><a href="https://nhs-r-community.github.io/FunnelPlotR/"><strong>FunnelPlotR</strong></a><strong>,</strong> for creating funnel plot.</p></li>
<li><p><a href="https://gganimate.com/"><strong>gganimate</strong></a>, an ggplot extension for creating animated statistical graphs</p></li>
<li><p><a href="https://mjskay.github.io/ggdist/"><strong>ggdist</strong></a>, for visualising distribution and uncertainty</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html"><strong>ggridges</strong></a><strong>,</strong> a ggplot2 extension specially designed for plotting ridgeline plots</p></li>
<li><p><a href="https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/"><strong>ggthemes</strong></a>, an R package that provides some extra themes, geoms, and scales for ‚Äòggplot2‚Äô</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/ggsignif/vignettes/intro.html"><strong>ggsignif</strong></a>, a ggplot extension that provides a single layer&nbsp;<code>geom_signif</code>&nbsp;which can calculate the significance of a difference between groups and add the annotation to the plot in a single line</p></li>
<li><p><a href="https://indrajeetpatil.github.io/ggstatsplot/"><strong>ggstatsplot</strong></a><strong>,</strong> an extension of&nbsp;<a href="https://ggplot2.tidyverse.org/"><strong>ggplot2</strong></a>&nbsp;package for creating graphics with details from statistical tests included in the information-rich plots themselves</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/gifski/"><strong>gifski</strong></a> converts video frames to GIF animations using pngquant‚Äôs fancy features for efficient cross-frame palettes and temporal dithering. It produces animated GIFs that use thousands of colors per frame</p></li>
<li><p><a href="https://github.com/BlakeRMills/MetBrewer?tab=readme-ov-file"><strong>MetBrewer</strong></a>, colour palettes inspired by works at the Metropolitan Museum of Art in New York</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html"><strong>kableExtra</strong></a><strong>,</strong> for creating and manipulating complex tables</p></li>
<li><p><a href="https://patchwork.data-imaginist.com/"><strong>patchwork</strong></a>,&nbsp;for combining multiple ggplot2 graphs into one figure</p></li>
<li><p><a href="https://plotly.com/r/"><strong>plotly</strong></a>, R library for plotting interactive statistical graphs</p></li>
<li><p><a href="https://readr.tidyverse.org/"><strong>readr</strong></a><strong>,</strong> for importing csv into R</p></li>
<li><p><a href="https://www.tidyverse.org/"><strong>tidyverse</strong></a>, a family of modern R packages specially designed to support data science, analysis and communication task including creating static statistical graphs</p></li>
<li><p><a href="https://cran.r-project.org/web/packages/transformr/index.html"><strong>transformr</strong></a>, to smoothly animate the transformation of polygons and paths</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(crosstalk, DT,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               FunnelPlotR, gganimate,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>               ggdist, ggridges, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>               ggthemes, ggsignif, </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>               ggstatsplot,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>               gifski, kableExtra, </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>               MetBrewer, patchwork, </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>               plotly, tidyverse, </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>               transformr</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>               ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-set" class="level3">
<h3 class="anchored" data-anchor-id="data-set">2.3.2 <strong>Data Set</strong></h3>
<p>Historical daily records of rainfall from MacRitchie Reservoir on February 1983, 1993, 2003, 2013 and 2023 were extracted from the <a href="http://www.weather.gov.sg/climate-historical-daily/">Historical Daily Records</a> page of the Meteorological Service Singapore. 5 different .CSV files were extracted, cleaned and combined to form the dataset <em>rainfall_1983_2023.</em></p>
<section id="creating-the-data-set" class="level4">
<h4 class="anchored" data-anchor-id="creating-the-data-set">2.3.2.1 Creating the data set</h4>
<p>This code chunk below reads all the <em>.csv files</em>, cleans them by removing irrelevant columns e.g.&nbsp;Station, Month etc. and saves them as cleaned <em>.csv files</em> .</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#get all the .csvs present in the directory and then create new files by appending '_cleaned' before .csv </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"data/"</span>,  <span class="at">full.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">'.csv$'</span>) <span class="co">#capture all the files ending in .csv</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>paths_cleaned <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(paths, <span class="st">'.csv$'</span>, <span class="st">'_cleaned.csv'</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>get_csv <span class="ot">&lt;-</span> <span class="cf">function</span>(path, path_clean){</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># read uncleaned, raw, data</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    uncleaned_data    <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(path, <span class="at">fileEncoding =</span> <span class="st">"Latin1"</span>, <span class="at">check.names =</span> F)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract the useful columns</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    cleaned_data <span class="ot">&lt;-</span> uncleaned_data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span><span class="sc">:</span><span class="dv">13</span>)]</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># write the new cleaned data into a new file name (adding "_cleaned" in the end)</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write.table</span>(cleaned_data,</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                path_clean,</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                <span class="at">col.names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">","</span>)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="fu">map2</span>(paths, paths_cleaned, <span class="sc">~</span><span class="fu">get_csv</span>(.x, .y))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This code chunk combines all the cleaned <em>.csv</em> files and creates a new combined_rainfall<em>.csv</em></p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get a list of all .csv files in the "data/" directory</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"data"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">'_cleaned.csv$'</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame to store the combined data</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each .csv file and combine them</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (path <span class="cf">in</span> paths) {</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read each .csv file</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  current_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(path, <span class="at">fileEncoding =</span> <span class="st">"Latin1"</span>, <span class="at">check.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the data</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(combined_data, current_data)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the full path for the output file in the "data" directory</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>output_path <span class="ot">&lt;-</span> <span class="st">"data/combined_rainfall.csv"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the combined data into the specified .csv file</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(combined_data, output_path, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="importing-data" class="level3">
<h3 class="anchored" data-anchor-id="importing-data">2.3.3 <strong>Importing Data</strong></h3>
<p>In the code chunk below,&nbsp;<em>read_csv()</em>&nbsp;of&nbsp;<strong>readr</strong>&nbsp;is used to import <em>combined_rainfall.csv</em> into R and parsed it into tibble R data.frame format.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/combined_rainfall.csv"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="summary-statistics-of-combined_rainfall.csv" class="level3">
<h3 class="anchored" data-anchor-id="summary-statistics-of-combined_rainfall.csv">2.3.4 <strong>Summary Statistics of</strong> <em>combined_rainfall.csv</em></h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Data Table</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Data Structure</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Data Health</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="displaying-the-first-5-rows-of-rainfall-using-head" class="level3">
<h3 class="anchored" data-anchor-id="displaying-the-first-5-rows-of-rainfall-using-head">Displaying the first 5 rows of <strong>rainfall</strong> using <code>head():</code></h3>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rainfall,<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">kable_classic_2</span>(<span class="at">full_width =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="lightable-classic-2 table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">Year</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Day</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Daily Rainfall Total (mm)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1983</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">1983</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0.3</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1983</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="even">
<td style="text-align: right;">1983</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1983</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0.0</td>
</tr>
</tbody>
</table>


</div>
</div>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="checking-the-structure-of-rainfall-using-glimpse" class="level3">
<h3 class="anchored" data-anchor-id="checking-the-structure-of-rainfall-using-glimpse">Checking the structure of <strong>rainfall</strong> using <code>glimpse():</code></h3>
<p><strong>Structure of rainfall</strong></p>
<p>There are 140 rows and 3 columns (Year, Day, Daily Rainfall Total).</p>
<p>Of note, Year and Day have been wrongly labelled as &lt;<code>dbl&gt;</code> when they should be cast as <code>&lt;factor&gt;</code> as they is categorical in nature (for the purpose of this study).</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(rainfall)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 140
Columns: 3
$ Year                        &lt;dbl&gt; 1983, 1983, 1983, 1983, 1983, 1983, 1983, ‚Ä¶
$ Day                         &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,‚Ä¶
$ `Daily Rainfall Total (mm)` &lt;dbl&gt; 0.0, 0.3, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.‚Ä¶</code></pre>
</div>
</div>
</section>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="checking-for-any-symptoms-of-messy-data" class="level3">
<h3 class="anchored" data-anchor-id="checking-for-any-symptoms-of-messy-data">Checking for any symptoms of messy data:</h3>
<div class="focusbox focus">
<p><strong>Symptoms of messy data in rainfall</strong></p>
<ul>
<li>No duplicated rows</li>
<li>No missing values</li>
</ul>
</div>
<section id="checking-for-duplicates" class="level4">
<h4 class="anchored" data-anchor-id="checking-for-duplicates">1. Checking for duplicates:</h4>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rainfall[<span class="fu">duplicated</span>(rainfall),]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 √ó 3
# ‚Ñπ 3 variables: Year &lt;dbl&gt;, Day &lt;dbl&gt;, Daily Rainfall Total (mm) &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="checking-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="checking-missing-values">2. Checking missing values:</h4>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(rainfall))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</section>
</section>
</div>
</div>
</div>
</section>
<section id="altering-combined_rainfall.csv" class="level3">
<h3 class="anchored" data-anchor-id="altering-combined_rainfall.csv">2.3.5 <strong>Altering</strong> <em>combined_rainfall.csv</em></h3>
<section id="data-wrangling-and-manipulation" class="level4">
<h4 class="anchored" data-anchor-id="data-wrangling-and-manipulation"><i class="fa-solid fa-circle-exclamation" aria-label="circle-exclamation"></i> <strong>Data wrangling and manipulation</strong>:</h4>
<ul>
<li><p>The title of <strong>Daily Rainfall Total (mm)</strong> is hard to code with. It was renamed using <code>dplyr::rename()</code> function to <strong>amt_rainfall</strong>.</p></li>
<li><p>New variable <strong>Week</strong> and <strong>rainyday_indicator</strong> are created using <code>mutate()</code> (see <a href="#questions-about-the-data">2.2.1 Questions about the data</a>)</p></li>
<li><p><strong>Year</strong>, <strong>Day, Week</strong> and <strong>rainyday_indicator</strong> are classified as <code>&lt;chr&gt;</code>, but are categorical in nature. This is cast as factor type using <code>as.factor()</code>.</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true"><strong>Step 1: Changing data names:</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false"><strong>Step 2: Aggregating new variables:</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false"><strong>Step 3: Changing data types:</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Renaming variables</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">"amt_rainfall"</span> <span class="ot">=</span> <span class="st">"Daily Rainfall Total (mm)"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Renaming variables</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Week =</span> <span class="fu">ceiling</span>(Day <span class="sc">/</span> <span class="dv">7</span>),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">rainyday_indicator =</span> <span class="fu">ifelse</span>(amt_rainfall <span class="sc">!=</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<details open="" class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Casting ordinal as factor</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#rainfall$Day &lt;- as.factor(rainfall$Day)</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Week <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Week)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#rainfall$rainyday_indicator &lt;- as.factor(rainfall$rainyday_indicator)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="design-of-data-visualisations" class="level1">
<h1>3 Design of Data Visualisations</h1>
<p>Based on the above questions raised in <a href="#questions-raised">2.2 Questions raised</a>, it is good practice to break down the tasks the data visualisations will achieve.</p>
<section id="hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis">3.1 Hypothesis</h2>
<ol type="1">
<li><p>To study the hypothesis: Climate change has caused annual total rainfall to rise at an average rate of 101mm per decade</p>
<ol type="1">
<li>Null hypothesis: Climate change has not caused annual total rainfall to rise per decade.</li>
</ol></li>
</ol>
</section>
<section id="task-analysis" class="level2">
<h2 class="anchored" data-anchor-id="task-analysis">3.2 Task Analysis</h2>
<section id="user-stories" class="level3">
<h3 class="anchored" data-anchor-id="user-stories">3.2.1 User Stories</h3>
<ul>
<li><p>As a casual user, I want to see interesting facts of rainfall at a glance.</p></li>
<li><p>As a casual user, I want to see a snapshot of the rainfall trends e.g.&nbsp;is it increasing, if in line with mean amount of rainfall or an anomaly.</p></li>
<li><p>As an expert user, I want to select a particular day on a yearly chart, so that I can study the weather situation of a selected day.</p></li>
<li><p>As an expert user, I want to see all the changes in rainfall patterns, so that I can see how much rainfall is changing by decade.</p></li>
<li><p>As an expert user, I want to see the distribution of the data and if there are any outliers.</p></li>
</ul>
</section>
<section id="breakdown-of-tasks" class="level3">
<h3 class="anchored" data-anchor-id="breakdown-of-tasks">3.2.2 Breakdown of tasks</h3>
<ol type="1">
<li><p><strong><em>Present</em></strong> the highest amount of rainfall and year with the highest number of rainy days.</p></li>
<li><p><strong><em>Present</em></strong> the yearly and daily trends of rainfall.</p></li>
<li><p><strong><em>Present</em></strong> the yearly and daily distribution of volume of rainfall.</p></li>
<li><p><strong><em>Discover</em></strong> days of interest. The user can interact with each day to obtain details on demand.</p></li>
<li><p><strong><em>Identify</em></strong> how much variation is occurring yearly.</p></li>
<li><p><strong><em>Identify</em></strong> patterns in the rainfall data.</p></li>
<li><p><strong><em>Present</em></strong> how much uncertainty is behind the data visualisations.</p></li>
</ol>
</section>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">3.2 Plots</h2>
<section id="to-present-interesting-facts-of-rainfall-at-a-glance" class="level3">
<h3 class="anchored" data-anchor-id="to-present-interesting-facts-of-rainfall-at-a-glance">3.2.1 To present interesting facts of rainfall at a glance</h3>
<p>Aims</p>
<ol type="1">
<li>To present the highest amount of rainfall and year with the highest number of rainy days.</li>
</ol>
<p>This will be provided in the form of cards in the dashboard:</p>
<ul>
<li><p>A card about the highest amount of rainfall and which day and year it was</p></li>
<li><p>The year with the highest number of rainy days</p></li>
</ul>
</section>
<section id="to-visually-present-the-distribution-of-rainfall-over-time-and-allow-users-to-explore" class="level3">
<h3 class="anchored" data-anchor-id="to-visually-present-the-distribution-of-rainfall-over-time-and-allow-users-to-explore">3.2.2 To visually present the distribution of rainfall over time and allow users to explore</h3>
<p>Aims</p>
<ol type="1">
<li>To present the data in an animated fashion to show changes in rainfall data through time</li>
<li>To present the yearly and daily distribution of volume of rainfall.</li>
<li>To allow users to discover days of interest. The user can interact with each day to obtain details on demand.</li>
</ol>
<p>A bubble plot was selected as it is visually engaging and can communicate about changes of rainfall over time at a very granular level. Following in the footsteps of <a href="https://towardsdatascience.com/visualising-singapores-changing-weather-patterns-1983-2019-a78605fadbdf">Chua (2019)</a>, who visualised Singapore‚Äôs changing weather patterns from 1983‚Äì2019, I chose to reverse the y-axis to simulate the look of falling rain. Unlike his static plot, I wanted to show the changes through the years and chose to animate the plots. The size and colour of the bubbles also reflected the amount of rainfall for that day.</p>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainyfall, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> amt_rainfall, </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                    <span class="at">size =</span> amt_rainfall, </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                      <span class="at">colour =</span> amt_rainfall)) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Years:  1993 - 2023'</span>, </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Days of February'</span>, </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(Year) <span class="sc">+</span>       </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">'linear'</span>) <span class="sc">+</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">+</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>())         </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-13-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainyfall, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) </span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-605834790424bbbe6aed" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-605834790424bbbe6aed">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true},{"x":[-0.35000000000000009,29.350000000000001],"y":[-7.2164285714285716,-7.2164285714285716],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":10.958904109589042},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.35000000000000009,29.350000000000001],"tickmode":"array","ticktext":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"tickvals":[1,2,3,3.9999999999999996,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"categoryorder":"array","categoryarray":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Days of February","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-210,10],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,-50,-100,-150,-200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative","sliders":[{"currentvalue":{"prefix":"~Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["1983"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1983","value":"1983"},{"method":"animate","args":[["1993"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1993","value":"1993"},{"method":"animate","args":[["2003"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2003","value":"2003"},{"method":"animate","args":[["2013"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["2023"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2023","value":"2023"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false}}]}]}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c4793048ef":{"x":{},"y":{},"size":{},"colour":{},"text":{},"frame":{},"type":"scatter"},"82c46a3b30eb":{"yintercept":{}}},"cur_data":"82c4793048ef","visdat":{"82c4793048ef":["function (y) ","x"],"82c46a3b30eb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"1983","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true}],"traces":[0]},{"name":"1993","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-3.2999999999999998,-0.5,-0,-0,-0,-0,-0,-0,-0,-0,-0,-1.6000000000000001,-0,-0.20000000000000001,-7.5999999999999996,-0,-0,-0,-0,-2.1000000000000001,-0,-0,-3.8999999999999999,-3.8999999999999999,-4.9000000000000004,-0,-9.0999999999999996],"text":["Year: 1993 Day: 1 <br> Amount of rainfall: 0","Year: 1993 Day: 2 <br> Amount of rainfall: 3.3","Year: 1993 Day: 3 <br> Amount of rainfall: 0.5","Year: 1993 Day: 4 <br> Amount of rainfall: 0","Year: 1993 Day: 5 <br> Amount of rainfall: 0","Year: 1993 Day: 6 <br> Amount of rainfall: 0","Year: 1993 Day: 7 <br> Amount of rainfall: 0","Year: 1993 Day: 8 <br> Amount of rainfall: 0","Year: 1993 Day: 9 <br> Amount of rainfall: 0","Year: 1993 Day: 10 <br> Amount of rainfall: 0","Year: 1993 Day: 11 <br> Amount of rainfall: 0","Year: 1993 Day: 12 <br> Amount of rainfall: 0","Year: 1993 Day: 13 <br> Amount of rainfall: 1.6","Year: 1993 Day: 14 <br> Amount of rainfall: 0","Year: 1993 Day: 15 <br> Amount of rainfall: 0.2","Year: 1993 Day: 16 <br> Amount of rainfall: 7.6","Year: 1993 Day: 17 <br> Amount of rainfall: 0","Year: 1993 Day: 18 <br> Amount of rainfall: 0","Year: 1993 Day: 19 <br> Amount of rainfall: 0","Year: 1993 Day: 20 <br> Amount of rainfall: 0","Year: 1993 Day: 21 <br> Amount of rainfall: 2.1","Year: 1993 Day: 22 <br> Amount of rainfall: 0","Year: 1993 Day: 23 <br> Amount of rainfall: 0","Year: 1993 Day: 24 <br> Amount of rainfall: 3.9","Year: 1993 Day: 25 <br> Amount of rainfall: 3.9","Year: 1993 Day: 26 <br> Amount of rainfall: 4.9","Year: 1993 Day: 27 <br> Amount of rainfall: 0","Year: 1993 Day: 28 <br> Amount of rainfall: 9.1"],"frame":"1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,11.82734893283739,9.2204862321783612,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,7.559055118110237,8.6098364172954955,14.036506072865778,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.963975683488133,7.559055118110237,7.559055118110237,12.199179696716985,12.199179696716985,12.760157193495585,7.559055118110237,14.646962489940405],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true}],"traces":[0]},{"name":"2003","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-1.2,-5.4000000000000004,-11,-0.20000000000000001,-3.1000000000000001,-1.2,-0.90000000000000002,-0.20000000000000001,-0,-18.800000000000001,-0,-0,-0,-7.2999999999999998,-84,-6,-6.7999999999999998,-9.1999999999999993,-0,-0,-0,-0,-0,-0,-0,-0,-0,-5.2000000000000002],"text":["Year: 2003 Day: 1 <br> Amount of rainfall: 1.2","Year: 2003 Day: 2 <br> Amount of rainfall: 5.4","Year: 2003 Day: 3 <br> Amount of rainfall: 11","Year: 2003 Day: 4 <br> Amount of rainfall: 0.2","Year: 2003 Day: 5 <br> Amount of rainfall: 3.1","Year: 2003 Day: 6 <br> Amount of rainfall: 1.2","Year: 2003 Day: 7 <br> Amount of rainfall: 0.9","Year: 2003 Day: 8 <br> Amount of rainfall: 0.2","Year: 2003 Day: 9 <br> Amount of rainfall: 0","Year: 2003 Day: 10 <br> Amount of rainfall: 18.8","Year: 2003 Day: 11 <br> Amount of rainfall: 0","Year: 2003 Day: 12 <br> Amount of rainfall: 0","Year: 2003 Day: 13 <br> Amount of rainfall: 0","Year: 2003 Day: 14 <br> Amount of rainfall: 7.3","Year: 2003 Day: 15 <br> Amount of rainfall: 84","Year: 2003 Day: 16 <br> Amount of rainfall: 6","Year: 2003 Day: 17 <br> Amount of rainfall: 6.8","Year: 2003 Day: 18 <br> Amount of rainfall: 9.2","Year: 2003 Day: 19 <br> Amount of rainfall: 0","Year: 2003 Day: 20 <br> Amount of rainfall: 0","Year: 2003 Day: 21 <br> Amount of rainfall: 0","Year: 2003 Day: 22 <br> Amount of rainfall: 0","Year: 2003 Day: 23 <br> Amount of rainfall: 0","Year: 2003 Day: 24 <br> Amount of rainfall: 0","Year: 2003 Day: 25 <br> Amount of rainfall: 0","Year: 2003 Day: 26 <br> Amount of rainfall: 0","Year: 2003 Day: 27 <br> Amount of rainfall: 0","Year: 2003 Day: 28 <br> Amount of rainfall: 5.2"],"frame":"2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"],"opacity":0.69999999999999996,"size":[10.132933132372909,13.019074911606541,15.351857799396367,8.6098364172954955,11.695985229934781,10.132933132372909,9.788098864703958,8.6098364172954955,7.559055118110237,17.746757795330517,7.559055118110237,7.559055118110237,7.559055118110237,13.907374491234693,29.093663595195054,13.314421323793747,13.686110325662527,14.685800629281738,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,12.917009467174246],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true}],"traces":[0]},{"name":"2013","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0,-39.399999999999999,-0.40000000000000002,-28.600000000000001,-17.600000000000001,-9.1999999999999993,-35.600000000000001,-54.799999999999997,-10.199999999999999,-1.2,-14.4,-0.40000000000000002,-50.399999999999999,-44.200000000000003,-3.3999999999999999,-0.20000000000000001,-23.800000000000001,-0.80000000000000004,-0.40000000000000002,-8.1999999999999993,-0,-0,-0,-25.199999999999999,-58.200000000000003,-1.8,-0],"text":["Year: 2013 Day: 1 <br> Amount of rainfall: 0","Year: 2013 Day: 2 <br> Amount of rainfall: 0","Year: 2013 Day: 3 <br> Amount of rainfall: 39.4","Year: 2013 Day: 4 <br> Amount of rainfall: 0.4","Year: 2013 Day: 5 <br> Amount of rainfall: 28.6","Year: 2013 Day: 6 <br> Amount of rainfall: 17.6","Year: 2013 Day: 7 <br> Amount of rainfall: 9.2","Year: 2013 Day: 8 <br> Amount of rainfall: 35.6","Year: 2013 Day: 9 <br> Amount of rainfall: 54.8","Year: 2013 Day: 10 <br> Amount of rainfall: 10.2","Year: 2013 Day: 11 <br> Amount of rainfall: 1.2","Year: 2013 Day: 12 <br> Amount of rainfall: 14.4","Year: 2013 Day: 13 <br> Amount of rainfall: 0.4","Year: 2013 Day: 14 <br> Amount of rainfall: 50.4","Year: 2013 Day: 15 <br> Amount of rainfall: 44.2","Year: 2013 Day: 16 <br> Amount of rainfall: 3.4","Year: 2013 Day: 17 <br> Amount of rainfall: 0.2","Year: 2013 Day: 18 <br> Amount of rainfall: 23.8","Year: 2013 Day: 19 <br> Amount of rainfall: 0.8","Year: 2013 Day: 20 <br> Amount of rainfall: 0.4","Year: 2013 Day: 21 <br> Amount of rainfall: 8.2","Year: 2013 Day: 22 <br> Amount of rainfall: 0","Year: 2013 Day: 23 <br> Amount of rainfall: 0","Year: 2013 Day: 24 <br> Amount of rainfall: 0","Year: 2013 Day: 25 <br> Amount of rainfall: 25.2","Year: 2013 Day: 26 <br> Amount of rainfall: 58.2","Year: 2013 Day: 27 <br> Amount of rainfall: 1.8","Year: 2013 Day: 28 <br> Amount of rainfall: 0"],"frame":"2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,7.559055118110237,22.30747346474455,9.0450842825060498,20.124571877742405,17.416257449762789,14.685800629281738,21.578226216706184,24.952580545940677,15.063134560293031,10.132933132372909,16.475230104485117,9.0450842825060498,24.239691117879552,23.180042150194947,11.891537404074811,8.6098364172954955,19.021725806365126,9.6606177164807541,9.0450842825060498,14.287338323164542,7.559055118110237,7.559055118110237,7.559055118110237,19.354045948051564,25.484041298489313,10.711399015666011,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true}],"traces":[0]},{"name":"2023","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-4.7999999999999998,-27,-6.4000000000000004,-13.800000000000001,-0,-0,-49.200000000000003,-9.4000000000000004,-7.2000000000000002,-0,-35,-0.20000000000000001,-27,-18.600000000000001,-0,-0,-0,-0,-0,-0,-0.20000000000000001,-0,-0,-0,-1.6000000000000001,-1.8,-165.59999999999999],"text":["Year: 2023 Day: 1 <br> Amount of rainfall: 0","Year: 2023 Day: 2 <br> Amount of rainfall: 4.8","Year: 2023 Day: 3 <br> Amount of rainfall: 27","Year: 2023 Day: 4 <br> Amount of rainfall: 6.4","Year: 2023 Day: 5 <br> Amount of rainfall: 13.8","Year: 2023 Day: 6 <br> Amount of rainfall: 0","Year: 2023 Day: 7 <br> Amount of rainfall: 0","Year: 2023 Day: 8 <br> Amount of rainfall: 49.2","Year: 2023 Day: 9 <br> Amount of rainfall: 9.4","Year: 2023 Day: 10 <br> Amount of rainfall: 7.2","Year: 2023 Day: 11 <br> Amount of rainfall: 0","Year: 2023 Day: 12 <br> Amount of rainfall: 35","Year: 2023 Day: 13 <br> Amount of rainfall: 0.2","Year: 2023 Day: 14 <br> Amount of rainfall: 27","Year: 2023 Day: 15 <br> Amount of rainfall: 18.6","Year: 2023 Day: 16 <br> Amount of rainfall: 0","Year: 2023 Day: 17 <br> Amount of rainfall: 0","Year: 2023 Day: 18 <br> Amount of rainfall: 0","Year: 2023 Day: 19 <br> Amount of rainfall: 0","Year: 2023 Day: 20 <br> Amount of rainfall: 0","Year: 2023 Day: 21 <br> Amount of rainfall: 0","Year: 2023 Day: 22 <br> Amount of rainfall: 0.2","Year: 2023 Day: 23 <br> Amount of rainfall: 0","Year: 2023 Day: 24 <br> Amount of rainfall: 0","Year: 2023 Day: 25 <br> Amount of rainfall: 0","Year: 2023 Day: 26 <br> Amount of rainfall: 1.6","Year: 2023 Day: 27 <br> Amount of rainfall: 1.8","Year: 2023 Day: 28 <br> Amount of rainfall: 165.6"],"frame":"2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,12.706811146635584,19.768030534862337,13.503171775693493,16.287500132630562,7.559055118110237,7.559055118110237,24.039915815431094,14.762848765885041,13.86374291322179,7.559055118110237,21.459585117917996,8.6098364172954955,19.768030534862337,17.692422993635322,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,8.6098364172954955,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,10.711399015666011,37.795275590551185],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"]}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<p>As can be seen in the two plots above, the chart on the left is animated and on autoplay. It provides a quick look at how the amount of rainfall and number of rainy days have increased. However, it is limited as the user cannot interact with the plot and explore any days of interest. The chart on the right is both animated and interactive - the user can see the changes through time and also explore any bubbles of interest. Yet, it is not on autoplay but this feature is not so important if interactivity is an aim of this visualisation.</p>
<p>To further enhance interactivity, an interactive datatable using <code>DT()</code> was added and linked to the interactive bubble plot using <code>crosstalk()</code>. This allows the user to explore the data at the</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>rain_data <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(rainyfall)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>rain_p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rain_data, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) </span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>rain_highlight <span class="ot">&lt;-</span> <span class="fu">highlight</span>(<span class="fu">ggplotly</span>(rain_p,, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>), </span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">on =</span> <span class="st">"plotly_selected"</span>,</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="st">"plotly_doubleclick"</span>)</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>interactive <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span><span class="fu">bscols</span>(rain_highlight,</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>                  DT<span class="sc">::</span><span class="fu">datatable</span>(rain_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)),</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>                  <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>interactive</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="container-fluid crosstalk-bscols">
<div class="row">
<div class="col-xs-11">
<div class="plotly html-widget html-fill-item" id="htmlwidget-59e16983118dccf1bbec" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-59e16983118dccf1bbec">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true},{"x":[-0.35000000000000009,29.350000000000001],"y":[-7.2164285714285716,-7.2164285714285716],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":10.958904109589042},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.35000000000000009,29.350000000000001],"tickmode":"array","ticktext":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"tickvals":[1,2,3,3.9999999999999996,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"categoryorder":"array","categoryarray":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Days of February","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-210,10],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,-50,-100,-150,-200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative","dragmode":"select","sliders":[{"currentvalue":{"prefix":"~Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["1983"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1983","value":"1983"},{"method":"animate","args":[["1993"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1993","value":"1993"},{"method":"animate","args":[["2003"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2003","value":"2003"},{"method":"animate","args":[["2013"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["2023"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2023","value":"2023"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false}}]}]}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c470ba2cc2":{"x":{},"y":{},"size":{},"colour":{},"text":{},"frame":{},"type":"scatter"},"82c42e488c":{"yintercept":{}}},"cur_data":"82c470ba2cc2","visdat":{"82c470ba2cc2":["function (y) ","x"],"82c42e488c":["function (y) ","x"]},"highlight":{"on":"plotly_selected","off":"plotly_doubleclick","persistent":false,"dynamic":false,"color":null,"selectize":false,"defaultValues":null,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0,"ctGroups":["SharedData60583479"]},"frames":[{"name":"1983","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"1993","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-3.2999999999999998,-0.5,-0,-0,-0,-0,-0,-0,-0,-0,-0,-1.6000000000000001,-0,-0.20000000000000001,-7.5999999999999996,-0,-0,-0,-0,-2.1000000000000001,-0,-0,-3.8999999999999999,-3.8999999999999999,-4.9000000000000004,-0,-9.0999999999999996],"text":["Year: 1993 Day: 1 <br> Amount of rainfall: 0","Year: 1993 Day: 2 <br> Amount of rainfall: 3.3","Year: 1993 Day: 3 <br> Amount of rainfall: 0.5","Year: 1993 Day: 4 <br> Amount of rainfall: 0","Year: 1993 Day: 5 <br> Amount of rainfall: 0","Year: 1993 Day: 6 <br> Amount of rainfall: 0","Year: 1993 Day: 7 <br> Amount of rainfall: 0","Year: 1993 Day: 8 <br> Amount of rainfall: 0","Year: 1993 Day: 9 <br> Amount of rainfall: 0","Year: 1993 Day: 10 <br> Amount of rainfall: 0","Year: 1993 Day: 11 <br> Amount of rainfall: 0","Year: 1993 Day: 12 <br> Amount of rainfall: 0","Year: 1993 Day: 13 <br> Amount of rainfall: 1.6","Year: 1993 Day: 14 <br> Amount of rainfall: 0","Year: 1993 Day: 15 <br> Amount of rainfall: 0.2","Year: 1993 Day: 16 <br> Amount of rainfall: 7.6","Year: 1993 Day: 17 <br> Amount of rainfall: 0","Year: 1993 Day: 18 <br> Amount of rainfall: 0","Year: 1993 Day: 19 <br> Amount of rainfall: 0","Year: 1993 Day: 20 <br> Amount of rainfall: 0","Year: 1993 Day: 21 <br> Amount of rainfall: 2.1","Year: 1993 Day: 22 <br> Amount of rainfall: 0","Year: 1993 Day: 23 <br> Amount of rainfall: 0","Year: 1993 Day: 24 <br> Amount of rainfall: 3.9","Year: 1993 Day: 25 <br> Amount of rainfall: 3.9","Year: 1993 Day: 26 <br> Amount of rainfall: 4.9","Year: 1993 Day: 27 <br> Amount of rainfall: 0","Year: 1993 Day: 28 <br> Amount of rainfall: 9.1"],"key":["29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56"],"frame":"1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,11.82734893283739,9.2204862321783612,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,7.559055118110237,8.6098364172954955,14.036506072865778,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.963975683488133,7.559055118110237,7.559055118110237,12.199179696716985,12.199179696716985,12.760157193495585,7.559055118110237,14.646962489940405],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2003","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-1.2,-5.4000000000000004,-11,-0.20000000000000001,-3.1000000000000001,-1.2,-0.90000000000000002,-0.20000000000000001,-0,-18.800000000000001,-0,-0,-0,-7.2999999999999998,-84,-6,-6.7999999999999998,-9.1999999999999993,-0,-0,-0,-0,-0,-0,-0,-0,-0,-5.2000000000000002],"text":["Year: 2003 Day: 1 <br> Amount of rainfall: 1.2","Year: 2003 Day: 2 <br> Amount of rainfall: 5.4","Year: 2003 Day: 3 <br> Amount of rainfall: 11","Year: 2003 Day: 4 <br> Amount of rainfall: 0.2","Year: 2003 Day: 5 <br> Amount of rainfall: 3.1","Year: 2003 Day: 6 <br> Amount of rainfall: 1.2","Year: 2003 Day: 7 <br> Amount of rainfall: 0.9","Year: 2003 Day: 8 <br> Amount of rainfall: 0.2","Year: 2003 Day: 9 <br> Amount of rainfall: 0","Year: 2003 Day: 10 <br> Amount of rainfall: 18.8","Year: 2003 Day: 11 <br> Amount of rainfall: 0","Year: 2003 Day: 12 <br> Amount of rainfall: 0","Year: 2003 Day: 13 <br> Amount of rainfall: 0","Year: 2003 Day: 14 <br> Amount of rainfall: 7.3","Year: 2003 Day: 15 <br> Amount of rainfall: 84","Year: 2003 Day: 16 <br> Amount of rainfall: 6","Year: 2003 Day: 17 <br> Amount of rainfall: 6.8","Year: 2003 Day: 18 <br> Amount of rainfall: 9.2","Year: 2003 Day: 19 <br> Amount of rainfall: 0","Year: 2003 Day: 20 <br> Amount of rainfall: 0","Year: 2003 Day: 21 <br> Amount of rainfall: 0","Year: 2003 Day: 22 <br> Amount of rainfall: 0","Year: 2003 Day: 23 <br> Amount of rainfall: 0","Year: 2003 Day: 24 <br> Amount of rainfall: 0","Year: 2003 Day: 25 <br> Amount of rainfall: 0","Year: 2003 Day: 26 <br> Amount of rainfall: 0","Year: 2003 Day: 27 <br> Amount of rainfall: 0","Year: 2003 Day: 28 <br> Amount of rainfall: 5.2"],"key":["57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84"],"frame":"2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"],"opacity":0.69999999999999996,"size":[10.132933132372909,13.019074911606541,15.351857799396367,8.6098364172954955,11.695985229934781,10.132933132372909,9.788098864703958,8.6098364172954955,7.559055118110237,17.746757795330517,7.559055118110237,7.559055118110237,7.559055118110237,13.907374491234693,29.093663595195054,13.314421323793747,13.686110325662527,14.685800629281738,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,12.917009467174246],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2013","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0,-39.399999999999999,-0.40000000000000002,-28.600000000000001,-17.600000000000001,-9.1999999999999993,-35.600000000000001,-54.799999999999997,-10.199999999999999,-1.2,-14.4,-0.40000000000000002,-50.399999999999999,-44.200000000000003,-3.3999999999999999,-0.20000000000000001,-23.800000000000001,-0.80000000000000004,-0.40000000000000002,-8.1999999999999993,-0,-0,-0,-25.199999999999999,-58.200000000000003,-1.8,-0],"text":["Year: 2013 Day: 1 <br> Amount of rainfall: 0","Year: 2013 Day: 2 <br> Amount of rainfall: 0","Year: 2013 Day: 3 <br> Amount of rainfall: 39.4","Year: 2013 Day: 4 <br> Amount of rainfall: 0.4","Year: 2013 Day: 5 <br> Amount of rainfall: 28.6","Year: 2013 Day: 6 <br> Amount of rainfall: 17.6","Year: 2013 Day: 7 <br> Amount of rainfall: 9.2","Year: 2013 Day: 8 <br> Amount of rainfall: 35.6","Year: 2013 Day: 9 <br> Amount of rainfall: 54.8","Year: 2013 Day: 10 <br> Amount of rainfall: 10.2","Year: 2013 Day: 11 <br> Amount of rainfall: 1.2","Year: 2013 Day: 12 <br> Amount of rainfall: 14.4","Year: 2013 Day: 13 <br> Amount of rainfall: 0.4","Year: 2013 Day: 14 <br> Amount of rainfall: 50.4","Year: 2013 Day: 15 <br> Amount of rainfall: 44.2","Year: 2013 Day: 16 <br> Amount of rainfall: 3.4","Year: 2013 Day: 17 <br> Amount of rainfall: 0.2","Year: 2013 Day: 18 <br> Amount of rainfall: 23.8","Year: 2013 Day: 19 <br> Amount of rainfall: 0.8","Year: 2013 Day: 20 <br> Amount of rainfall: 0.4","Year: 2013 Day: 21 <br> Amount of rainfall: 8.2","Year: 2013 Day: 22 <br> Amount of rainfall: 0","Year: 2013 Day: 23 <br> Amount of rainfall: 0","Year: 2013 Day: 24 <br> Amount of rainfall: 0","Year: 2013 Day: 25 <br> Amount of rainfall: 25.2","Year: 2013 Day: 26 <br> Amount of rainfall: 58.2","Year: 2013 Day: 27 <br> Amount of rainfall: 1.8","Year: 2013 Day: 28 <br> Amount of rainfall: 0"],"key":["85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112"],"frame":"2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,7.559055118110237,22.30747346474455,9.0450842825060498,20.124571877742405,17.416257449762789,14.685800629281738,21.578226216706184,24.952580545940677,15.063134560293031,10.132933132372909,16.475230104485117,9.0450842825060498,24.239691117879552,23.180042150194947,11.891537404074811,8.6098364172954955,19.021725806365126,9.6606177164807541,9.0450842825060498,14.287338323164542,7.559055118110237,7.559055118110237,7.559055118110237,19.354045948051564,25.484041298489313,10.711399015666011,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2023","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-4.7999999999999998,-27,-6.4000000000000004,-13.800000000000001,-0,-0,-49.200000000000003,-9.4000000000000004,-7.2000000000000002,-0,-35,-0.20000000000000001,-27,-18.600000000000001,-0,-0,-0,-0,-0,-0,-0.20000000000000001,-0,-0,-0,-1.6000000000000001,-1.8,-165.59999999999999],"text":["Year: 2023 Day: 1 <br> Amount of rainfall: 0","Year: 2023 Day: 2 <br> Amount of rainfall: 4.8","Year: 2023 Day: 3 <br> Amount of rainfall: 27","Year: 2023 Day: 4 <br> Amount of rainfall: 6.4","Year: 2023 Day: 5 <br> Amount of rainfall: 13.8","Year: 2023 Day: 6 <br> Amount of rainfall: 0","Year: 2023 Day: 7 <br> Amount of rainfall: 0","Year: 2023 Day: 8 <br> Amount of rainfall: 49.2","Year: 2023 Day: 9 <br> Amount of rainfall: 9.4","Year: 2023 Day: 10 <br> Amount of rainfall: 7.2","Year: 2023 Day: 11 <br> Amount of rainfall: 0","Year: 2023 Day: 12 <br> Amount of rainfall: 35","Year: 2023 Day: 13 <br> Amount of rainfall: 0.2","Year: 2023 Day: 14 <br> Amount of rainfall: 27","Year: 2023 Day: 15 <br> Amount of rainfall: 18.6","Year: 2023 Day: 16 <br> Amount of rainfall: 0","Year: 2023 Day: 17 <br> Amount of rainfall: 0","Year: 2023 Day: 18 <br> Amount of rainfall: 0","Year: 2023 Day: 19 <br> Amount of rainfall: 0","Year: 2023 Day: 20 <br> Amount of rainfall: 0","Year: 2023 Day: 21 <br> Amount of rainfall: 0","Year: 2023 Day: 22 <br> Amount of rainfall: 0.2","Year: 2023 Day: 23 <br> Amount of rainfall: 0","Year: 2023 Day: 24 <br> Amount of rainfall: 0","Year: 2023 Day: 25 <br> Amount of rainfall: 0","Year: 2023 Day: 26 <br> Amount of rainfall: 1.6","Year: 2023 Day: 27 <br> Amount of rainfall: 1.8","Year: 2023 Day: 28 <br> Amount of rainfall: 165.6"],"key":["113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"frame":"2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,12.706811146635584,19.768030534862337,13.503171775693493,16.287500132630562,7.559055118110237,7.559055118110237,24.039915815431094,14.762848765885041,13.86374291322179,7.559055118110237,21.459585117917996,8.6098364172954955,19.768030534862337,17.692422993635322,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,8.6098364172954955,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,10.711399015666011,37.795275590551185],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"]}},"hoveron":"points","set":"SharedData60583479","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="col-xs-11">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d6115a75f9faef16af73" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d6115a75f9faef16af73">{"x":{"crosstalkOptions":{"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"group":"SharedData60583479"},"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],[1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],[0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,8.300000000000001,7.9,0,0,0,0,0,0,0,0,0,0,0,0,3.3,0.5,0,0,0,0,0,0,0,0,0,1.6,0,0.2,7.6,0,0,0,0,2.1,0,0,3.9,3.9,4.9,0,9.1,1.2,5.4,11,0.2,3.1,1.2,0.9,0.2,0,18.8,0,0,0,7.3,84,6,6.8,9.199999999999999,0,0,0,0,0,0,0,0,0,5.2,0,0,39.4,0.4,28.6,17.6,9.199999999999999,35.6,54.8,10.2,1.2,14.4,0.4,50.4,44.2,3.4,0.2,23.8,0.8,0.4,8.199999999999999,0,0,0,25.2,58.2,1.8,0,0,4.8,27,6.4,13.8,0,0,49.2,9.4,7.2,0,35,0.2,27,18.6,0,0,0,0,0,0,0.2,0,0,0,1.6,1.8,165.6],["1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4"],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Day<\/th>\n      <th>amt_rainfall<\/th>\n      <th>Week<\/th>\n      <th>rainyday_indicator<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Year","targets":1},{"name":"Day","targets":2},{"name":"amt_rainfall","targets":3},{"name":"Week","targets":4},{"name":"rainyday_indicator","targets":5}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
<p>However, while pretty, bubble plots are limited in offering a clear snapshot of trends as bubble plots rely on spatial positioning (although I think the inverse y-axis to simulate this helps alleviate this issue). Yet, the data is too granular at this level and the data set is too small.</p>
</section>
<section id="to-present-a-snapshot-of-patterns-and-trends-from-a-higher-level" class="level3">
<h3 class="anchored" data-anchor-id="to-present-a-snapshot-of-patterns-and-trends-from-a-higher-level">3.2.3 To present a snapshot of patterns and trends from a higher level</h3>
<p>Aims</p>
<ol type="1">
<li>To move away from granular data</li>
<li>To present clear trends in the daily and yearly data</li>
<li>To identify patterns in the rainfall data</li>
<li>To present how much uncertainty is behind the data visualisations.</li>
</ol>
<section id="for-daily-trends" class="level4">
<h4 class="anchored" data-anchor-id="for-daily-trends">3.2.3.1 For daily trends</h4>
<p>To study the daily trends of the amount of rainfall, a calendar heatmap was selected to reveal temporal patterns in data. At a quick glance, we can compare rainfall patterns across the year intervals simultaneously and how the conditions change through time through the intensity of the colours reflecting the varying amounts of rainfall.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(rainfall,<span class="fu">aes</span>(Day, Year, <span class="at">fill=</span>amt_rainfall))<span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color=</span> <span class="st">"white"</span>,<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Amount of Rainfall in Days"</span>, </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Amount of rainfall"</span>) <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>heatmap <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">colour=</span><span class="st">"white"</span>))<span class="sc">+</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">hjust=</span><span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks=</span><span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))<span class="sc">+</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day), <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)) </span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(heatmap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-3ebc8f336e469fcf0568" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3ebc8f336e469fcf0568">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[1,2,3,4,5],"z":[[0,0.0018115942028985507,0,0,0,0,0,0,0,0,0,0,0,0,0,0.050120772946859911,0.047705314009661839,0,0,0,0,0,0,0,0,0,0,0],[0,0.019927536231884056,0.0030193236714975845,0,0,0,0,0,0,0,0,0,0.0096618357487922718,0,0.001207729468599034,0.045893719806763288,0,0,0,0,0.012681159420289856,0,0,0.02355072463768116,0.02355072463768116,0.029589371980676332,0,0.05495169082125604],[0.007246376811594203,0.032608695652173919,0.066425120772946863,0.001207729468599034,0.018719806763285024,0.007246376811594203,0.0054347826086956529,0.001207729468599034,0,0.11352657004830918,0,0,0,0.044082125603864736,0.50724637681159424,0.036231884057971016,0.041062801932367152,0.055555555555555552,0,0,0,0,0,0,0,0,0,0.03140096618357488],[0,0,0.23792270531400966,0.002415458937198068,0.17270531400966185,0.10628019323671499,0.055555555555555552,0.21497584541062803,0.33091787439613524,0.061594202898550721,0.007246376811594203,0.086956521739130446,0.002415458937198068,0.30434782608695654,0.26690821256038649,0.020531400966183576,0.001207729468599034,0.14371980676328502,0.0048309178743961359,0.002415458937198068,0.049516908212560384,0,0,0,0.15217391304347827,0.35144927536231885,0.010869565217391306,0],[0,0.028985507246376812,0.16304347826086957,0.038647342995169087,0.083333333333333343,0,0,0.29710144927536236,0.056763285024154592,0.043478260869565223,0,0.21135265700483091,0.001207729468599034,0.16304347826086957,0.11231884057971016,0,0,0,0,0,0,0.001207729468599034,0,0,0,0.0096618357487922718,0.010869565217391306,1]],"text":[["Day:  1<br />Year: 1983<br />amt_rainfall:   0.0","Day:  2<br />Year: 1983<br />amt_rainfall:   0.3","Day:  3<br />Year: 1983<br />amt_rainfall:   0.0","Day:  4<br />Year: 1983<br />amt_rainfall:   0.0","Day:  5<br />Year: 1983<br />amt_rainfall:   0.0","Day:  6<br />Year: 1983<br />amt_rainfall:   0.0","Day:  7<br />Year: 1983<br />amt_rainfall:   0.0","Day:  8<br />Year: 1983<br />amt_rainfall:   0.0","Day:  9<br />Year: 1983<br />amt_rainfall:   0.0","Day: 10<br />Year: 1983<br />amt_rainfall:   0.0","Day: 11<br />Year: 1983<br />amt_rainfall:   0.0","Day: 12<br />Year: 1983<br />amt_rainfall:   0.0","Day: 13<br />Year: 1983<br />amt_rainfall:   0.0","Day: 14<br />Year: 1983<br />amt_rainfall:   0.0","Day: 15<br />Year: 1983<br />amt_rainfall:   0.0","Day: 16<br />Year: 1983<br />amt_rainfall:   8.3","Day: 17<br />Year: 1983<br />amt_rainfall:   7.9","Day: 18<br />Year: 1983<br />amt_rainfall:   0.0","Day: 19<br />Year: 1983<br />amt_rainfall:   0.0","Day: 20<br />Year: 1983<br />amt_rainfall:   0.0","Day: 21<br />Year: 1983<br />amt_rainfall:   0.0","Day: 22<br />Year: 1983<br />amt_rainfall:   0.0","Day: 23<br />Year: 1983<br />amt_rainfall:   0.0","Day: 24<br />Year: 1983<br />amt_rainfall:   0.0","Day: 25<br />Year: 1983<br />amt_rainfall:   0.0","Day: 26<br />Year: 1983<br />amt_rainfall:   0.0","Day: 27<br />Year: 1983<br />amt_rainfall:   0.0","Day: 28<br />Year: 1983<br />amt_rainfall:   0.0"],["Day:  1<br />Year: 1993<br />amt_rainfall:   0.0","Day:  2<br />Year: 1993<br />amt_rainfall:   3.3","Day:  3<br />Year: 1993<br />amt_rainfall:   0.5","Day:  4<br />Year: 1993<br />amt_rainfall:   0.0","Day:  5<br />Year: 1993<br />amt_rainfall:   0.0","Day:  6<br />Year: 1993<br />amt_rainfall:   0.0","Day:  7<br />Year: 1993<br />amt_rainfall:   0.0","Day:  8<br />Year: 1993<br />amt_rainfall:   0.0","Day:  9<br />Year: 1993<br />amt_rainfall:   0.0","Day: 10<br />Year: 1993<br />amt_rainfall:   0.0","Day: 11<br />Year: 1993<br />amt_rainfall:   0.0","Day: 12<br />Year: 1993<br />amt_rainfall:   0.0","Day: 13<br />Year: 1993<br />amt_rainfall:   1.6","Day: 14<br />Year: 1993<br />amt_rainfall:   0.0","Day: 15<br />Year: 1993<br />amt_rainfall:   0.2","Day: 16<br />Year: 1993<br />amt_rainfall:   7.6","Day: 17<br />Year: 1993<br />amt_rainfall:   0.0","Day: 18<br />Year: 1993<br />amt_rainfall:   0.0","Day: 19<br />Year: 1993<br />amt_rainfall:   0.0","Day: 20<br />Year: 1993<br />amt_rainfall:   0.0","Day: 21<br />Year: 1993<br />amt_rainfall:   2.1","Day: 22<br />Year: 1993<br />amt_rainfall:   0.0","Day: 23<br />Year: 1993<br />amt_rainfall:   0.0","Day: 24<br />Year: 1993<br />amt_rainfall:   3.9","Day: 25<br />Year: 1993<br />amt_rainfall:   3.9","Day: 26<br />Year: 1993<br />amt_rainfall:   4.9","Day: 27<br />Year: 1993<br />amt_rainfall:   0.0","Day: 28<br />Year: 1993<br />amt_rainfall:   9.1"],["Day:  1<br />Year: 2003<br />amt_rainfall:   1.2","Day:  2<br />Year: 2003<br />amt_rainfall:   5.4","Day:  3<br />Year: 2003<br />amt_rainfall:  11.0","Day:  4<br />Year: 2003<br />amt_rainfall:   0.2","Day:  5<br />Year: 2003<br />amt_rainfall:   3.1","Day:  6<br />Year: 2003<br />amt_rainfall:   1.2","Day:  7<br />Year: 2003<br />amt_rainfall:   0.9","Day:  8<br />Year: 2003<br />amt_rainfall:   0.2","Day:  9<br />Year: 2003<br />amt_rainfall:   0.0","Day: 10<br />Year: 2003<br />amt_rainfall:  18.8","Day: 11<br />Year: 2003<br />amt_rainfall:   0.0","Day: 12<br />Year: 2003<br />amt_rainfall:   0.0","Day: 13<br />Year: 2003<br />amt_rainfall:   0.0","Day: 14<br />Year: 2003<br />amt_rainfall:   7.3","Day: 15<br />Year: 2003<br />amt_rainfall:  84.0","Day: 16<br />Year: 2003<br />amt_rainfall:   6.0","Day: 17<br />Year: 2003<br />amt_rainfall:   6.8","Day: 18<br />Year: 2003<br />amt_rainfall:   9.2","Day: 19<br />Year: 2003<br />amt_rainfall:   0.0","Day: 20<br />Year: 2003<br />amt_rainfall:   0.0","Day: 21<br />Year: 2003<br />amt_rainfall:   0.0","Day: 22<br />Year: 2003<br />amt_rainfall:   0.0","Day: 23<br />Year: 2003<br />amt_rainfall:   0.0","Day: 24<br />Year: 2003<br />amt_rainfall:   0.0","Day: 25<br />Year: 2003<br />amt_rainfall:   0.0","Day: 26<br />Year: 2003<br />amt_rainfall:   0.0","Day: 27<br />Year: 2003<br />amt_rainfall:   0.0","Day: 28<br />Year: 2003<br />amt_rainfall:   5.2"],["Day:  1<br />Year: 2013<br />amt_rainfall:   0.0","Day:  2<br />Year: 2013<br />amt_rainfall:   0.0","Day:  3<br />Year: 2013<br />amt_rainfall:  39.4","Day:  4<br />Year: 2013<br />amt_rainfall:   0.4","Day:  5<br />Year: 2013<br />amt_rainfall:  28.6","Day:  6<br />Year: 2013<br />amt_rainfall:  17.6","Day:  7<br />Year: 2013<br />amt_rainfall:   9.2","Day:  8<br />Year: 2013<br />amt_rainfall:  35.6","Day:  9<br />Year: 2013<br />amt_rainfall:  54.8","Day: 10<br />Year: 2013<br />amt_rainfall:  10.2","Day: 11<br />Year: 2013<br />amt_rainfall:   1.2","Day: 12<br />Year: 2013<br />amt_rainfall:  14.4","Day: 13<br />Year: 2013<br />amt_rainfall:   0.4","Day: 14<br />Year: 2013<br />amt_rainfall:  50.4","Day: 15<br />Year: 2013<br />amt_rainfall:  44.2","Day: 16<br />Year: 2013<br />amt_rainfall:   3.4","Day: 17<br />Year: 2013<br />amt_rainfall:   0.2","Day: 18<br />Year: 2013<br />amt_rainfall:  23.8","Day: 19<br />Year: 2013<br />amt_rainfall:   0.8","Day: 20<br />Year: 2013<br />amt_rainfall:   0.4","Day: 21<br />Year: 2013<br />amt_rainfall:   8.2","Day: 22<br />Year: 2013<br />amt_rainfall:   0.0","Day: 23<br />Year: 2013<br />amt_rainfall:   0.0","Day: 24<br />Year: 2013<br />amt_rainfall:   0.0","Day: 25<br />Year: 2013<br />amt_rainfall:  25.2","Day: 26<br />Year: 2013<br />amt_rainfall:  58.2","Day: 27<br />Year: 2013<br />amt_rainfall:   1.8","Day: 28<br />Year: 2013<br />amt_rainfall:   0.0"],["Day:  1<br />Year: 2023<br />amt_rainfall:   0.0","Day:  2<br />Year: 2023<br />amt_rainfall:   4.8","Day:  3<br />Year: 2023<br />amt_rainfall:  27.0","Day:  4<br />Year: 2023<br />amt_rainfall:   6.4","Day:  5<br />Year: 2023<br />amt_rainfall:  13.8","Day:  6<br />Year: 2023<br />amt_rainfall:   0.0","Day:  7<br />Year: 2023<br />amt_rainfall:   0.0","Day:  8<br />Year: 2023<br />amt_rainfall:  49.2","Day:  9<br />Year: 2023<br />amt_rainfall:   9.4","Day: 10<br />Year: 2023<br />amt_rainfall:   7.2","Day: 11<br />Year: 2023<br />amt_rainfall:   0.0","Day: 12<br />Year: 2023<br />amt_rainfall:  35.0","Day: 13<br />Year: 2023<br />amt_rainfall:   0.2","Day: 14<br />Year: 2023<br />amt_rainfall:  27.0","Day: 15<br />Year: 2023<br />amt_rainfall:  18.6","Day: 16<br />Year: 2023<br />amt_rainfall:   0.0","Day: 17<br />Year: 2023<br />amt_rainfall:   0.0","Day: 18<br />Year: 2023<br />amt_rainfall:   0.0","Day: 19<br />Year: 2023<br />amt_rainfall:   0.0","Day: 20<br />Year: 2023<br />amt_rainfall:   0.0","Day: 21<br />Year: 2023<br />amt_rainfall:   0.0","Day: 22<br />Year: 2023<br />amt_rainfall:   0.2","Day: 23<br />Year: 2023<br />amt_rainfall:   0.0","Day: 24<br />Year: 2023<br />amt_rainfall:   0.0","Day: 25<br />Year: 2023<br />amt_rainfall:   0.0","Day: 26<br />Year: 2023<br />amt_rainfall:   1.6","Day: 27<br />Year: 2023<br />amt_rainfall:   1.8","Day: 28<br />Year: 2023<br />amt_rainfall: 165.6"]],"colorscale":[[0,"#132B43"],[0.001207729468599034,"#132B43"],[0.0018115942028985507,"#132B43"],[0.002415458937198068,"#132B43"],[0.0030193236714975845,"#132B43"],[0.0048309178743961359,"#132C44"],[0.0054347826086956529,"#132C44"],[0.007246376811594203,"#132C44"],[0.0096618357487922718,"#142C45"],[0.010869565217391306,"#142C45"],[0.012681159420289856,"#142C45"],[0.018719806763285024,"#142D46"],[0.019927536231884056,"#142D46"],[0.020531400966183576,"#142D46"],[0.02355072463768116,"#142E47"],[0.028985507246376812,"#152E48"],[0.029589371980676332,"#152E48"],[0.03140096618357488,"#152F48"],[0.032608695652173919,"#152F48"],[0.036231884057971016,"#152F49"],[0.038647342995169087,"#153049"],[0.041062801932367152,"#153049"],[0.043478260869565223,"#16304A"],[0.044082125603864736,"#16304A"],[0.045893719806763288,"#16304A"],[0.047705314009661839,"#16314B"],[0.049516908212560384,"#16314B"],[0.050120772946859911,"#16314B"],[0.05495169082125604,"#16314C"],[0.055555555555555552,"#16324C"],[0.056763285024154592,"#16324C"],[0.061594202898550721,"#17324D"],[0.066425120772946863,"#17334E"],[0.083333333333333343,"#183550"],[0.086956521739130446,"#183551"],[0.10628019323671499,"#193854"],[0.11231884057971016,"#1A3855"],[0.11352657004830918,"#1A3855"],[0.14371980676328502,"#1C3C5A"],[0.15217391304347827,"#1C3D5C"],[0.16304347826086957,"#1D3F5D"],[0.17270531400966185,"#1E405F"],[0.21135265700483091,"#204565"],[0.21497584541062803,"#204566"],[0.23792270531400966,"#22486A"],[0.26690821256038649,"#234C6F"],[0.29710144927536236,"#254F74"],[0.30434782608695654,"#265075"],[0.33091787439613524,"#28547A"],[0.35144927536231885,"#29567D"],[0.50724637681159424,"#336B99"],[1,"#56B1F7"]],"type":"heatmap","showscale":false,"autocolorscale":false,"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":37.791614777916152,"l":26.899128268991284},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.90000000000000013,29.899999999999999],"tickmode":"array","ticktext":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"tickvals":[1,2,3,4,5,6,7.0000000000000009,8,9,10,11,12,13,14,15,15.999999999999998,17,18,19,20,21,22,23,24,25,26,27,28],"categoryorder":"array","categoryarray":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":9.2984640929846396},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Amount of Rainfall in Days","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":7.9701120797011216},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":7.9701120797011216}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c454361c8d":{"x":{},"y":{},"fill":{},"type":"heatmap"}},"cur_data":"82c454361c8d","visdat":{"82c454361c8d":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="grid">
<div class="g-col-8">
<p>As seen in the above plot, heatmaps are excellent in visualising large temporal data by showing clear trends over time - we can see that there is more rainfall and rainy days from 2003 onwards. Moreover, the interactivity allows the user to hover over specific tiles for specific information.</p>
<p>However, while heatmaps are visually nice and informative, <a href="https://www.displayr.com/the-problem-with-heatmaps/">Bock</a> pointed out that the shading in heatmaps are often problematic - ‚Äúwe are poor at comparing shading in non-adjacent regions of a visualisation‚Ä¶ [also known as the] checker shadow illusion‚Äù. Thus, it is easy for us to mis-gauge the difference in amount of rainfall as seen on the image on the right where the gradient difference between days of 15 (44.2mm) and 18 (23.8mm) for 2013 is not easy to pick up.</p>
</div>
<div class="g-col-4">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3912865468.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
<figcaption>Year 2013: Days 15 and 19</figcaption>
</figure>
</div>
</div>
</div>
<p>The use of a cumulative histogram together with the heatmap will show the clear distribution of individual rainfall points and provide a clear representation of the cumulative amount of rainfall for each day.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert amt_rainfall to numeric </span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>amt_rainfall <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(rainfall<span class="sc">$</span>amt_rainfall))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a cumulative histogram by day and facet by year</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>rainfall_cumulative <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Day) <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_count =</span> <span class="fu">cumsum</span>(amt_rainfall))</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the cumulative histogram with a line tracing the tops of the bars</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>ch_rainfall <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_cumulative, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> cumulative_count, <span class="at">group =</span> Year, <span class="at">fill =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Cumulative amount of rainfall:"</span>, cumulative_count))) <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span>Year , <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">switch =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Cumulative distribution of Rainfall in Days"</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>cumulative <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(ch_rainfall, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>))</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>cumulative</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-532a566573cb04b21f2d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-532a566573cb04b21f2d">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[0,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,0.29999999999999999,8.6000000000000014,16.5,16.5,16.5,16.5,16.5,16.5,16.5,16.5,16.5,16.5,16.5,16.5],"text":["Year: 1983 Day: 1 <br> Cumulative amount of rainfall: 0","Year: 1983 Day: 2 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 4 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 5 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 6 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 7 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 8 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 9 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 10 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 11 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 12 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 13 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 14 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 15 <br> Cumulative amount of rainfall: 0.3","Year: 1983 Day: 16 <br> Cumulative amount of rainfall: 8.6","Year: 1983 Day: 17 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 18 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 19 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 20 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 21 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 22 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 23 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 24 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 25 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 26 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 27 <br> Cumulative amount of rainfall: 16.5","Year: 1983 Day: 28 <br> Cumulative amount of rainfall: 16.5"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(109,47,32,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1983","legendgroup":"1983","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[0,3.2999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,3.7999999999999998,5.4000000000000004,5.4000000000000004,5.5999999999999996,13.199999999999999,13.199999999999999,13.199999999999999,13.199999999999999,13.199999999999999,15.299999999999999,15.299999999999999,15.299999999999999,19.199999999999999,23.099999999999998,28,28,37.100000000000001],"text":["Year: 1993 Day: 1 <br> Cumulative amount of rainfall: 0","Year: 1993 Day: 2 <br> Cumulative amount of rainfall: 3.3","Year: 1993 Day: 3 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 4 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 5 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 6 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 7 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 8 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 9 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 10 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 11 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 12 <br> Cumulative amount of rainfall: 3.8","Year: 1993 Day: 13 <br> Cumulative amount of rainfall: 5.4","Year: 1993 Day: 14 <br> Cumulative amount of rainfall: 5.4","Year: 1993 Day: 15 <br> Cumulative amount of rainfall: 5.6","Year: 1993 Day: 16 <br> Cumulative amount of rainfall: 13.2","Year: 1993 Day: 17 <br> Cumulative amount of rainfall: 13.2","Year: 1993 Day: 18 <br> Cumulative amount of rainfall: 13.2","Year: 1993 Day: 19 <br> Cumulative amount of rainfall: 13.2","Year: 1993 Day: 20 <br> Cumulative amount of rainfall: 13.2","Year: 1993 Day: 21 <br> Cumulative amount of rainfall: 15.3","Year: 1993 Day: 22 <br> Cumulative amount of rainfall: 15.3","Year: 1993 Day: 23 <br> Cumulative amount of rainfall: 15.3","Year: 1993 Day: 24 <br> Cumulative amount of rainfall: 19.2","Year: 1993 Day: 25 <br> Cumulative amount of rainfall: 23.1","Year: 1993 Day: 26 <br> Cumulative amount of rainfall: 28","Year: 1993 Day: 27 <br> Cumulative amount of rainfall: 28","Year: 1993 Day: 28 <br> Cumulative amount of rainfall: 37.1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(223,126,102,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"1993","legendgroup":"1993","showlegend":true,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[1.2,6.6000000000000005,17.600000000000001,17.800000000000001,20.900000000000002,22.100000000000001,23,23.199999999999999,23.199999999999999,42,42,42,42,49.300000000000004,133.30000000000001,139.30000000000001,146.09999999999999,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,155.30000000000001,160.5],"text":["Year: 2003 Day: 1 <br> Cumulative amount of rainfall: 1.2","Year: 2003 Day: 2 <br> Cumulative amount of rainfall: 6.6","Year: 2003 Day: 3 <br> Cumulative amount of rainfall: 17.6","Year: 2003 Day: 4 <br> Cumulative amount of rainfall: 17.8","Year: 2003 Day: 5 <br> Cumulative amount of rainfall: 20.9","Year: 2003 Day: 6 <br> Cumulative amount of rainfall: 22.1","Year: 2003 Day: 7 <br> Cumulative amount of rainfall: 23","Year: 2003 Day: 8 <br> Cumulative amount of rainfall: 23.2","Year: 2003 Day: 9 <br> Cumulative amount of rainfall: 23.2","Year: 2003 Day: 10 <br> Cumulative amount of rainfall: 42","Year: 2003 Day: 11 <br> Cumulative amount of rainfall: 42","Year: 2003 Day: 12 <br> Cumulative amount of rainfall: 42","Year: 2003 Day: 13 <br> Cumulative amount of rainfall: 42","Year: 2003 Day: 14 <br> Cumulative amount of rainfall: 49.3","Year: 2003 Day: 15 <br> Cumulative amount of rainfall: 133.3","Year: 2003 Day: 16 <br> Cumulative amount of rainfall: 139.3","Year: 2003 Day: 17 <br> Cumulative amount of rainfall: 146.1","Year: 2003 Day: 18 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 19 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 20 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 21 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 22 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 23 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 24 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 25 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 26 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 27 <br> Cumulative amount of rainfall: 155.3","Year: 2003 Day: 28 <br> Cumulative amount of rainfall: 160.5"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(237,199,117,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2003","legendgroup":"2003","showlegend":true,"xaxis":"x3","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[0,0,39.399999999999999,39.799999999999997,68.400000000000006,86,95.200000000000003,130.80000000000001,185.59999999999999,195.80000000000001,197,211.40000000000001,211.80000000000001,262.19999999999999,306.39999999999998,309.80000000000001,310,333.80000000000001,334.60000000000002,335,343.19999999999999,343.19999999999999,343.19999999999999,343.19999999999999,368.39999999999998,426.60000000000002,428.39999999999998,428.39999999999998],"text":["Year: 2013 Day: 1 <br> Cumulative amount of rainfall: 0","Year: 2013 Day: 2 <br> Cumulative amount of rainfall: 0","Year: 2013 Day: 3 <br> Cumulative amount of rainfall: 39.4","Year: 2013 Day: 4 <br> Cumulative amount of rainfall: 39.8","Year: 2013 Day: 5 <br> Cumulative amount of rainfall: 68.4","Year: 2013 Day: 6 <br> Cumulative amount of rainfall: 86","Year: 2013 Day: 7 <br> Cumulative amount of rainfall: 95.2","Year: 2013 Day: 8 <br> Cumulative amount of rainfall: 130.8","Year: 2013 Day: 9 <br> Cumulative amount of rainfall: 185.6","Year: 2013 Day: 10 <br> Cumulative amount of rainfall: 195.8","Year: 2013 Day: 11 <br> Cumulative amount of rainfall: 197","Year: 2013 Day: 12 <br> Cumulative amount of rainfall: 211.4","Year: 2013 Day: 13 <br> Cumulative amount of rainfall: 211.8","Year: 2013 Day: 14 <br> Cumulative amount of rainfall: 262.2","Year: 2013 Day: 15 <br> Cumulative amount of rainfall: 306.4","Year: 2013 Day: 16 <br> Cumulative amount of rainfall: 309.8","Year: 2013 Day: 17 <br> Cumulative amount of rainfall: 310","Year: 2013 Day: 18 <br> Cumulative amount of rainfall: 333.8","Year: 2013 Day: 19 <br> Cumulative amount of rainfall: 334.6","Year: 2013 Day: 20 <br> Cumulative amount of rainfall: 335","Year: 2013 Day: 21 <br> Cumulative amount of rainfall: 343.2","Year: 2013 Day: 22 <br> Cumulative amount of rainfall: 343.2","Year: 2013 Day: 23 <br> Cumulative amount of rainfall: 343.2","Year: 2013 Day: 24 <br> Cumulative amount of rainfall: 343.2","Year: 2013 Day: 25 <br> Cumulative amount of rainfall: 368.4","Year: 2013 Day: 26 <br> Cumulative amount of rainfall: 426.6","Year: 2013 Day: 27 <br> Cumulative amount of rainfall: 428.4","Year: 2013 Day: 28 <br> Cumulative amount of rainfall: 428.4"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(148,181,148,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x4","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[0,4.7999999999999998,31.800000000000001,38.200000000000003,52,52,52,101.2,110.60000000000001,117.80000000000001,117.80000000000001,152.80000000000001,153,180,198.59999999999999,198.59999999999999,198.59999999999999,198.59999999999999,198.59999999999999,198.59999999999999,198.59999999999999,198.80000000000001,198.80000000000001,198.80000000000001,198.80000000000001,200.40000000000001,202.20000000000002,367.80000000000001],"text":["Year: 2023 Day: 1 <br> Cumulative amount of rainfall: 0","Year: 2023 Day: 2 <br> Cumulative amount of rainfall: 4.8","Year: 2023 Day: 3 <br> Cumulative amount of rainfall: 31.8","Year: 2023 Day: 4 <br> Cumulative amount of rainfall: 38.2","Year: 2023 Day: 5 <br> Cumulative amount of rainfall: 52","Year: 2023 Day: 6 <br> Cumulative amount of rainfall: 52","Year: 2023 Day: 7 <br> Cumulative amount of rainfall: 52","Year: 2023 Day: 8 <br> Cumulative amount of rainfall: 101.2","Year: 2023 Day: 9 <br> Cumulative amount of rainfall: 110.6","Year: 2023 Day: 10 <br> Cumulative amount of rainfall: 117.8","Year: 2023 Day: 11 <br> Cumulative amount of rainfall: 117.8","Year: 2023 Day: 12 <br> Cumulative amount of rainfall: 152.8","Year: 2023 Day: 13 <br> Cumulative amount of rainfall: 153","Year: 2023 Day: 14 <br> Cumulative amount of rainfall: 180","Year: 2023 Day: 15 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 16 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 17 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 18 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 19 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 20 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 21 <br> Cumulative amount of rainfall: 198.6","Year: 2023 Day: 22 <br> Cumulative amount of rainfall: 198.8","Year: 2023 Day: 23 <br> Cumulative amount of rainfall: 198.8","Year: 2023 Day: 24 <br> Cumulative amount of rainfall: 198.8","Year: 2023 Day: 25 <br> Cumulative amount of rainfall: 198.8","Year: 2023 Day: 26 <br> Cumulative amount of rainfall: 200.4","Year: 2023 Day: 27 <br> Cumulative amount of rainfall: 202.2","Year: 2023 Day: 28 <br> Cumulative amount of rainfall: 367.8"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(34,75,94,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2023","legendgroup":"2023","showlegend":true,"xaxis":"x5","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":37.917808219178085,"r":18.99543378995434,"b":40.182648401826491,"l":28.493150684931514},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,0.19592302674494455],"automargin":true,"type":"linear","autorange":false,"range":[-0.84499999999999997,29.844999999999999],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Cumulative distribution of Rainfall in Days","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"1983","x":0.097961513372472275,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"1993","x":0.30000000000000004,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2003","x":0.50000000000000011,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2013","x":0.70000000000000007,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2023","x":0.90203848662752772,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-21.420000000000002,449.81999999999999],"tickmode":"array","ticktext":["0","100","200","300","400"],"tickvals":[0,100,200,300,400],"categoryorder":"array","categoryarray":["0","100","200","300","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.19592302674494455,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.19592302674494455,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.20407697325505547,"x1":0.39592302674494456,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.20407697325505547,"x1":0.39592302674494456,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.40407697325505548,"x1":0.59592302674494468,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.40407697325505548,"x1":0.59592302674494468,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.60407697325505549,"x1":0.79592302674494464,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.60407697325505549,"x1":0.79592302674494464,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.80407697325505545,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(217,217,217,1)","line":{"color":"transparent","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.80407697325505545,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[-0.84499999999999997,29.844999999999999],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.20407697325505547,0.39592302674494456],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[-0.84499999999999997,29.844999999999999],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.40407697325505548,0.59592302674494468],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis4":{"type":"linear","autorange":false,"range":[-0.84499999999999997,29.844999999999999],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.60407697325505549,0.79592302674494464],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis5":{"type":"linear","autorange":false,"range":[-0.84499999999999997,29.844999999999999],"tickmode":"array","ticktext":["0","10","20"],"tickvals":[0,10,20],"categoryorder":"array","categoryarray":["0","10","20"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.80407697325505545,1],"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c44000277b":{"x":{},"y":{},"fill":{},"text":{},"type":"bar"}},"cur_data":"82c44000277b","visdat":{"82c44000277b":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The cumulative histogram clearly shows the change in total amount of rainfall in each decade and also shows any outlier days of heavy rain. It also can show trends such that in the later decades, the rain often fell in the first half of the month. Unfortunately, I am not able to build a linking view with <code>subplot()</code> and this might be because of the <code>facet_grid()</code>. It would be cool if I could link the heatmap and cumulative histograms together so we can track the colour changes in the heatmap with the changes in cumulative values in the cumulative histogram.</p>
</section>
<section id="for-weekly-trends" class="level4">
<h4 class="anchored" data-anchor-id="for-weekly-trends">3.2.3.2 For weekly trends</h4>
<p>To improve this issue, I chose animated line charts with a reference line of mean rainfall (1991 - 2020) so that the user can supplement their use of the bubble plot with a clearer idea on whether rainfall has increased or decreased in reference to each year and week being studied and the mean line. As argued by <a href="https://charliepark.org/slopegraphs/">Uberti</a>, ‚ÄúFor most people, it‚Äôs considerably easier to understand an upward or downward line than relative spatial positioning‚Äù.</p>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(transformr)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, create the plot</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  rainfall,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> <span class="fu">factor</span>(Year))</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Hokusai1"</span>, <span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weeks of February"</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels))</span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">transition_reveal</span>(Day)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-18-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year),<span class="at">shape=</span><span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year)) <span class="sc">+</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghighlight</span>(<span class="at">use_direct_label =</span> <span class="cn">FALSE</span>,</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>              <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(<span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"grey85"</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year, <span class="at">label =</span> <span class="fu">round</span>(amt_rainfall)),</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">vjust =</span> .<span class="dv">5</span>, <span class="at">size=</span><span class="fl">2.5</span>,  <span class="at">fontface=</span><span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels)) <span class="sc">+</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>  <span class="fu">factor</span>(Year, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1983'</span>,<span class="st">'1993'</span>,<span class="st">'2003'</span>,<span class="st">'2013'</span>, <span class="st">'2023'</span>))) <span class="sc">+</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">28</span>)) <span class="sc">+</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Distribution of Rainfall by Days in Weeks"</span>,</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) </span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>small_lines <span class="ot">&lt;-</span> p1 <span class="sc">+</span> <span class="fu">transition_reveal</span>(Day)</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>small_lines</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-19-1.gif" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>As seen in the above plots, animated line charts paint a different picture at the granular level. We can see the trend of increasing rain in the latter years and the increasing variability. For the chart on the left, it looked messy and confusing as the lines are superimposed on each other. The animated lines distracted, rather than clarified. On the right, the chart was split into small multiples - according to <a href="https://flowingdata.com/2014/10/15/linked-small-multiples/">Vallandingham (2014)</a>, ‚Äúthe key idea is to slice up your data and use a separate plot to visualize each slice‚Ä¶ small multiples can help with&nbsp;<em>overplotting</em>&nbsp;‚Äî when data is obscured or occluded because there are too many plotted items‚Äù (which is what we are facing). This improved visibility and readability and provided a snapshot of trends at a granular level.</p>
</section>
<section id="for-yearly-trends" class="level4">
<h4 class="anchored" data-anchor-id="for-yearly-trends">3.2.3.3 For yearly trends</h4>
<p>To study the yearly trends of the amount of rainfall, line charts were used.</p>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>mean_rainfall_per_year <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean_Rainfall =</span> <span class="fu">mean</span>(amt_rainfall, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a time series plot with mean rainfall</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>gg2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mean_rainfall_per_year, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Mean_Rainfall, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Year), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Amount of Rainfall per Year in February"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-71b7881fcbe508d2fcc3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-71b7881fcbe508d2fcc3">{"x":{"data":[{"x":[0.40000000000000002,5.5999999999999996],"y":[7.2164285714285716,7.2164285714285716],"text":"mean_value: 7.216429","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5],"y":[0.5892857142857143,1.325,5.7321428571428568,15.300000000000001,13.135714285714286],"text":["Year: 1983<br />Mean_Rainfall:  0.5892857","Year: 1993<br />Mean_Rainfall:  1.3250000","Year: 2003<br />Mean_Rainfall:  5.7321429","Year: 2013<br />Mean_Rainfall: 15.3000000","Year: 2023<br />Mean_Rainfall: 13.1357143"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[0.5892857142857143],"text":"Year: 1983<br />Mean_Rainfall:  0.5892857<br />Year: 1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(109,47,32,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(109,47,32,1)"}},"hoveron":"points","name":"1983","legendgroup":"1983","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2],"y":[1.325],"text":"Year: 1993<br />Mean_Rainfall:  1.3250000<br />Year: 1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(223,126,102,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(223,126,102,1)"}},"hoveron":"points","name":"1993","legendgroup":"1993","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[5.7321428571428568],"text":"Year: 2003<br />Mean_Rainfall:  5.7321429<br />Year: 2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(237,199,117,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(237,199,117,1)"}},"hoveron":"points","name":"2003","legendgroup":"2003","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[15.300000000000001],"text":"Year: 2013<br />Mean_Rainfall: 15.3000000<br />Year: 2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,181,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(148,181,148,1)"}},"hoveron":"points","name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[13.135714285714286],"text":"Year: 2023<br />Mean_Rainfall: 13.1357143<br />Year: 2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,75,94,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(34,75,94,1)"}},"hoveron":"points","name":"2023","legendgroup":"2023","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[25],"text":"February 2013 saw unusual wet phases <br />of the Northeast Monsoon Season <br />and Madden-Julian Oscillation","hovertext":"x: 2013<br />y: 25","textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[8.2164285714285725],"text":"Mean rainfall: 7.22","hovertext":"x: 1<br />y: 8.216429","textfont":{"size":13.228346456692915,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.570776255707766,"l":22.648401826484022},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Mean Amount of Rainfall per Year in February","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.5,31.5],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c48663f82":{"yintercept":{},"type":"scatter"},"82c42b454b6a":{"x":{},"y":{}},"82c43ca1403b":{"x":{},"y":{},"colour":{}},"82c4b1c571c":{"x":{},"y":{}},"82c42429450a":{"x":{},"y":{}}},"cur_data":"82c48663f82","visdat":{"82c48663f82":["function (y) ","x"],"82c42b454b6a":["function (y) ","x"],"82c43ca1403b":["function (y) ","x"],"82c4b1c571c":["function (y) ","x"],"82c42429450a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>rainfall_sum <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean=</span><span class="fu">mean</span>(amt_rainfall),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd=</span><span class="fu">sd</span>(amt_rainfall)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n<span class="dv">-1</span>))</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_sum, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, </span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">y=</span>mean, <span class="at">color =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, <span class="st">`</span><span class="at">Year</span><span class="st">`</span>, </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;N:"</span>, <span class="st">`</span><span class="at">n</span><span class="st">`</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;Mean amount of rainfall:"</span>, <span class="fu">round</span>(mean, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;95% CI:["</span>, </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">-1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>), <span class="st">","</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">+1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>),<span class="st">"]"</span>)), <span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se), </span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"gray"</span>, </span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span> </span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Trend of mean amount of rainfall for February with 95% CI"</span>,</span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(gg, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>))</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>mean_line </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-2e9c98fab9423444103f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2e9c98fab9423444103f">{"x":{"data":[{"x":[1,2,3,4,5],"y":[0.5892857142857143,1.325,5.7321428571428568,15.300000000000001,13.135714285714286],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[0.5892857142857143],"text":"Year: 1983 <br>N: 28 <br>Mean amount of rainfall: 0.59 <br>95% CI:[ -0.21 , 1.39 ]","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(109,47,32,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(109,47,32,1)"}},"hoveron":"points","name":"1983","legendgroup":"1983","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2],"y":[1.325],"text":"Year: 1993 <br>N: 28 <br>Mean amount of rainfall: 1.32 <br>95% CI:[ 0.4 , 2.25 ]","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(223,126,102,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(223,126,102,1)"}},"hoveron":"points","name":"1993","legendgroup":"1993","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[5.7321428571428568],"text":"Year: 2003 <br>N: 28 <br>Mean amount of rainfall: 5.73 <br>95% CI:[ -0.3 , 11.76 ]","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(237,199,117,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(237,199,117,1)"}},"hoveron":"points","name":"2003","legendgroup":"2003","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[15.300000000000001],"text":"Year: 2013 <br>N: 28 <br>Mean amount of rainfall: 15.3 <br>95% CI:[ 8.06 , 22.54 ]","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,181,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(148,181,148,1)"}},"hoveron":"points","name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[13.135714285714286],"text":"Year: 2023 <br>N: 28 <br>Mean amount of rainfall: 13.14 <br>95% CI:[ 0.89 , 25.38 ]","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,75,94,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(34,75,94,1)"}},"hoveron":"points","name":"2023","legendgroup":"2023","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,5,5,4,3,2,1,1],"y":[-0.21142994982979757,0.39538247905185642,-0.29792988160316103,8.055579313831279,0.89311520449895454,0.89311520449895454,25.378313366929618,22.544420686168721,11.762215595888875,2.2546175209481434,1.3900013784012262,-0.21142994982979757],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(190,190,190,0.3)","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.40000000000000002,5.5999999999999996],"y":[7.2164285714285716,7.2164285714285716],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[25],"text":"February 2013 saw unusual wet phases <br />of the Northeast Monsoon Season <br />and Madden-Julian Oscillation","hovertext":"","textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[8.2164285714285725],"text":"Mean rainfall: 7.22","hovertext":"","textfont":{"size":13.228346456692915,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":22.648401826484022},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Trend of mean amount of rainfall for February with 95% CI","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.5,31.5],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c4539c4854":{"x":{},"y":{},"type":"scatter"},"82c41993dcf":{"x":{},"y":{},"colour":{},"text":{}},"82c456a23345":{"x":{},"y":{},"ymin":{},"ymax":{}},"82c440f6124b":{"yintercept":{}},"82c43f8062f5":{"x":{},"y":{}},"82c4b485e67":{"x":{},"y":{}}},"cur_data":"82c4539c4854","visdat":{"82c4539c4854":["function (y) ","x"],"82c41993dcf":["function (y) ","x"],"82c456a23345":["function (y) ","x"],"82c440f6124b":["function (y) ","x"],"82c43f8062f5":["function (y) ","x"],"82c4b485e67":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<p>As can be seen in the two plots above, a line chart quickly showed the upward trend of the mean amount of rainfall over the years with a slight blimp in 2013 due to unusual weather patterns. A reference line with the mean rainfall amount in 1991 - 2020 (given by MSS) was also present to chart how the years fared in response to the mean. Both are interactive so that the user can interact with the plots to explore what the mean amount of rainfall is for that year.</p>
<p>The chart on the right goes one step further to show the 95% confidence interval in order to visualise the uncertainty of the point estimate (mean of rainfall for the month of February in that year). Interestingly, in the earlier years of 1983 - 1993, the narrow interval suggests a more precise mean estimate while the wider interval in the latter years suggest greater uncertainty. Hence, we cannot be too certain that the amount of rainfall is increasing through the years.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>total_rainfall_per_year <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total_Rainydays =</span> <span class="fu">sum</span>(rainyday_indicator, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a time series plot</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(total_rainfall_per_year, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Total_Rainydays, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Year), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Number of Rainy days per Year"</span>,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>   <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()  <span class="sc">+</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0661bb212e7942d25aff" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0661bb212e7942d25aff">{"x":{"data":[{"x":[1,2,3,4,5],"y":[3,10,15,22,15],"text":["Year: 1983<br />Total_Rainydays:  3","Year: 1993<br />Total_Rainydays: 10","Year: 2003<br />Total_Rainydays: 15","Year: 2013<br />Total_Rainydays: 22","Year: 2023<br />Total_Rainydays: 15"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[3],"text":"Year: 1983<br />Total_Rainydays:  3<br />Year: 1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(109,47,32,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(109,47,32,1)"}},"hoveron":"points","name":"1983","legendgroup":"1983","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2],"y":[10],"text":"Year: 1993<br />Total_Rainydays: 10<br />Year: 1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(223,126,102,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(223,126,102,1)"}},"hoveron":"points","name":"1993","legendgroup":"1993","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[15],"text":"Year: 2003<br />Total_Rainydays: 15<br />Year: 2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(237,199,117,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(237,199,117,1)"}},"hoveron":"points","name":"2003","legendgroup":"2003","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[22],"text":"Year: 2013<br />Total_Rainydays: 22<br />Year: 2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,181,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(148,181,148,1)"}},"hoveron":"points","name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5],"y":[15],"text":"Year: 2023<br />Total_Rainydays: 15<br />Year: 2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,75,94,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(34,75,94,1)"}},"hoveron":"points","name":"2023","legendgroup":"2023","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4],"y":[25],"text":"February 2013 saw unusual wet phases <br />of the Northeast Monsoon Season <br />and Madden-Julian Oscillation","hovertext":"x: 2013<br />y: 25","textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":25.570776255707766,"l":22.648401826484022},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Total Number of Rainy days per Year","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-1.5,31.5],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c431ac4c9d":{"x":{},"y":{},"type":"scatter"},"82c4c2d2705":{"x":{},"y":{},"colour":{}},"82c469d8477f":{"x":{},"y":{}}},"cur_data":"82c431ac4c9d","visdat":{"82c431ac4c9d":["function (y) ","x"],"82c4c2d2705":["function (y) ","x"],"82c469d8477f":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>The number of rainy days seem to be increasing and peaked in the unusual year of 2013 but stagnated in 2023. Hence, this plot was not included as it did not seem to yield any new discovery.</p>
</section>
</section>
<section id="to-visualise-the-distribution-of-rainfall-between-years" class="level3">
<h3 class="anchored" data-anchor-id="to-visualise-the-distribution-of-rainfall-between-years">3.2.2 To visualise the distribution of rainfall between years</h3>
<p>Aims</p>
<ol type="1">
<li>To present the yearly distribution of the volume of rainfall</li>
</ol>
<p>The code chunk below shows four different ways to study the distribution.</p>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> amt_rainfall,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Year)) <span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="at">adjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">point_colour =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">20</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.shape =</span> <span class="cn">NA</span>,</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">notch =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dots</span>(<span class="at">side =</span> <span class="st">"left"</span>, </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">justification =</span> <span class="fl">1.2</span>, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">binwidth =</span> .<span class="dv">5</span>,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">dotsize =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> amt_rainfall, </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Year, </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">factor</span>(<span class="fu">after_stat</span>(quantile))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>           )) <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density_ridges</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"density_ridges_gradient"</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">calc_ecdf =</span> <span class="cn">TRUE</span>, </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="dv">4</span>,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">quantile_lines =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> mean_value),</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">"Quartiles"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#696969"</span>, <span class="st">"darkgrey"</span>, <span class="st">"grey"</span>, <span class="st">"lightgrey"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="grid">
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">notch=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,     </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">50</span>),  </span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>))  <span class="sc">+</span> </span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()</span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(box)</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>box</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-dc11d46cf89c542b24b7" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-dc11d46cf89c542b24b7">{"x":{"data":[{"x":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"y":[0,4.7999999999999998,27,6.4000000000000004,13.800000000000001,0,0,49.200000000000003,9.4000000000000004,7.2000000000000002,0,35,0.20000000000000001,27,18.600000000000001,0,0,0,0,0,0,0.20000000000000001,0,0,0,1.6000000000000001,1.8,165.59999999999999],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(34,75,94,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"y":[0,0.29999999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,8.3000000000000007,7.9000000000000004,0,0,0,0,0,0,0,0,0,0,0],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(109,47,32,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"y":[0,0,39.399999999999999,0.40000000000000002,28.600000000000001,17.600000000000001,9.1999999999999993,35.600000000000001,54.799999999999997,10.199999999999999,1.2,14.4,0.40000000000000002,50.399999999999999,44.200000000000003,3.3999999999999999,0.20000000000000001,23.800000000000001,0.80000000000000004,0.40000000000000002,8.1999999999999993,0,0,0,25.199999999999999,58.200000000000003,1.8,0],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(148,181,148,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"y":[0,3.2999999999999998,0.5,0,0,0,0,0,0,0,0,0,1.6000000000000001,0,0.20000000000000001,7.5999999999999996,0,0,0,0,2.1000000000000001,0,0,3.8999999999999999,3.8999999999999999,4.9000000000000004,0,9.0999999999999996],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(223,126,102,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[1.2,5.4000000000000004,11,0.20000000000000001,3.1000000000000001,1.2,0.90000000000000002,0.20000000000000001,0,18.800000000000001,0,0,0,7.2999999999999998,84,6,6.7999999999999998,9.1999999999999993,0,0,0,0,0,0,0,0,0,5.2000000000000002],"hoverinfo":"y","type":"box","fillcolor":"rgba(255,255,255,1)","marker":{"opacity":null,"outliercolor":"rgba(0,0,0,1)","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"},"size":5.6692913385826778},"line":{"color":"rgba(237,199,117,1)","width":1.8897637795275593},"showlegend":false,"xaxis":"x","yaxis":"y","frame":null},{"x":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"y":[0,4.7999999999999998,27,6.4000000000000004,13.800000000000001,0,0,49.200000000000003,9.4000000000000004,7.2000000000000002,0,35,0.20000000000000001,27,18.600000000000001,0,0,0,0,0,0,0.20000000000000001,0,0,0,1.6000000000000001,1.8,165.59999999999999],"text":["Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   4.8<br />Year: 2023","Year: 2023<br />amt_rainfall:  27.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   6.4<br />Year: 2023","Year: 2023<br />amt_rainfall:  13.8<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:  49.2<br />Year: 2023","Year: 2023<br />amt_rainfall:   9.4<br />Year: 2023","Year: 2023<br />amt_rainfall:   7.2<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:  35.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.2<br />Year: 2023","Year: 2023<br />amt_rainfall:  27.0<br />Year: 2023","Year: 2023<br />amt_rainfall:  18.6<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.2<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   0.0<br />Year: 2023","Year: 2023<br />amt_rainfall:   1.6<br />Year: 2023","Year: 2023<br />amt_rainfall:   1.8<br />Year: 2023","Year: 2023<br />amt_rainfall: 165.6<br />Year: 2023"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(34,75,94,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(34,75,94,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"y":[0,0.29999999999999999,0,0,0,0,0,0,0,0,0,0,0,0,0,8.3000000000000007,7.9000000000000004,0,0,0,0,0,0,0,0,0,0,0],"text":["Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.3<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   8.3<br />Year: 1983","Year: 1983<br />amt_rainfall:   7.9<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983","Year: 1983<br />amt_rainfall:   0.0<br />Year: 1983"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(109,47,32,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(109,47,32,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],"y":[0,0,39.399999999999999,0.40000000000000002,28.600000000000001,17.600000000000001,9.1999999999999993,35.600000000000001,54.799999999999997,10.199999999999999,1.2,14.4,0.40000000000000002,50.399999999999999,44.200000000000003,3.3999999999999999,0.20000000000000001,23.800000000000001,0.80000000000000004,0.40000000000000002,8.1999999999999993,0,0,0,25.199999999999999,58.200000000000003,1.8,0],"text":["Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013","Year: 2013<br />amt_rainfall:  39.4<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.4<br />Year: 2013","Year: 2013<br />amt_rainfall:  28.6<br />Year: 2013","Year: 2013<br />amt_rainfall:  17.6<br />Year: 2013","Year: 2013<br />amt_rainfall:   9.2<br />Year: 2013","Year: 2013<br />amt_rainfall:  35.6<br />Year: 2013","Year: 2013<br />amt_rainfall:  54.8<br />Year: 2013","Year: 2013<br />amt_rainfall:  10.2<br />Year: 2013","Year: 2013<br />amt_rainfall:   1.2<br />Year: 2013","Year: 2013<br />amt_rainfall:  14.4<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.4<br />Year: 2013","Year: 2013<br />amt_rainfall:  50.4<br />Year: 2013","Year: 2013<br />amt_rainfall:  44.2<br />Year: 2013","Year: 2013<br />amt_rainfall:   3.4<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.2<br />Year: 2013","Year: 2013<br />amt_rainfall:  23.8<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.8<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.4<br />Year: 2013","Year: 2013<br />amt_rainfall:   8.2<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013","Year: 2013<br />amt_rainfall:  25.2<br />Year: 2013","Year: 2013<br />amt_rainfall:  58.2<br />Year: 2013","Year: 2013<br />amt_rainfall:   1.8<br />Year: 2013","Year: 2013<br />amt_rainfall:   0.0<br />Year: 2013"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(148,181,148,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(148,181,148,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"y":[0,3.2999999999999998,0.5,0,0,0,0,0,0,0,0,0,1.6000000000000001,0,0.20000000000000001,7.5999999999999996,0,0,0,0,2.1000000000000001,0,0,3.8999999999999999,3.8999999999999999,4.9000000000000004,0,9.0999999999999996],"text":["Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   3.3<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.5<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   1.6<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.2<br />Year: 1993","Year: 1993<br />amt_rainfall:   7.6<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   2.1<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   3.9<br />Year: 1993","Year: 1993<br />amt_rainfall:   3.9<br />Year: 1993","Year: 1993<br />amt_rainfall:   4.9<br />Year: 1993","Year: 1993<br />amt_rainfall:   0.0<br />Year: 1993","Year: 1993<br />amt_rainfall:   9.1<br />Year: 1993"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(223,126,102,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(223,126,102,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],"y":[1.2,5.4000000000000004,11,0.20000000000000001,3.1000000000000001,1.2,0.90000000000000002,0.20000000000000001,0,18.800000000000001,0,0,0,7.2999999999999998,84,6,6.7999999999999998,9.1999999999999993,0,0,0,0,0,0,0,0,0,5.2000000000000002],"text":["Year: 2003<br />amt_rainfall:   1.2<br />Year: 2003","Year: 2003<br />amt_rainfall:   5.4<br />Year: 2003","Year: 2003<br />amt_rainfall:  11.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.2<br />Year: 2003","Year: 2003<br />amt_rainfall:   3.1<br />Year: 2003","Year: 2003<br />amt_rainfall:   1.2<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.9<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.2<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:  18.8<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   7.3<br />Year: 2003","Year: 2003<br />amt_rainfall:  84.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   6.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   6.8<br />Year: 2003","Year: 2003<br />amt_rainfall:   9.2<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   0.0<br />Year: 2003","Year: 2003<br />amt_rainfall:   5.2<br />Year: 2003"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(237,199,117,1)","opacity":1,"size":5.6692913385826778,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(237,199,117,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.40000000000000002,5.5999999999999996],"y":[7.2164285714285716,7.2164285714285716],"text":"mean_value: 7.216429","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5],"y":[0.5892857142857143,1.325,5.7321428571428568,15.300000000000001,13.135714285714286],"text":["Year: 1983<br />amt_rainfall:  0.5892857<br />Year: black","Year: 1993<br />amt_rainfall:  1.3250000<br />Year: black","Year: 2003<br />amt_rainfall:  5.7321429<br />Year: black","Year: 2013<br />amt_rainfall: 15.3000000<br />Year: black","Year: 2023<br />amt_rainfall: 13.1357143<br />Year: black"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,0,0,1)","opacity":1,"size":7.559055118110237,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)"}},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1],"y":[17.216428571428573],"text":"Mean rainfall: 7.22","hovertext":"x: 1<br />y: 17.21643","textfont":{"size":13.228346456692915,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":25.570776255707766,"l":28.493150684931514},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,5.5999999999999996],"tickmode":"array","ticktext":["1983","1993","2003","2013","2023"],"tickvals":[1,2,3,4,5],"categoryorder":"array","categoryarray":["1983","1993","2003","2013","2023"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-10,210],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,49.999999999999993,100,150,200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c46a581e4f":{"x":{},"y":{},"colour":{},"type":"box"},"82c42d7b6371":{"x":{},"y":{},"colour":{}},"82c4290e2bf0":{"yintercept":{}},"82c4498c599f":{"x":{},"y":{},"colour":{}},"82c41ba23815":{"x":{},"y":{}}},"cur_data":"82c46a581e4f","visdat":{"82c46a581e4f":["function (y) ","x"],"82c42d7b6371":["function (y) ","x"],"82c4290e2bf0":["function (y) ","x"],"82c4498c599f":["function (y) ","x"],"82c41ba23815":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div class="g-col-6">
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> amt_rainfall, <span class="at">y =</span> Year, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Year), <span class="at">size =</span> <span class="fl">0.6</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">linewidth =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width=</span> <span class="fl">0.4</span>, <span class="at">outlier.colour =</span> <span class="st">"grey20"</span>, <span class="at">outlier.size =</span> <span class="dv">1</span>, </span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.alpha =</span> <span class="fl">0.3</span>, <span class="at">notch =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,        </span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span>  </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> mean_value),</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_score =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> mean_score <span class="sc">-</span> <span class="dv">100</span>, <span class="at">y =</span> <span class="cn">Inf</span>, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"Mean:"</span>, <span class="fu">round</span>(mean_score, <span class="dv">0</span>))),</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.8</span>, <span class="at">size =</span> <span class="dv">3</span>)  <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">200</span>),  </span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p>Unfortunately, given that February is a dry month, most of the data points were at 0.0mm which meant that the distribution was not varied enough the follow a normal distribution. We also can see from the charts that 2013 was an outlier year due to <a href="https://www.nea.gov.sg/docs/default-source/resource/annual-weather-review-(2013)5529f991598c4fc6a4de9bba4ccf428b.pdf">the unusual wet phases of the Northeast Monsoon Season and Madden-Julian Oscillation</a> (it was the only year that had four quartiles and whose median is close to the mean). We can also see from the notches in the boxplot (that were not present in 1983 and 1993 data) that the overlapping notches suggest that the medians are <strong>not</strong> statistically different although the shape of the boxplots also suggest that is insufficient sample size.</p>
</section>
</section>
<section id="putting-it-all-together" class="level2">
<h2 class="anchored" data-anchor-id="putting-it-all-together">3.3 Putting it all together</h2>
<section id="static-visualisation" class="level3">
<h3 class="anchored" data-anchor-id="static-visualisation">3.3.1 Static Visualisation</h3>
<p>Aims</p>
<ol type="1">
<li>To present clear rainfall trends in years and days</li>
<li>To present distribution of rainfall in days through the years</li>
</ol>
<p>With <code>patchwork()</code> combining the following charts,</p>
<ol type="1">
<li><p>Line chart with Mean amount of total rainfall for February in Years with 95% CI</p></li>
<li><p>Animated small multiples of line charts with daily amount of rainfall by Week for February in Years</p></li>
<li><p>Notched Boxplot of distributions of rainfall for February in Years</p></li>
<li><p>Heatmap of daily amount of rainfall by Day for February in Years</p></li>
<li><p>Cumulative histogram of daily amount of rainfall by Day for February in Years</p></li>
</ol>
<p>Unfortunately, it seemed that since my data visualisations were interactive due to <code>ggplotly()</code>, <code>subplot()</code> was needed to combine the plots together. However, <code>subplot()</code> is very limited in its presentation layout and automatically disabled subtitles. it could also not be rendered and so a snapshot is taken and attached here.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#p1 &lt;- subplot(heatmap, cumulative)</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">#p2 &lt;- subplot(mean_line, small_lines, nrows =2)</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co">#p3 &lt;- subplot(p2, box)</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co">#p4 &lt;- subplot(p1, p3, nrows = 2)</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#static &lt;- p4%&gt;% </span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#  layout(title = 'February is still dry but getting wetter&lt;br&gt;',</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#         subtitle = 'February is the driest month in Singapore but even its total rainfall has been increasing over the decades. #1983 and 1993 were relatively dry while the later years became wetter and rain was often in the first half of the month. There #were also more days with high amounts of rainfall. Climate change has also resulted in unusual weather patterns with 2013 being #a blip year. It was unusually rainy with high amounts of rainfall caused by the unusual wet phases of the Northeast Monsoon #Season and Madden-Julian Oscillation.&lt;br&gt;')</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">#static</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/static_plot.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="859"></p>
<figcaption>Plot attempted with <code>subplot()</code></figcaption>
</figure>
</div>
<p>As such, I disabled the interactive elements of ggplotly in order to use <code>patchwork()</code> to build the static data visualistion.</p>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>rainfall_sum <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean=</span><span class="fu">mean</span>(amt_rainfall),</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd=</span><span class="fu">sd</span>(amt_rainfall)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n<span class="dv">-1</span>))</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>line_chart <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_sum, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, </span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">y=</span>mean, <span class="at">color =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, <span class="st">`</span><span class="at">Year</span><span class="st">`</span>, </span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;N:"</span>, <span class="st">`</span><span class="at">n</span><span class="st">`</span>,</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;Mean amount of rainfall:"</span>, <span class="fu">round</span>(mean, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;95% CI:["</span>, </span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">-1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>), <span class="st">","</span>,</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">+1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>),<span class="st">"]"</span>)), <span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se), </span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"gray"</span>, </span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span> </span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>,</span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Trend of mean amount of rainfall for February with 95% CI"</span>,</span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>line_chart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>multiples <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year),<span class="at">shape=</span><span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year)) <span class="sc">+</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghighlight</span>(<span class="at">use_direct_label =</span> <span class="cn">FALSE</span>,</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>              <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(<span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"grey85"</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels)) <span class="sc">+</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>  <span class="fu">factor</span>(Year, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1983'</span>,<span class="st">'1993'</span>,<span class="st">'2003'</span>,<span class="st">'2013'</span>, <span class="st">'2023'</span>))) <span class="sc">+</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">28</span>)) <span class="sc">+</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Distribution of Rainfall by Days in Weeks"</span>,</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) </span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>multiples</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>box_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">notch=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,     </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">50</span>),  </span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>))  <span class="sc">+</span> </span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>box_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(rainfall,<span class="fu">aes</span>(Day, Year, <span class="at">fill=</span>amt_rainfall))<span class="sc">+</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color=</span> <span class="st">"white"</span>,<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Amount of Rainfall in Days"</span>, </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Amount of rainfall"</span>) <span class="sc">+</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() </span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>heatmap_plot <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">colour=</span><span class="st">"white"</span>))<span class="sc">+</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">hjust=</span><span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks=</span><span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))<span class="sc">+</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">removeGrid</span>() <span class="sc">+</span></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day), <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)) </span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>heatmap_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert amt_rainfall to numeric </span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>amt_rainfall <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(rainfall<span class="sc">$</span>amt_rainfall))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a cumulative histogram by day and facet by year</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>rainfall_cumulative <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Day) <span class="sc">%&gt;%</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_count =</span> <span class="fu">cumsum</span>(amt_rainfall))</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the cumulative histogram with a line tracing the tops of the bars</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>ch_rainfall <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_cumulative, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> cumulative_count, <span class="at">group =</span> Year, <span class="at">fill =</span> Year)) <span class="sc">+</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span>Year , <span class="at">scales =</span> <span class="st">"fixed"</span>, <span class="at">switch =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Cumulative distribution of Rainfall in Days"</span>,</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>ch_rainfall</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interactive-visualisation" class="level3">
<h3 class="anchored" data-anchor-id="interactive-visualisation">3.3.2 Interactive Visualisation</h3>
<p>Aims</p>
<ol type="1">
<li>To allow users to discover patterns themselves</li>
<li>To allow users to interact with the data table</li>
</ol>
<p>With <code>crosstalk()</code> combining the following:</p>
<ol type="1">
<li><p>Animated interactive bubble plot with daily amount of rainfall by Week for February in Years</p></li>
<li><p>Interactive data table</p></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>rain_data <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(rainyfall)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>rain_p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rain_data, </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">+</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="dv">1</span>)</span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>rain_highlight <span class="ot">&lt;-</span> <span class="fu">highlight</span>(<span class="fu">ggplotly</span>(rain_p,, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>), </span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">on =</span> <span class="st">"plotly_selected"</span>,</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="st">"plotly_doubleclick"</span>)</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>interactive <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span><span class="fu">bscols</span>(rain_highlight,</span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>                  DT<span class="sc">::</span><span class="fu">datatable</span>(rain_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)),</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>                  <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>interactive</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="container-fluid crosstalk-bscols">
<div class="row">
<div class="col-xs-11">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a05825c98d4baed5ad9d" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-a05825c98d4baed5ad9d">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true},{"x":[-0.35000000000000009,29.350000000000001],"y":[-7.2164285714285716,-7.2164285714285716],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[-17.216428571428573],"text":"Mean rainfall: 7.22","hovertext":"","textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":10.958904109589042},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.35000000000000009,29.350000000000001],"tickmode":"array","ticktext":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"tickvals":[1,2,3,3.9999999999999996,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"categoryorder":"array","categoryarray":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Days of February","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-210,10],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,-50,-100,-150,-200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative","dragmode":"select","sliders":[{"currentvalue":{"prefix":"~Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["1983"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1983","value":"1983"},{"method":"animate","args":[["1993"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1993","value":"1993"},{"method":"animate","args":[["2003"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2003","value":"2003"},{"method":"animate","args":[["2013"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["2023"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2023","value":"2023"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false}}]}]}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c4fa629fd":{"x":{},"y":{},"size":{},"colour":{},"text":{},"frame":{},"type":"scatter"},"82c460446fbd":{"yintercept":{}},"82c423d533ba":{"x":{},"y":{}}},"cur_data":"82c4fa629fd","visdat":{"82c4fa629fd":["function (y) ","x"],"82c460446fbd":["function (y) ","x"],"82c423d533ba":["function (y) ","x"]},"highlight":{"on":"plotly_selected","off":"plotly_doubleclick","persistent":false,"dynamic":false,"color":null,"selectize":false,"defaultValues":null,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0,"ctGroups":["SharedData0568532a"]},"frames":[{"name":"1983","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"1993","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-3.2999999999999998,-0.5,-0,-0,-0,-0,-0,-0,-0,-0,-0,-1.6000000000000001,-0,-0.20000000000000001,-7.5999999999999996,-0,-0,-0,-0,-2.1000000000000001,-0,-0,-3.8999999999999999,-3.8999999999999999,-4.9000000000000004,-0,-9.0999999999999996],"text":["Year: 1993 Day: 1 <br> Amount of rainfall: 0","Year: 1993 Day: 2 <br> Amount of rainfall: 3.3","Year: 1993 Day: 3 <br> Amount of rainfall: 0.5","Year: 1993 Day: 4 <br> Amount of rainfall: 0","Year: 1993 Day: 5 <br> Amount of rainfall: 0","Year: 1993 Day: 6 <br> Amount of rainfall: 0","Year: 1993 Day: 7 <br> Amount of rainfall: 0","Year: 1993 Day: 8 <br> Amount of rainfall: 0","Year: 1993 Day: 9 <br> Amount of rainfall: 0","Year: 1993 Day: 10 <br> Amount of rainfall: 0","Year: 1993 Day: 11 <br> Amount of rainfall: 0","Year: 1993 Day: 12 <br> Amount of rainfall: 0","Year: 1993 Day: 13 <br> Amount of rainfall: 1.6","Year: 1993 Day: 14 <br> Amount of rainfall: 0","Year: 1993 Day: 15 <br> Amount of rainfall: 0.2","Year: 1993 Day: 16 <br> Amount of rainfall: 7.6","Year: 1993 Day: 17 <br> Amount of rainfall: 0","Year: 1993 Day: 18 <br> Amount of rainfall: 0","Year: 1993 Day: 19 <br> Amount of rainfall: 0","Year: 1993 Day: 20 <br> Amount of rainfall: 0","Year: 1993 Day: 21 <br> Amount of rainfall: 2.1","Year: 1993 Day: 22 <br> Amount of rainfall: 0","Year: 1993 Day: 23 <br> Amount of rainfall: 0","Year: 1993 Day: 24 <br> Amount of rainfall: 3.9","Year: 1993 Day: 25 <br> Amount of rainfall: 3.9","Year: 1993 Day: 26 <br> Amount of rainfall: 4.9","Year: 1993 Day: 27 <br> Amount of rainfall: 0","Year: 1993 Day: 28 <br> Amount of rainfall: 9.1"],"key":["29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56"],"frame":"1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,11.82734893283739,9.2204862321783612,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,7.559055118110237,8.6098364172954955,14.036506072865778,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.963975683488133,7.559055118110237,7.559055118110237,12.199179696716985,12.199179696716985,12.760157193495585,7.559055118110237,14.646962489940405],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2003","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-1.2,-5.4000000000000004,-11,-0.20000000000000001,-3.1000000000000001,-1.2,-0.90000000000000002,-0.20000000000000001,-0,-18.800000000000001,-0,-0,-0,-7.2999999999999998,-84,-6,-6.7999999999999998,-9.1999999999999993,-0,-0,-0,-0,-0,-0,-0,-0,-0,-5.2000000000000002],"text":["Year: 2003 Day: 1 <br> Amount of rainfall: 1.2","Year: 2003 Day: 2 <br> Amount of rainfall: 5.4","Year: 2003 Day: 3 <br> Amount of rainfall: 11","Year: 2003 Day: 4 <br> Amount of rainfall: 0.2","Year: 2003 Day: 5 <br> Amount of rainfall: 3.1","Year: 2003 Day: 6 <br> Amount of rainfall: 1.2","Year: 2003 Day: 7 <br> Amount of rainfall: 0.9","Year: 2003 Day: 8 <br> Amount of rainfall: 0.2","Year: 2003 Day: 9 <br> Amount of rainfall: 0","Year: 2003 Day: 10 <br> Amount of rainfall: 18.8","Year: 2003 Day: 11 <br> Amount of rainfall: 0","Year: 2003 Day: 12 <br> Amount of rainfall: 0","Year: 2003 Day: 13 <br> Amount of rainfall: 0","Year: 2003 Day: 14 <br> Amount of rainfall: 7.3","Year: 2003 Day: 15 <br> Amount of rainfall: 84","Year: 2003 Day: 16 <br> Amount of rainfall: 6","Year: 2003 Day: 17 <br> Amount of rainfall: 6.8","Year: 2003 Day: 18 <br> Amount of rainfall: 9.2","Year: 2003 Day: 19 <br> Amount of rainfall: 0","Year: 2003 Day: 20 <br> Amount of rainfall: 0","Year: 2003 Day: 21 <br> Amount of rainfall: 0","Year: 2003 Day: 22 <br> Amount of rainfall: 0","Year: 2003 Day: 23 <br> Amount of rainfall: 0","Year: 2003 Day: 24 <br> Amount of rainfall: 0","Year: 2003 Day: 25 <br> Amount of rainfall: 0","Year: 2003 Day: 26 <br> Amount of rainfall: 0","Year: 2003 Day: 27 <br> Amount of rainfall: 0","Year: 2003 Day: 28 <br> Amount of rainfall: 5.2"],"key":["57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84"],"frame":"2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"],"opacity":0.69999999999999996,"size":[10.132933132372909,13.019074911606541,15.351857799396367,8.6098364172954955,11.695985229934781,10.132933132372909,9.788098864703958,8.6098364172954955,7.559055118110237,17.746757795330517,7.559055118110237,7.559055118110237,7.559055118110237,13.907374491234693,29.093663595195054,13.314421323793747,13.686110325662527,14.685800629281738,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,12.917009467174246],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2013","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0,-39.399999999999999,-0.40000000000000002,-28.600000000000001,-17.600000000000001,-9.1999999999999993,-35.600000000000001,-54.799999999999997,-10.199999999999999,-1.2,-14.4,-0.40000000000000002,-50.399999999999999,-44.200000000000003,-3.3999999999999999,-0.20000000000000001,-23.800000000000001,-0.80000000000000004,-0.40000000000000002,-8.1999999999999993,-0,-0,-0,-25.199999999999999,-58.200000000000003,-1.8,-0],"text":["Year: 2013 Day: 1 <br> Amount of rainfall: 0","Year: 2013 Day: 2 <br> Amount of rainfall: 0","Year: 2013 Day: 3 <br> Amount of rainfall: 39.4","Year: 2013 Day: 4 <br> Amount of rainfall: 0.4","Year: 2013 Day: 5 <br> Amount of rainfall: 28.6","Year: 2013 Day: 6 <br> Amount of rainfall: 17.6","Year: 2013 Day: 7 <br> Amount of rainfall: 9.2","Year: 2013 Day: 8 <br> Amount of rainfall: 35.6","Year: 2013 Day: 9 <br> Amount of rainfall: 54.8","Year: 2013 Day: 10 <br> Amount of rainfall: 10.2","Year: 2013 Day: 11 <br> Amount of rainfall: 1.2","Year: 2013 Day: 12 <br> Amount of rainfall: 14.4","Year: 2013 Day: 13 <br> Amount of rainfall: 0.4","Year: 2013 Day: 14 <br> Amount of rainfall: 50.4","Year: 2013 Day: 15 <br> Amount of rainfall: 44.2","Year: 2013 Day: 16 <br> Amount of rainfall: 3.4","Year: 2013 Day: 17 <br> Amount of rainfall: 0.2","Year: 2013 Day: 18 <br> Amount of rainfall: 23.8","Year: 2013 Day: 19 <br> Amount of rainfall: 0.8","Year: 2013 Day: 20 <br> Amount of rainfall: 0.4","Year: 2013 Day: 21 <br> Amount of rainfall: 8.2","Year: 2013 Day: 22 <br> Amount of rainfall: 0","Year: 2013 Day: 23 <br> Amount of rainfall: 0","Year: 2013 Day: 24 <br> Amount of rainfall: 0","Year: 2013 Day: 25 <br> Amount of rainfall: 25.2","Year: 2013 Day: 26 <br> Amount of rainfall: 58.2","Year: 2013 Day: 27 <br> Amount of rainfall: 1.8","Year: 2013 Day: 28 <br> Amount of rainfall: 0"],"key":["85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112"],"frame":"2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,7.559055118110237,22.30747346474455,9.0450842825060498,20.124571877742405,17.416257449762789,14.685800629281738,21.578226216706184,24.952580545940677,15.063134560293031,10.132933132372909,16.475230104485117,9.0450842825060498,24.239691117879552,23.180042150194947,11.891537404074811,8.6098364172954955,19.021725806365126,9.6606177164807541,9.0450842825060498,14.287338323164542,7.559055118110237,7.559055118110237,7.559055118110237,19.354045948051564,25.484041298489313,10.711399015666011,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2023","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-4.7999999999999998,-27,-6.4000000000000004,-13.800000000000001,-0,-0,-49.200000000000003,-9.4000000000000004,-7.2000000000000002,-0,-35,-0.20000000000000001,-27,-18.600000000000001,-0,-0,-0,-0,-0,-0,-0.20000000000000001,-0,-0,-0,-1.6000000000000001,-1.8,-165.59999999999999],"text":["Year: 2023 Day: 1 <br> Amount of rainfall: 0","Year: 2023 Day: 2 <br> Amount of rainfall: 4.8","Year: 2023 Day: 3 <br> Amount of rainfall: 27","Year: 2023 Day: 4 <br> Amount of rainfall: 6.4","Year: 2023 Day: 5 <br> Amount of rainfall: 13.8","Year: 2023 Day: 6 <br> Amount of rainfall: 0","Year: 2023 Day: 7 <br> Amount of rainfall: 0","Year: 2023 Day: 8 <br> Amount of rainfall: 49.2","Year: 2023 Day: 9 <br> Amount of rainfall: 9.4","Year: 2023 Day: 10 <br> Amount of rainfall: 7.2","Year: 2023 Day: 11 <br> Amount of rainfall: 0","Year: 2023 Day: 12 <br> Amount of rainfall: 35","Year: 2023 Day: 13 <br> Amount of rainfall: 0.2","Year: 2023 Day: 14 <br> Amount of rainfall: 27","Year: 2023 Day: 15 <br> Amount of rainfall: 18.6","Year: 2023 Day: 16 <br> Amount of rainfall: 0","Year: 2023 Day: 17 <br> Amount of rainfall: 0","Year: 2023 Day: 18 <br> Amount of rainfall: 0","Year: 2023 Day: 19 <br> Amount of rainfall: 0","Year: 2023 Day: 20 <br> Amount of rainfall: 0","Year: 2023 Day: 21 <br> Amount of rainfall: 0","Year: 2023 Day: 22 <br> Amount of rainfall: 0.2","Year: 2023 Day: 23 <br> Amount of rainfall: 0","Year: 2023 Day: 24 <br> Amount of rainfall: 0","Year: 2023 Day: 25 <br> Amount of rainfall: 0","Year: 2023 Day: 26 <br> Amount of rainfall: 1.6","Year: 2023 Day: 27 <br> Amount of rainfall: 1.8","Year: 2023 Day: 28 <br> Amount of rainfall: 165.6"],"key":["113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"frame":"2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,12.706811146635584,19.768030534862337,13.503171775693493,16.287500132630562,7.559055118110237,7.559055118110237,24.039915815431094,14.762848765885041,13.86374291322179,7.559055118110237,21.459585117917996,8.6098364172954955,19.768030534862337,17.692422993635322,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,8.6098364172954955,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,10.711399015666011,37.795275590551185],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"]}},"hoveron":"points","set":"SharedData0568532a","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="col-xs-11">
<div class="datatables html-widget html-fill-item" id="htmlwidget-2b4a838bd95b034154d0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2b4a838bd95b034154d0">{"x":{"crosstalkOptions":{"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"group":"SharedData0568532a"},"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],[1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],[0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,8.300000000000001,7.9,0,0,0,0,0,0,0,0,0,0,0,0,3.3,0.5,0,0,0,0,0,0,0,0,0,1.6,0,0.2,7.6,0,0,0,0,2.1,0,0,3.9,3.9,4.9,0,9.1,1.2,5.4,11,0.2,3.1,1.2,0.9,0.2,0,18.8,0,0,0,7.3,84,6,6.8,9.199999999999999,0,0,0,0,0,0,0,0,0,5.2,0,0,39.4,0.4,28.6,17.6,9.199999999999999,35.6,54.8,10.2,1.2,14.4,0.4,50.4,44.2,3.4,0.2,23.8,0.8,0.4,8.199999999999999,0,0,0,25.2,58.2,1.8,0,0,4.8,27,6.4,13.8,0,0,49.2,9.4,7.2,0,35,0.2,27,18.6,0,0,0,0,0,0,0.2,0,0,0,1.6,1.8,165.6],["1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4"],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,1],[null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4],[1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Day<\/th>\n      <th>amt_rainfall<\/th>\n      <th>Week<\/th>\n      <th>rainyday_indicator<\/th>\n      <th>Weeks<\/th>\n      <th>Weeks_Labels<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Year","targets":1},{"name":"Day","targets":2},{"name":"amt_rainfall","targets":3},{"name":"Week","targets":4},{"name":"rainyday_indicator","targets":5},{"name":"Weeks","targets":6},{"name":"Weeks_Labels","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="final-visualisation" class="level3">
<h3 class="anchored" data-anchor-id="final-visualisation">3.3.3 Final Visualisation</h3>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>l1 <span class="ot">&lt;-</span> (line_chart <span class="sc">/</span> multiples) <span class="sc">|</span> box_plot</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>l2 <span class="ot">&lt;-</span> heatmap_plot <span class="sc">|</span> ch_rainfall </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>final <span class="ot">&lt;-</span> l1<span class="sc">/</span>l2 <span class="sc">+</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"February seems to be getting wetter."</span>,</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"February is the driest month in Singapore but even its total rainfall has been increasing over the decades (although there is much uncertainty if this change is statistically </span><span class="sc">\n</span><span class="st">significant). 1983 and 1993 were relatively dry while the later years became wetter and rain was often in the first half of the month. There were also more days with high amounts of rainfall (outliers). Climate change has also resulted in unusual weather patterns with 2013 being a blip year. </span><span class="sc">\n</span><span class="st">It was unusually rainy with high amounts of rainfall caused by the unusual wet phases of the Northeast Monsoon Season and Madden-Julian Oscillation."</span>,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data source: MSS 2024"</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">25</span>))  </span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>final</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex03_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>To learn more about the changing rainfall patterns, you can:</p>
<ol type="1">
<li><p>Animate the rainfall bubble plot by pressing Play and seeing the changes through time,</p></li>
<li><p>Selecting individual bubbles to learn more about the day‚Äôs rainfall</p></li>
<li><p>Selecting different bubbles and exploring the linked interactive data table</p></li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>code block</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>rain_data <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(rainyfall)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>rain_p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rain_data, </span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">linewidth =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">+</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="dv">1</span>)</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>rain_highlight <span class="ot">&lt;-</span> <span class="fu">highlight</span>(<span class="fu">ggplotly</span>(rain_p,, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>), </span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">on =</span> <span class="st">"plotly_selected"</span>,</span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="st">"plotly_doubleclick"</span>)</span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a>interactive <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span><span class="fu">bscols</span>(rain_highlight,</span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a>                  DT<span class="sc">::</span><span class="fu">datatable</span>(rain_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)),</span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a>                  <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a>interactive</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="container-fluid crosstalk-bscols">
<div class="row">
<div class="col-xs-11">
<div class="plotly html-widget html-fill-item" id="htmlwidget-60bc1f4aeb249231c89b" style="width:100%;height:400px;"></div>
<script type="application/json" data-for="htmlwidget-60bc1f4aeb249231c89b">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true},{"x":[-0.35000000000000009,29.350000000000001],"y":[-7.2164285714285716,-7.2164285714285716],"text":"","type":"scatter","mode":"lines","line":{"width":0.75590551181102372,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[3],"y":[-17.216428571428573],"text":"Mean rainfall: 7.22","hovertext":"","textfont":{"size":11.338582677165356,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":24.767123287671232,"r":7.3059360730593621,"b":38.721461187214615,"l":10.958904109589042},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.35000000000000009,29.350000000000001],"tickmode":"array","ticktext":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"tickvals":[1,2,3,3.9999999999999996,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"categoryorder":"array","categoryarray":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Days of February","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-210,10],"tickmode":"array","ticktext":["0","50","100","150","200"],"tickvals":[0,-50,-100,-150,-200],"categoryorder":"array","categoryarray":["0","50","100","150","200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative","dragmode":"select","sliders":[{"currentvalue":{"prefix":"~Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["1983"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1983","value":"1983"},{"method":"animate","args":[["1993"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"1993","value":"1993"},{"method":"animate","args":[["2003"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2003","value":"2003"},{"method":"animate","args":[["2013"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["2023"],{"transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false},"mode":"immediate"}],"label":"2023","value":"2023"}],"visible":true,"pad":{"t":40}}],"updatemenus":[{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":1500,"easing":"linear"},"frame":{"duration":1500,"redraw":false}}]}]}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"82c42629357f":{"x":{},"y":{},"size":{},"colour":{},"text":{},"frame":{},"type":"scatter"},"82c41d3d3474":{"yintercept":{}},"82c4147010c6":{"x":{},"y":{}}},"cur_data":"82c42629357f","visdat":{"82c42629357f":["function (y) ","x"],"82c41d3d3474":["function (y) ","x"],"82c4147010c6":["function (y) ","x"]},"highlight":{"on":"plotly_selected","off":"plotly_doubleclick","persistent":false,"dynamic":false,"color":null,"selectize":false,"defaultValues":null,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0,"ctGroups":["SharedData566573cb"]},"frames":[{"name":"1983","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0.29999999999999999,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-8.3000000000000007,-7.9000000000000004,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],"text":["Year: 1983 Day: 1 <br> Amount of rainfall: 0","Year: 1983 Day: 2 <br> Amount of rainfall: 0.3","Year: 1983 Day: 3 <br> Amount of rainfall: 0","Year: 1983 Day: 4 <br> Amount of rainfall: 0","Year: 1983 Day: 5 <br> Amount of rainfall: 0","Year: 1983 Day: 6 <br> Amount of rainfall: 0","Year: 1983 Day: 7 <br> Amount of rainfall: 0","Year: 1983 Day: 8 <br> Amount of rainfall: 0","Year: 1983 Day: 9 <br> Amount of rainfall: 0","Year: 1983 Day: 10 <br> Amount of rainfall: 0","Year: 1983 Day: 11 <br> Amount of rainfall: 0","Year: 1983 Day: 12 <br> Amount of rainfall: 0","Year: 1983 Day: 13 <br> Amount of rainfall: 0","Year: 1983 Day: 14 <br> Amount of rainfall: 0","Year: 1983 Day: 15 <br> Amount of rainfall: 0","Year: 1983 Day: 16 <br> Amount of rainfall: 8.3","Year: 1983 Day: 17 <br> Amount of rainfall: 7.9","Year: 1983 Day: 18 <br> Amount of rainfall: 0","Year: 1983 Day: 19 <br> Amount of rainfall: 0","Year: 1983 Day: 20 <br> Amount of rainfall: 0","Year: 1983 Day: 21 <br> Amount of rainfall: 0","Year: 1983 Day: 22 <br> Amount of rainfall: 0","Year: 1983 Day: 23 <br> Amount of rainfall: 0","Year: 1983 Day: 24 <br> Amount of rainfall: 0","Year: 1983 Day: 25 <br> Amount of rainfall: 0","Year: 1983 Day: 26 <br> Amount of rainfall: 0","Year: 1983 Day: 27 <br> Amount of rainfall: 0","Year: 1983 Day: 28 <br> Amount of rainfall: 0"],"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28"],"frame":"1983","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,8.8459941252415728,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,14.328240117559918,14.163113179585746,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"1993","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-3.2999999999999998,-0.5,-0,-0,-0,-0,-0,-0,-0,-0,-0,-1.6000000000000001,-0,-0.20000000000000001,-7.5999999999999996,-0,-0,-0,-0,-2.1000000000000001,-0,-0,-3.8999999999999999,-3.8999999999999999,-4.9000000000000004,-0,-9.0999999999999996],"text":["Year: 1993 Day: 1 <br> Amount of rainfall: 0","Year: 1993 Day: 2 <br> Amount of rainfall: 3.3","Year: 1993 Day: 3 <br> Amount of rainfall: 0.5","Year: 1993 Day: 4 <br> Amount of rainfall: 0","Year: 1993 Day: 5 <br> Amount of rainfall: 0","Year: 1993 Day: 6 <br> Amount of rainfall: 0","Year: 1993 Day: 7 <br> Amount of rainfall: 0","Year: 1993 Day: 8 <br> Amount of rainfall: 0","Year: 1993 Day: 9 <br> Amount of rainfall: 0","Year: 1993 Day: 10 <br> Amount of rainfall: 0","Year: 1993 Day: 11 <br> Amount of rainfall: 0","Year: 1993 Day: 12 <br> Amount of rainfall: 0","Year: 1993 Day: 13 <br> Amount of rainfall: 1.6","Year: 1993 Day: 14 <br> Amount of rainfall: 0","Year: 1993 Day: 15 <br> Amount of rainfall: 0.2","Year: 1993 Day: 16 <br> Amount of rainfall: 7.6","Year: 1993 Day: 17 <br> Amount of rainfall: 0","Year: 1993 Day: 18 <br> Amount of rainfall: 0","Year: 1993 Day: 19 <br> Amount of rainfall: 0","Year: 1993 Day: 20 <br> Amount of rainfall: 0","Year: 1993 Day: 21 <br> Amount of rainfall: 2.1","Year: 1993 Day: 22 <br> Amount of rainfall: 0","Year: 1993 Day: 23 <br> Amount of rainfall: 0","Year: 1993 Day: 24 <br> Amount of rainfall: 3.9","Year: 1993 Day: 25 <br> Amount of rainfall: 3.9","Year: 1993 Day: 26 <br> Amount of rainfall: 4.9","Year: 1993 Day: 27 <br> Amount of rainfall: 0","Year: 1993 Day: 28 <br> Amount of rainfall: 9.1"],"key":["29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56"],"frame":"1993","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,11.82734893283739,9.2204862321783612,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,7.559055118110237,8.6098364172954955,14.036506072865778,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,10.963975683488133,7.559055118110237,7.559055118110237,12.199179696716985,12.199179696716985,12.760157193495585,7.559055118110237,14.646962489940405],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,46,71,1)","rgba(20,46,71,1)","rgba(21,46,72,1)","rgba(19,43,67,1)","rgba(22,49,76,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2003","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-1.2,-5.4000000000000004,-11,-0.20000000000000001,-3.1000000000000001,-1.2,-0.90000000000000002,-0.20000000000000001,-0,-18.800000000000001,-0,-0,-0,-7.2999999999999998,-84,-6,-6.7999999999999998,-9.1999999999999993,-0,-0,-0,-0,-0,-0,-0,-0,-0,-5.2000000000000002],"text":["Year: 2003 Day: 1 <br> Amount of rainfall: 1.2","Year: 2003 Day: 2 <br> Amount of rainfall: 5.4","Year: 2003 Day: 3 <br> Amount of rainfall: 11","Year: 2003 Day: 4 <br> Amount of rainfall: 0.2","Year: 2003 Day: 5 <br> Amount of rainfall: 3.1","Year: 2003 Day: 6 <br> Amount of rainfall: 1.2","Year: 2003 Day: 7 <br> Amount of rainfall: 0.9","Year: 2003 Day: 8 <br> Amount of rainfall: 0.2","Year: 2003 Day: 9 <br> Amount of rainfall: 0","Year: 2003 Day: 10 <br> Amount of rainfall: 18.8","Year: 2003 Day: 11 <br> Amount of rainfall: 0","Year: 2003 Day: 12 <br> Amount of rainfall: 0","Year: 2003 Day: 13 <br> Amount of rainfall: 0","Year: 2003 Day: 14 <br> Amount of rainfall: 7.3","Year: 2003 Day: 15 <br> Amount of rainfall: 84","Year: 2003 Day: 16 <br> Amount of rainfall: 6","Year: 2003 Day: 17 <br> Amount of rainfall: 6.8","Year: 2003 Day: 18 <br> Amount of rainfall: 9.2","Year: 2003 Day: 19 <br> Amount of rainfall: 0","Year: 2003 Day: 20 <br> Amount of rainfall: 0","Year: 2003 Day: 21 <br> Amount of rainfall: 0","Year: 2003 Day: 22 <br> Amount of rainfall: 0","Year: 2003 Day: 23 <br> Amount of rainfall: 0","Year: 2003 Day: 24 <br> Amount of rainfall: 0","Year: 2003 Day: 25 <br> Amount of rainfall: 0","Year: 2003 Day: 26 <br> Amount of rainfall: 0","Year: 2003 Day: 27 <br> Amount of rainfall: 0","Year: 2003 Day: 28 <br> Amount of rainfall: 5.2"],"key":["57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84"],"frame":"2003","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"],"opacity":0.69999999999999996,"size":[10.132933132372909,13.019074911606541,15.351857799396367,8.6098364172954955,11.695985229934781,10.132933132372909,9.788098864703958,8.6098364172954955,7.559055118110237,17.746757795330517,7.559055118110237,7.559055118110237,7.559055118110237,13.907374491234693,29.093663595195054,13.314421323793747,13.686110325662527,14.685800629281738,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,12.917009467174246],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,44,68,1)","rgba(21,47,72,1)","rgba(23,51,78,1)","rgba(19,43,67,1)","rgba(20,45,70,1)","rgba(19,44,68,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(22,48,74,1)","rgba(51,107,153,1)","rgba(21,47,73,1)","rgba(21,48,73,1)","rgba(22,50,76,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(21,47,72,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2013","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-0,-39.399999999999999,-0.40000000000000002,-28.600000000000001,-17.600000000000001,-9.1999999999999993,-35.600000000000001,-54.799999999999997,-10.199999999999999,-1.2,-14.4,-0.40000000000000002,-50.399999999999999,-44.200000000000003,-3.3999999999999999,-0.20000000000000001,-23.800000000000001,-0.80000000000000004,-0.40000000000000002,-8.1999999999999993,-0,-0,-0,-25.199999999999999,-58.200000000000003,-1.8,-0],"text":["Year: 2013 Day: 1 <br> Amount of rainfall: 0","Year: 2013 Day: 2 <br> Amount of rainfall: 0","Year: 2013 Day: 3 <br> Amount of rainfall: 39.4","Year: 2013 Day: 4 <br> Amount of rainfall: 0.4","Year: 2013 Day: 5 <br> Amount of rainfall: 28.6","Year: 2013 Day: 6 <br> Amount of rainfall: 17.6","Year: 2013 Day: 7 <br> Amount of rainfall: 9.2","Year: 2013 Day: 8 <br> Amount of rainfall: 35.6","Year: 2013 Day: 9 <br> Amount of rainfall: 54.8","Year: 2013 Day: 10 <br> Amount of rainfall: 10.2","Year: 2013 Day: 11 <br> Amount of rainfall: 1.2","Year: 2013 Day: 12 <br> Amount of rainfall: 14.4","Year: 2013 Day: 13 <br> Amount of rainfall: 0.4","Year: 2013 Day: 14 <br> Amount of rainfall: 50.4","Year: 2013 Day: 15 <br> Amount of rainfall: 44.2","Year: 2013 Day: 16 <br> Amount of rainfall: 3.4","Year: 2013 Day: 17 <br> Amount of rainfall: 0.2","Year: 2013 Day: 18 <br> Amount of rainfall: 23.8","Year: 2013 Day: 19 <br> Amount of rainfall: 0.8","Year: 2013 Day: 20 <br> Amount of rainfall: 0.4","Year: 2013 Day: 21 <br> Amount of rainfall: 8.2","Year: 2013 Day: 22 <br> Amount of rainfall: 0","Year: 2013 Day: 23 <br> Amount of rainfall: 0","Year: 2013 Day: 24 <br> Amount of rainfall: 0","Year: 2013 Day: 25 <br> Amount of rainfall: 25.2","Year: 2013 Day: 26 <br> Amount of rainfall: 58.2","Year: 2013 Day: 27 <br> Amount of rainfall: 1.8","Year: 2013 Day: 28 <br> Amount of rainfall: 0"],"key":["85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112"],"frame":"2013","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,7.559055118110237,22.30747346474455,9.0450842825060498,20.124571877742405,17.416257449762789,14.685800629281738,21.578226216706184,24.952580545940677,15.063134560293031,10.132933132372909,16.475230104485117,9.0450842825060498,24.239691117879552,23.180042150194947,11.891537404074811,8.6098364172954955,19.021725806365126,9.6606177164807541,9.0450842825060498,14.287338323164542,7.559055118110237,7.559055118110237,7.559055118110237,19.354045948051564,25.484041298489313,10.711399015666011,7.559055118110237],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(34,72,106,1)","rgba(19,43,67,1)","rgba(30,64,95,1)","rgba(25,56,84,1)","rgba(22,50,76,1)","rgba(32,69,102,1)","rgba(40,84,122,1)","rgba(23,50,77,1)","rgba(19,44,68,1)","rgba(24,53,81,1)","rgba(19,43,67,1)","rgba(38,80,117,1)","rgba(35,76,111,1)","rgba(20,45,70,1)","rgba(19,43,67,1)","rgba(28,60,90,1)","rgba(19,44,68,1)","rgba(19,43,67,1)","rgba(22,49,75,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(28,61,92,1)","rgba(41,86,125,1)","rgba(20,44,69,1)","rgba(19,43,67,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]},{"name":"2023","data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],"y":[-0,-4.7999999999999998,-27,-6.4000000000000004,-13.800000000000001,-0,-0,-49.200000000000003,-9.4000000000000004,-7.2000000000000002,-0,-35,-0.20000000000000001,-27,-18.600000000000001,-0,-0,-0,-0,-0,-0,-0.20000000000000001,-0,-0,-0,-1.6000000000000001,-1.8,-165.59999999999999],"text":["Year: 2023 Day: 1 <br> Amount of rainfall: 0","Year: 2023 Day: 2 <br> Amount of rainfall: 4.8","Year: 2023 Day: 3 <br> Amount of rainfall: 27","Year: 2023 Day: 4 <br> Amount of rainfall: 6.4","Year: 2023 Day: 5 <br> Amount of rainfall: 13.8","Year: 2023 Day: 6 <br> Amount of rainfall: 0","Year: 2023 Day: 7 <br> Amount of rainfall: 0","Year: 2023 Day: 8 <br> Amount of rainfall: 49.2","Year: 2023 Day: 9 <br> Amount of rainfall: 9.4","Year: 2023 Day: 10 <br> Amount of rainfall: 7.2","Year: 2023 Day: 11 <br> Amount of rainfall: 0","Year: 2023 Day: 12 <br> Amount of rainfall: 35","Year: 2023 Day: 13 <br> Amount of rainfall: 0.2","Year: 2023 Day: 14 <br> Amount of rainfall: 27","Year: 2023 Day: 15 <br> Amount of rainfall: 18.6","Year: 2023 Day: 16 <br> Amount of rainfall: 0","Year: 2023 Day: 17 <br> Amount of rainfall: 0","Year: 2023 Day: 18 <br> Amount of rainfall: 0","Year: 2023 Day: 19 <br> Amount of rainfall: 0","Year: 2023 Day: 20 <br> Amount of rainfall: 0","Year: 2023 Day: 21 <br> Amount of rainfall: 0","Year: 2023 Day: 22 <br> Amount of rainfall: 0.2","Year: 2023 Day: 23 <br> Amount of rainfall: 0","Year: 2023 Day: 24 <br> Amount of rainfall: 0","Year: 2023 Day: 25 <br> Amount of rainfall: 0","Year: 2023 Day: 26 <br> Amount of rainfall: 1.6","Year: 2023 Day: 27 <br> Amount of rainfall: 1.8","Year: 2023 Day: 28 <br> Amount of rainfall: 165.6"],"key":["113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"frame":"2023","type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"],"opacity":0.69999999999999996,"size":[7.559055118110237,12.706811146635584,19.768030534862337,13.503171775693493,16.287500132630562,7.559055118110237,7.559055118110237,24.039915815431094,14.762848765885041,13.86374291322179,7.559055118110237,21.459585117917996,8.6098364172954955,19.768030534862337,17.692422993635322,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,7.559055118110237,8.6098364172954955,7.559055118110237,7.559055118110237,7.559055118110237,10.531113446901864,10.711399015666011,37.795275590551185],"symbol":"circle","line":{"width":1.8897637795275593,"color":["rgba(19,43,67,1)","rgba(21,46,72,1)","rgba(29,63,93,1)","rgba(21,48,73,1)","rgba(24,53,80,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(37,79,116,1)","rgba(22,50,76,1)","rgba(22,48,74,1)","rgba(19,43,67,1)","rgba(32,69,101,1)","rgba(19,43,67,1)","rgba(29,63,93,1)","rgba(26,56,85,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(19,43,67,1)","rgba(20,44,69,1)","rgba(20,44,69,1)","rgba(86,177,247,1)"]}},"hoveron":"points","set":"SharedData566573cb","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","_isNestedKey":false,"visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="col-xs-11">
<div class="datatables html-widget html-fill-item" id="htmlwidget-713a178614d4e7b9fbd9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-713a178614d4e7b9fbd9">{"x":{"crosstalkOptions":{"key":["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],"group":"SharedData566573cb"},"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140"],[1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1983,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,1993,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2003,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2013,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023,2023],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],[0,0.3,0,0,0,0,0,0,0,0,0,0,0,0,0,8.300000000000001,7.9,0,0,0,0,0,0,0,0,0,0,0,0,3.3,0.5,0,0,0,0,0,0,0,0,0,1.6,0,0.2,7.6,0,0,0,0,2.1,0,0,3.9,3.9,4.9,0,9.1,1.2,5.4,11,0.2,3.1,1.2,0.9,0.2,0,18.8,0,0,0,7.3,84,6,6.8,9.199999999999999,0,0,0,0,0,0,0,0,0,5.2,0,0,39.4,0.4,28.6,17.6,9.199999999999999,35.6,54.8,10.2,1.2,14.4,0.4,50.4,44.2,3.4,0.2,23.8,0.8,0.4,8.199999999999999,0,0,0,25.2,58.2,1.8,0,0,4.8,27,6.4,13.8,0,0,49.2,9.4,7.2,0,35,0.2,27,18.6,0,0,0,0,0,0,0.2,0,0,0,1.6,1.8,165.6],["1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4","1","1","1","1","1","1","1","2","2","2","2","2","2","2","3","3","3","3","3","3","3","4","4","4","4","4","4","4"],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,1,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,1,1,1],[null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,null,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4],[1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4,1,1,1,1,1,1,1,2,2,2,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Year<\/th>\n      <th>Day<\/th>\n      <th>amt_rainfall<\/th>\n      <th>Week<\/th>\n      <th>rainyday_indicator<\/th>\n      <th>Weeks<\/th>\n      <th>Weeks_Labels<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,2,3,5,6,7]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Year","targets":1},{"name":"Day","targets":2},{"name":"amt_rainfall","targets":3},{"name":"Week","targets":4},{"name":"rainyday_indicator","targets":5},{"name":"Weeks","targets":6},{"name":"Weeks_Labels","targets":7}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="learning-points" class="level1">
<h1>4 Learning Points</h1>
<p>This exercise was really difficult for me to learn how to present both static and interactive data visualisations. I had a lot of ideas but they proved to be impossible either a) small data sample, b) limited scope of R packages, or c) lack of experience.</p>
<ol type="1">
<li><p>I had a lot of trouble with the Year variable. Do I label it as a ordinal/categorical or continuous variable? Some <code>ggplotly()</code> graphs allowed me to use it as an ordinal variable while others insisted on a continuous variable or as an integer. It was good practice to learn what was suitable.</p></li>
<li><p>I had every intention to link my heatmap and cumulative histogram together as I felt being able to see how each colour intensity of the heatmap matched to the cumulative value in cumulative histogram would be very eye-opening. However, the packages did not allow this.</p></li>
<li><p>I also thought of doing a dashboard but unfortunately, <code>patchwork()</code> and <code>subplot()</code> were very limited in its layout.</p></li>
<li><p>With limited data sample, it was difficult to plot the distribution especially since it was a dry month and there were many duplicated days of 0.0mm. This was challenging and only the blip year 2013 had 4 quartiles(!) while the year 1983 only had 2 quartiles! It was very weird.</p></li>
</ol>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb38" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Take-home Exercise 3: Be Weatherwise or Otherwise"</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "[DataVis of Singapore's weather](https://isss608-ay2023-24jan.netlify.app/take-home_ex/th_ex03)" </span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Victoria Neo"</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> 02/07/2024</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="an">date-modified:</span><span class="co"> 02/18/2024</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "code block"</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-border-left: "#f9dc5c"</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-block-background: true</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Impact Of Climate Change In Singapore](https://www.nccs.gov.sg/singapores-climate-action/impact-of-climate-change-in-singapore/)</span><span class="co">](images/clipboard-939414320.png)</span>{fig-align="left" width="829"}</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># 1 Setting the scene</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>According to the official Climate Change in Singapore report as shown in the infographic above,</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Daily mean temperature are projected to increase by 1.4 to 4.6,</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>there will be more warm days and warm nights from February to September,</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Annual total rainfall rose at an average rate of 101mm per decade,</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The contrast between the wet months (November to January) and dry month (February and June to September) is likely to be more pronounced, and</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Intensity and frequency of heavy rainfall events is expected to increase.</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a><span class="in">flowchart TB</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a><span class="in">  A[Temperature] </span></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a><span class="in">  B[Rainfall]</span></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a><span class="in">  C[Climate Change]</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a><span class="in">  D[Increase in daily mean]</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a><span class="in">  E[More warm days and nights]</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a><span class="in">  F[Increase in annual total]</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a><span class="in">  G[More pronounced contrast between wet and dry months ]</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a><span class="in">  H[Increase intensity and frequency of heavy rainfall]</span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a><span class="in">  C --&gt; A</span></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a><span class="in">  C --&gt; B</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a><span class="in">  A --&gt; D</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="in">  A --&gt; E</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a><span class="in">  B --&gt; F</span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a><span class="in">  B --&gt; G</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a><span class="in">  B --&gt; H</span></span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a><span class="in"> </span></span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a><span class="fu">## 1.1 The Task {data-link="1.1 The Task"}</span></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>In this take-home exercise, you are required to:</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Select a weather station and download <span class="co">[</span><span class="ot">historical daily temperature or rainfall data</span><span class="co">](http://www.weather.gov.sg/climate-historical-daily/)</span> from <span class="co">[</span><span class="ot">Meteorological Service Singapore</span><span class="co">](http://www.weather.gov.sg/home/)</span> website,</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Select either daily temperature or rainfall records of a month of the year 1983, 1993, 2003, 2013 and 2023 and create an analytics-driven data visualisation,</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Apply appropriate interactive techniques to enhance the user experience in data discovery and/or visual story-telling.</span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a><span class="fu"># 2 Getting started</span></span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2.1 Selection of Task</span></span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a>We are tasked to select 1) rainfall or temperature, 2) for **one** specific month, 3) at **one** specific weather station.</span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.1.1 Selection of Rainfall</span></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a>My son expressed much interest in this assignment and decided the study of rainfall would be the most interesting. He was most excited as he thought I had to manually measure rainfall with a rain gauge. While disappointed by the truth, he revived when I printed out the data tables.</span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a>Thus, the claim being scrutinised in this study is:</span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Climate change has caused annual total rainfall to rise at an average rate of 101mm per decade.</span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a>The claims not studied are:</span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Climate change has caused more pronounced contrast between the wet and dry months.</span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>because the task has specified only studying **one** month and thus comparisons between months is not possible.</span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Climate change has caused an increase in intensity and frequency of heavy rainfall events.</span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>because MacRitchie Reservoir's (and other stations') data for 30-min, 60-min and 120-min rainfall were only recently recorded and did not extend back to 1983 which is one of the criteria of the task.</span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.1.2 Selection of February</span></span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a>For the selection of the month, as we enter February in 2024, <span class="co">[</span><span class="ot">TodayOnline (1 February 2024)</span><span class="co">](https://www.todayonline.com/singapore/weather-forecast-february-dry-lesser-rain-2354476)</span> reported that we will be facing dry weather with less rain. We can see from the table below that between 1991 and 2020, February was the driest month with the least number of mean raindays. I selected February as I thought focusing on the driest month will give us the most pronounced contrast in the increase in rainfall due to climate change.</span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-96"><a href="#cb38-96" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb38-97"><a href="#cb38-97" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Note</span></span>
<span id="cb38-98"><a href="#cb38-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-99"><a href="#cb38-99" aria-hidden="true" tabindex="-1"></a>A day is considered to have ‚Äúrained‚Äù if the total rainfall for that day is 0.2mm or more (read more at <span class="co">[</span><span class="ot">Climate of Singapore</span><span class="co">](http://www.weather.gov.sg/climate-climate-of-singapore/)</span>).</span>
<span id="cb38-100"><a href="#cb38-100" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-101"><a href="#cb38-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-102"><a href="#cb38-102" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Climate of Singapore](http://www.weather.gov.sg/climate-climate-of-singapore/)</span><span class="co">](images/clipboard-1146528269.png)</span>{fig-align="left" width="828"}</span>
<span id="cb38-103"><a href="#cb38-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-104"><a href="#cb38-104" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-105"><a href="#cb38-105" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-106"><a href="#cb38-106" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Drier Conditions In The Next Fortnight](http://www.weather.gov.sg/fwo-drier-conditions-in-the-next-fortnight/)</span><span class="co">](images/clipboard-3344042275.png)</span>{width="610"}</span>
<span id="cb38-107"><a href="#cb38-107" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-108"><a href="#cb38-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-109"><a href="#cb38-109" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-110"><a href="#cb38-110" aria-hidden="true" tabindex="-1"></a>In the table on the right, February sees a huge variance between the highest and lowest monthly rainfall and this can question the claim that climate change has caused rainfall to increase annually.</span>
<span id="cb38-111"><a href="#cb38-111" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-112"><a href="#cb38-112" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-113"><a href="#cb38-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-114"><a href="#cb38-114" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-115"><a href="#cb38-115" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-116"><a href="#cb38-116" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Wettest Day On Record For February](https://www.nea.gov.sg/media/news/advisories/index/wettest-day-on-record-for-february)</span><span class="co">](images/clipboard-2448803289.png)</span>{width="413"}</span>
<span id="cb38-117"><a href="#cb38-117" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-118"><a href="#cb38-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-119"><a href="#cb38-119" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-120"><a href="#cb38-120" aria-hidden="true" tabindex="-1"></a>However, <span class="co">[</span><span class="ot">MSS (1 March 2023)</span><span class="co">](https://www.nea.gov.sg/media/news/advisories/index/wettest-day-on-record-for-february)</span> reported that 2023 also saw the wettest day on record for February - "225.5mm recorded at Kallang... <span class="sc">\[</span>and<span class="sc">\]</span> was the highest daily total rainfall ever recorded in February, exceeding the previous record of 159.3mm on 4 February 1995". Rainfall anomaly saw that well above average rainfall happened in February 2023 as seen in the image below.</span>
<span id="cb38-121"><a href="#cb38-121" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-122"><a href="#cb38-122" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-123"><a href="#cb38-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-124"><a href="#cb38-124" aria-hidden="true" tabindex="-1"></a>Thus, there seems to be interesting patterns occurring in February and thus, it was selected as part of the study.</span>
<span id="cb38-125"><a href="#cb38-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-126"><a href="#cb38-126" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.1.3 Selection of MacRitchie Reservoir station</span></span>
<span id="cb38-127"><a href="#cb38-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-128"><a href="#cb38-128" aria-hidden="true" tabindex="-1"></a>Given the criteria that we need to collect rainfall data from 1983 to 2023, only 19 weather stations met the criteria (you can refer to the link <span class="co">[</span><span class="ot">here</span><span class="co">](http://www.weather.gov.sg/wp-content/uploads/2022/06/Station_Records.pdf)</span>). While Changi is the official reference station of NEA, MacRitchie Reservoir station was of most interest to me as it is relatively located in the central area of Singapore (as seen in the image below) and is in the second wettest area in Singapore. It is of 1.3417 Lat.(N), 103.8338 Long.(E) and 25m elevation above mean sea-level (you can read more <span class="co">[</span><span class="ot">here</span><span class="co">](http://www.weather.gov.sg/wp-content/uploads/2019/03/Annual-Climatological-Report-2018.pdf)</span>). MacRitchie Reservoir is also the <span class="co">[</span><span class="ot">first water supply system</span><span class="co">](https://www.nlb.gov.sg/main/article-detail?cmsuuid=9daebfbc-261a-4785-a296-9a899017aee5)</span> in Singapore as part of the Central Catchment Nature Reserve and its water levels are often mentioned in the news during dry spells.</span>
<span id="cb38-129"><a href="#cb38-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-130"><a href="#cb38-130" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Climate of Singapore](http://www.weather.gov.sg/climate-climate-of-singapore/) (label my own)</span><span class="co">](images/clipboard-3142014947.png)</span>{fig-align="left" width="828"}</span>
<span id="cb38-131"><a href="#cb38-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-132"><a href="#cb38-132" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-133"><a href="#cb38-133" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-134"><a href="#cb38-134" aria-hidden="true" tabindex="-1"></a>However, as seen in the image on the right, MacRitchie Reservoir station does experience rainfall anomaly e.g. in February 2022, it was one of the driest stations with it experiencing only 1% above average rainfall in February.</span>
<span id="cb38-135"><a href="#cb38-135" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-136"><a href="#cb38-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-137"><a href="#cb38-137" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-138"><a href="#cb38-138" aria-hidden="true" tabindex="-1"></a>!<span class="co">[</span><span class="ot">*Taken from* [Expect Another Wet Fortnight](http://www.weather.gov.sg/fwo-expect-another-wet-fortnight-2/)</span><span class="co">](images/clipboard-588065392.png)</span>{fig-align="left" width="413"}</span>
<span id="cb38-139"><a href="#cb38-139" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-140"><a href="#cb38-140" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-141"><a href="#cb38-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-142"><a href="#cb38-142" aria-hidden="true" tabindex="-1"></a>Thus, the variance in MacRitchie Reservoir's rainfall pattern over the years is also interesting and thus, may yield interesting insights.</span>
<span id="cb38-143"><a href="#cb38-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-144"><a href="#cb38-144" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2.2 Questions raised</span></span>
<span id="cb38-145"><a href="#cb38-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-146"><a href="#cb38-146" aria-hidden="true" tabindex="-1"></a>To validate the claims raised in <span class="co">[</span><span class="ot">2.1.1 Selection of Rainfall</span><span class="co">]</span>, there are some questions raised at different levels to study rainfall trends in Singapore.</span>
<span id="cb38-147"><a href="#cb38-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-148"><a href="#cb38-148" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.2.1 Questions about the data</span></span>
<span id="cb38-149"><a href="#cb38-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-150"><a href="#cb38-150" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Number of days it rained? Total? Mean? Median? Maximum? Minimum?</span>
<span id="cb38-151"><a href="#cb38-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-152"><a href="#cb38-152" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Volume of total rainfall? Total? Mean? Median? Maximum? Minimum?</span>
<span id="cb38-153"><a href="#cb38-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-154"><a href="#cb38-154" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>How do these figures compare to the average rainfall for February (1991 - 2020) as reported by MSS?</span>
<span id="cb38-155"><a href="#cb38-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-156"><a href="#cb38-156" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>When does it usually rain in February? Day? Week?</span>
<span id="cb38-157"><a href="#cb38-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-158"><a href="#cb38-158" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>Weekly? Monthly? Yearly? patterns</span>
<span id="cb38-159"><a href="#cb38-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-160"><a href="#cb38-160" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>Since this is sample data, how can I be certain about my conclusions?</span>
<span id="cb38-161"><a href="#cb38-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-162"><a href="#cb38-162" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.2.2 Questions about the visualisation of data</span></span>
<span id="cb38-163"><a href="#cb38-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-164"><a href="#cb38-164" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>How to present the trends in number of days and volume of rainfall</span>
<span id="cb38-165"><a href="#cb38-165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-166"><a href="#cb38-166" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>How to present the yearly/monthly trends of rainfall</span>
<span id="cb38-167"><a href="#cb38-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-168"><a href="#cb38-168" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>How to gain a deeper insight on the differences between years and days of rainfall</span>
<span id="cb38-169"><a href="#cb38-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-170"><a href="#cb38-170" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>How to quickly spot patterns in the data across years and days</span>
<span id="cb38-171"><a href="#cb38-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-172"><a href="#cb38-172" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>How to visualise statistical uncertainty for sample data</span>
<span id="cb38-173"><a href="#cb38-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-174"><a href="#cb38-174" aria-hidden="true" tabindex="-1"></a><span class="fu">## 2.3 Data</span></span>
<span id="cb38-175"><a href="#cb38-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-176"><a href="#cb38-176" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.3.1 Installing and loading the required libraries</span></span>
<span id="cb38-177"><a href="#cb38-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-178"><a href="#cb38-178" aria-hidden="true" tabindex="-1"></a>The code chunk below uses p_load() of pacman package to check if the necessary packages are installed in the computer. If they are, then they will be launched into R.</span>
<span id="cb38-179"><a href="#cb38-179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-180"><a href="#cb38-180" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**crosstalk**</span><span class="co">](https://rstudio.github.io/crosstalk/using.html)</span>, for implementing cross-widget interactions (currently, linked brushing and filtering), and</span>
<span id="cb38-181"><a href="#cb38-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-182"><a href="#cb38-182" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**DT**</span><span class="co">](https://rstudio.github.io/DT/)</span>**,** for providing an R interface to the JavaScript library <span class="co">[</span><span class="ot">DataTables</span><span class="co">](https://datatables.net/)</span> that create interactive table on html page</span>
<span id="cb38-183"><a href="#cb38-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-184"><a href="#cb38-184" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**FunnelPlotR**</span><span class="co">](https://nhs-r-community.github.io/FunnelPlotR/)</span>**,** for creating funnel plot.</span>
<span id="cb38-185"><a href="#cb38-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-186"><a href="#cb38-186" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**gganimate**</span><span class="co">](https://gganimate.com/)</span>, an ggplot extension for creating animated statistical graphs</span>
<span id="cb38-187"><a href="#cb38-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-188"><a href="#cb38-188" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**ggdist**</span><span class="co">](https://mjskay.github.io/ggdist/)</span>, for visualising distribution and uncertainty</span>
<span id="cb38-189"><a href="#cb38-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-190"><a href="#cb38-190" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**ggridges**</span><span class="co">](https://cran.r-project.org/web/packages/ggridges/vignettes/introduction.html)</span>**,** a ggplot2 extension specially designed for plotting ridgeline plots</span>
<span id="cb38-191"><a href="#cb38-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-192"><a href="#cb38-192" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**ggthemes**</span><span class="co">](https://yutannihilation.github.io/allYourFigureAreBelongToUs/ggthemes/)</span>, an R package that provides some extra themes, geoms, and scales for ‚Äòggplot2‚Äô</span>
<span id="cb38-193"><a href="#cb38-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-194"><a href="#cb38-194" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**ggsignif**</span><span class="co">](https://cran.r-project.org/web/packages/ggsignif/vignettes/intro.html)</span>, a ggplot extension that provides a single layer&nbsp;<span class="in">`geom_signif`</span>&nbsp;which can calculate the significance of a difference between groups and add the annotation to the plot in a single line</span>
<span id="cb38-195"><a href="#cb38-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-196"><a href="#cb38-196" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**ggstatsplot**</span><span class="co">](https://indrajeetpatil.github.io/ggstatsplot/)</span>**,** an extension of&nbsp;[**ggplot2**](https://ggplot2.tidyverse.org/)&nbsp;package for creating graphics with details from statistical tests included in the information-rich plots themselves</span>
<span id="cb38-197"><a href="#cb38-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-198"><a href="#cb38-198" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**gifski**</span><span class="co">](https://cran.r-project.org/web/packages/gifski/)</span> converts video frames to GIF animations using pngquant‚Äôs fancy features for efficient cross-frame palettes and temporal dithering. It produces animated GIFs that use thousands of colors per frame</span>
<span id="cb38-199"><a href="#cb38-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-200"><a href="#cb38-200" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**MetBrewer**</span><span class="co">](https://github.com/BlakeRMills/MetBrewer?tab=readme-ov-file)</span>, colour palettes inspired by works at the Metropolitan Museum of Art in New York</span>
<span id="cb38-201"><a href="#cb38-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-202"><a href="#cb38-202" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**kableExtra**</span><span class="co">](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)</span>**,** for creating and manipulating complex tables</span>
<span id="cb38-203"><a href="#cb38-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-204"><a href="#cb38-204" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**patchwork**</span><span class="co">](https://patchwork.data-imaginist.com/)</span>,&nbsp;for combining multiple ggplot2 graphs into one figure</span>
<span id="cb38-205"><a href="#cb38-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-206"><a href="#cb38-206" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**plotly**</span><span class="co">](https://plotly.com/r/)</span>, R library for plotting interactive statistical graphs</span>
<span id="cb38-207"><a href="#cb38-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-208"><a href="#cb38-208" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**readr**</span><span class="co">](https://readr.tidyverse.org/)</span>**,** for importing csv into R</span>
<span id="cb38-209"><a href="#cb38-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-210"><a href="#cb38-210" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**tidyverse**</span><span class="co">](https://www.tidyverse.org/)</span>, a family of modern R packages specially designed to support data science, analysis and communication task including creating static statistical graphs</span>
<span id="cb38-211"><a href="#cb38-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-212"><a href="#cb38-212" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="co">[</span><span class="ot">**transformr**</span><span class="co">](https://cran.r-project.org/web/packages/transformr/index.html)</span>, to smoothly animate the transformation of polygons and paths</span>
<span id="cb38-213"><a href="#cb38-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-216"><a href="#cb38-216" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-217"><a href="#cb38-217" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(crosstalk, DT,</span>
<span id="cb38-218"><a href="#cb38-218" aria-hidden="true" tabindex="-1"></a>               FunnelPlotR, gganimate,</span>
<span id="cb38-219"><a href="#cb38-219" aria-hidden="true" tabindex="-1"></a>               ggdist, ggridges, </span>
<span id="cb38-220"><a href="#cb38-220" aria-hidden="true" tabindex="-1"></a>               ggthemes, ggsignif, </span>
<span id="cb38-221"><a href="#cb38-221" aria-hidden="true" tabindex="-1"></a>               ggstatsplot,</span>
<span id="cb38-222"><a href="#cb38-222" aria-hidden="true" tabindex="-1"></a>               gifski, kableExtra, </span>
<span id="cb38-223"><a href="#cb38-223" aria-hidden="true" tabindex="-1"></a>               MetBrewer, patchwork, </span>
<span id="cb38-224"><a href="#cb38-224" aria-hidden="true" tabindex="-1"></a>               plotly, tidyverse, </span>
<span id="cb38-225"><a href="#cb38-225" aria-hidden="true" tabindex="-1"></a>               transformr</span>
<span id="cb38-226"><a href="#cb38-226" aria-hidden="true" tabindex="-1"></a>               ) </span>
<span id="cb38-227"><a href="#cb38-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-228"><a href="#cb38-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-229"><a href="#cb38-229" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.3.2 **Data Set**</span></span>
<span id="cb38-230"><a href="#cb38-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-231"><a href="#cb38-231" aria-hidden="true" tabindex="-1"></a>Historical daily records of rainfall from MacRitchie Reservoir on February 1983, 1993, 2003, 2013 and 2023 were extracted from the <span class="co">[</span><span class="ot">Historical Daily Records</span><span class="co">](http://www.weather.gov.sg/climate-historical-daily/)</span> page of the Meteorological Service Singapore. 5 different .CSV files were extracted, cleaned and combined to form the dataset *rainfall_1983_2023.*</span>
<span id="cb38-232"><a href="#cb38-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-233"><a href="#cb38-233" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2.3.2.1 Creating the data set</span></span>
<span id="cb38-234"><a href="#cb38-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-235"><a href="#cb38-235" aria-hidden="true" tabindex="-1"></a>This code chunk below reads all the *.csv files*, cleans them by removing irrelevant columns e.g. Station, Month etc. and saves them as cleaned *.csv files* .</span>
<span id="cb38-236"><a href="#cb38-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-239"><a href="#cb38-239" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-240"><a href="#cb38-240" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb38-241"><a href="#cb38-241" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-242"><a href="#cb38-242" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb38-243"><a href="#cb38-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-244"><a href="#cb38-244" aria-hidden="true" tabindex="-1"></a><span class="co">#get all the .csvs present in the directory and then create new files by appending '_cleaned' before .csv </span></span>
<span id="cb38-245"><a href="#cb38-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-246"><a href="#cb38-246" aria-hidden="true" tabindex="-1"></a>paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"data/"</span>,  <span class="at">full.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-247"><a href="#cb38-247" aria-hidden="true" tabindex="-1"></a>          <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">'.csv$'</span>) <span class="co">#capture all the files ending in .csv</span></span>
<span id="cb38-248"><a href="#cb38-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-249"><a href="#cb38-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-250"><a href="#cb38-250" aria-hidden="true" tabindex="-1"></a>paths_cleaned <span class="ot">&lt;-</span> <span class="fu">str_replace</span>(paths, <span class="st">'.csv$'</span>, <span class="st">'_cleaned.csv'</span>)</span>
<span id="cb38-251"><a href="#cb38-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-252"><a href="#cb38-252" aria-hidden="true" tabindex="-1"></a>get_csv <span class="ot">&lt;-</span> <span class="cf">function</span>(path, path_clean){</span>
<span id="cb38-253"><a href="#cb38-253" aria-hidden="true" tabindex="-1"></a>    <span class="co"># read uncleaned, raw, data</span></span>
<span id="cb38-254"><a href="#cb38-254" aria-hidden="true" tabindex="-1"></a>    uncleaned_data    <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(path, <span class="at">fileEncoding =</span> <span class="st">"Latin1"</span>, <span class="at">check.names =</span> F)</span>
<span id="cb38-255"><a href="#cb38-255" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-256"><a href="#cb38-256" aria-hidden="true" tabindex="-1"></a>    <span class="co"># extract the useful columns</span></span>
<span id="cb38-257"><a href="#cb38-257" aria-hidden="true" tabindex="-1"></a>    cleaned_data <span class="ot">&lt;-</span> uncleaned_data[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">6</span><span class="sc">:</span><span class="dv">13</span>)]</span>
<span id="cb38-258"><a href="#cb38-258" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-259"><a href="#cb38-259" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-260"><a href="#cb38-260" aria-hidden="true" tabindex="-1"></a>    <span class="co"># write the new cleaned data into a new file name (adding "_cleaned" in the end)</span></span>
<span id="cb38-261"><a href="#cb38-261" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write.table</span>(cleaned_data,</span>
<span id="cb38-262"><a href="#cb38-262" aria-hidden="true" tabindex="-1"></a>                path_clean,</span>
<span id="cb38-263"><a href="#cb38-263" aria-hidden="true" tabindex="-1"></a>                <span class="at">row.names =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-264"><a href="#cb38-264" aria-hidden="true" tabindex="-1"></a>                <span class="at">col.names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb38-265"><a href="#cb38-265" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">","</span>)</span>
<span id="cb38-266"><a href="#cb38-266" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-267"><a href="#cb38-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-268"><a href="#cb38-268" aria-hidden="true" tabindex="-1"></a><span class="fu">map2</span>(paths, paths_cleaned, <span class="sc">~</span><span class="fu">get_csv</span>(.x, .y))</span>
<span id="cb38-269"><a href="#cb38-269" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-270"><a href="#cb38-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-271"><a href="#cb38-271" aria-hidden="true" tabindex="-1"></a>This code chunk combines all the cleaned *.csv* files and creates a new combined_rainfall*.csv*</span>
<span id="cb38-272"><a href="#cb38-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-275"><a href="#cb38-275" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-276"><a href="#cb38-276" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb38-277"><a href="#cb38-277" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb38-278"><a href="#cb38-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-279"><a href="#cb38-279" aria-hidden="true" tabindex="-1"></a><span class="co"># Get a list of all .csv files in the "data/" directory</span></span>
<span id="cb38-280"><a href="#cb38-280" aria-hidden="true" tabindex="-1"></a>paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">"data"</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-281"><a href="#cb38-281" aria-hidden="true" tabindex="-1"></a>         <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">'_cleaned.csv$'</span>)</span>
<span id="cb38-282"><a href="#cb38-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-283"><a href="#cb38-283" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize an empty data frame to store the combined data</span></span>
<span id="cb38-284"><a href="#cb38-284" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb38-285"><a href="#cb38-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-286"><a href="#cb38-286" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each .csv file and combine them</span></span>
<span id="cb38-287"><a href="#cb38-287" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (path <span class="cf">in</span> paths) {</span>
<span id="cb38-288"><a href="#cb38-288" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read each .csv file</span></span>
<span id="cb38-289"><a href="#cb38-289" aria-hidden="true" tabindex="-1"></a>  current_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(path, <span class="at">fileEncoding =</span> <span class="st">"Latin1"</span>, <span class="at">check.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-290"><a href="#cb38-290" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-291"><a href="#cb38-291" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the data</span></span>
<span id="cb38-292"><a href="#cb38-292" aria-hidden="true" tabindex="-1"></a>  combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(combined_data, current_data)</span>
<span id="cb38-293"><a href="#cb38-293" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-294"><a href="#cb38-294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-295"><a href="#cb38-295" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the full path for the output file in the "data" directory</span></span>
<span id="cb38-296"><a href="#cb38-296" aria-hidden="true" tabindex="-1"></a>output_path <span class="ot">&lt;-</span> <span class="st">"data/combined_rainfall.csv"</span></span>
<span id="cb38-297"><a href="#cb38-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-298"><a href="#cb38-298" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the combined data into the specified .csv file</span></span>
<span id="cb38-299"><a href="#cb38-299" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(combined_data, output_path, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-300"><a href="#cb38-300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-301"><a href="#cb38-301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-302"><a href="#cb38-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-303"><a href="#cb38-303" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.3.3 **Importing Data**</span></span>
<span id="cb38-304"><a href="#cb38-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-305"><a href="#cb38-305" aria-hidden="true" tabindex="-1"></a>In the code chunk below,&nbsp;*read_csv()*&nbsp;of&nbsp;**readr**&nbsp;is used to import *combined_rainfall.csv* into R and parsed it into tibble R data.frame format.</span>
<span id="cb38-306"><a href="#cb38-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-309"><a href="#cb38-309" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-310"><a href="#cb38-310" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/combined_rainfall.csv"</span>) </span>
<span id="cb38-311"><a href="#cb38-311" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-312"><a href="#cb38-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-313"><a href="#cb38-313" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.3.4 **Summary Statistics of** *combined_rainfall.csv*</span></span>
<span id="cb38-314"><a href="#cb38-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-315"><a href="#cb38-315" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb38-316"><a href="#cb38-316" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Table</span></span>
<span id="cb38-317"><a href="#cb38-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-318"><a href="#cb38-318" aria-hidden="true" tabindex="-1"></a><span class="fu">### Displaying the first 5 rows of **rainfall** using `head():`</span></span>
<span id="cb38-319"><a href="#cb38-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-322"><a href="#cb38-322" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-323"><a href="#cb38-323" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(rainfall,<span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-324"><a href="#cb38-324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-325"><a href="#cb38-325" aria-hidden="true" tabindex="-1"></a>   <span class="fu">kable_classic_2</span>(<span class="at">full_width =</span> F)</span>
<span id="cb38-326"><a href="#cb38-326" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-327"><a href="#cb38-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-328"><a href="#cb38-328" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Structure</span></span>
<span id="cb38-329"><a href="#cb38-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-330"><a href="#cb38-330" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checking the structure of **rainfall** using `glimpse():`</span></span>
<span id="cb38-331"><a href="#cb38-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-332"><a href="#cb38-332" aria-hidden="true" tabindex="-1"></a>**Structure of rainfall**</span>
<span id="cb38-333"><a href="#cb38-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-334"><a href="#cb38-334" aria-hidden="true" tabindex="-1"></a>There are 140 rows and 3 columns (Year, Day, Daily Rainfall Total).</span>
<span id="cb38-335"><a href="#cb38-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-336"><a href="#cb38-336" aria-hidden="true" tabindex="-1"></a>Of note, Year and Day have been wrongly labelled as <span class="sc">\&lt;</span><span class="in">`dbl&gt;`</span> when they should be cast as <span class="in">`&lt;factor&gt;`</span> as they is categorical in nature (for the purpose of this study).</span>
<span id="cb38-337"><a href="#cb38-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-340"><a href="#cb38-340" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-341"><a href="#cb38-341" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(rainfall)</span>
<span id="cb38-342"><a href="#cb38-342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-343"><a href="#cb38-343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-344"><a href="#cb38-344" aria-hidden="true" tabindex="-1"></a><span class="fu">## Data Health</span></span>
<span id="cb38-345"><a href="#cb38-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-346"><a href="#cb38-346" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checking for any symptoms of messy data:</span></span>
<span id="cb38-347"><a href="#cb38-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-348"><a href="#cb38-348" aria-hidden="true" tabindex="-1"></a>::: {.focusbox .focus data-latex="focus"}</span>
<span id="cb38-349"><a href="#cb38-349" aria-hidden="true" tabindex="-1"></a>**Symptoms of messy data in rainfall**</span>
<span id="cb38-350"><a href="#cb38-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-351"><a href="#cb38-351" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>No duplicated rows</span>
<span id="cb38-352"><a href="#cb38-352" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>No missing values</span>
<span id="cb38-353"><a href="#cb38-353" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-354"><a href="#cb38-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-355"><a href="#cb38-355" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 1. Checking for duplicates:</span></span>
<span id="cb38-356"><a href="#cb38-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-359"><a href="#cb38-359" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-360"><a href="#cb38-360" aria-hidden="true" tabindex="-1"></a>rainfall[<span class="fu">duplicated</span>(rainfall),]</span>
<span id="cb38-361"><a href="#cb38-361" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-362"><a href="#cb38-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-363"><a href="#cb38-363" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 2. Checking missing values:</span></span>
<span id="cb38-364"><a href="#cb38-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-367"><a href="#cb38-367" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-368"><a href="#cb38-368" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(rainfall))</span>
<span id="cb38-369"><a href="#cb38-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-370"><a href="#cb38-370" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-371"><a href="#cb38-371" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-372"><a href="#cb38-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-373"><a href="#cb38-373" aria-hidden="true" tabindex="-1"></a><span class="fu">### 2.3.5 **Altering** *combined_rainfall.csv*</span></span>
<span id="cb38-374"><a href="#cb38-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-375"><a href="#cb38-375" aria-hidden="true" tabindex="-1"></a><span class="fu">#### {{&lt; fa circle-exclamation &gt;}} **Data wrangling and manipulation**:</span></span>
<span id="cb38-376"><a href="#cb38-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-377"><a href="#cb38-377" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The title of **Daily Rainfall Total (mm)** is hard to code with. It was renamed using `dplyr::rename()` function to **amt_rainfall**.</span>
<span id="cb38-378"><a href="#cb38-378" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-379"><a href="#cb38-379" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>New variable **Week** and **rainyday_indicator** are created using <span class="in">`mutate()`</span> (see <span class="co">[</span><span class="ot">2.2.1 Questions about the data</span><span class="co">]</span>)</span>
<span id="cb38-380"><a href="#cb38-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-381"><a href="#cb38-381" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Year**, **Day, Week** and **rainyday_indicator** are classified as <span class="in">`&lt;chr&gt;`</span>, but are categorical in nature. This is cast as factor type using <span class="in">`as.factor()`</span>.</span>
<span id="cb38-382"><a href="#cb38-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-383"><a href="#cb38-383" aria-hidden="true" tabindex="-1"></a>::: panel-tabset</span>
<span id="cb38-384"><a href="#cb38-384" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Step 1: Changing data names:**</span></span>
<span id="cb38-385"><a href="#cb38-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-388"><a href="#cb38-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-389"><a href="#cb38-389" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: show</span></span>
<span id="cb38-390"><a href="#cb38-390" aria-hidden="true" tabindex="-1"></a><span class="co"># Renaming variables</span></span>
<span id="cb38-391"><a href="#cb38-391" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-392"><a href="#cb38-392" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">"amt_rainfall"</span> <span class="ot">=</span> <span class="st">"Daily Rainfall Total (mm)"</span></span>
<span id="cb38-393"><a href="#cb38-393" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb38-394"><a href="#cb38-394" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-395"><a href="#cb38-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-396"><a href="#cb38-396" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Step 2: Aggregating new variables:**</span></span>
<span id="cb38-397"><a href="#cb38-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-400"><a href="#cb38-400" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-401"><a href="#cb38-401" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: show</span></span>
<span id="cb38-402"><a href="#cb38-402" aria-hidden="true" tabindex="-1"></a><span class="co"># Renaming variables</span></span>
<span id="cb38-403"><a href="#cb38-403" aria-hidden="true" tabindex="-1"></a>rainfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-404"><a href="#cb38-404" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Week =</span> <span class="fu">ceiling</span>(Day <span class="sc">/</span> <span class="dv">7</span>),</span>
<span id="cb38-405"><a href="#cb38-405" aria-hidden="true" tabindex="-1"></a>         <span class="at">rainyday_indicator =</span> <span class="fu">ifelse</span>(amt_rainfall <span class="sc">!=</span> <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb38-406"><a href="#cb38-406" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-407"><a href="#cb38-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-408"><a href="#cb38-408" aria-hidden="true" tabindex="-1"></a><span class="fu">## **Step 3: Changing data types:**</span></span>
<span id="cb38-409"><a href="#cb38-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-412"><a href="#cb38-412" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-413"><a href="#cb38-413" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: show</span></span>
<span id="cb38-414"><a href="#cb38-414" aria-hidden="true" tabindex="-1"></a><span class="co"># Casting ordinal as factor</span></span>
<span id="cb38-415"><a href="#cb38-415" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-416"><a href="#cb38-416" aria-hidden="true" tabindex="-1"></a><span class="co">#rainfall$Day &lt;- as.factor(rainfall$Day)</span></span>
<span id="cb38-417"><a href="#cb38-417" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Week <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Week)</span>
<span id="cb38-418"><a href="#cb38-418" aria-hidden="true" tabindex="-1"></a><span class="co">#rainfall$rainyday_indicator &lt;- as.factor(rainfall$rainyday_indicator)</span></span>
<span id="cb38-419"><a href="#cb38-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-420"><a href="#cb38-420" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-421"><a href="#cb38-421" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-422"><a href="#cb38-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-423"><a href="#cb38-423" aria-hidden="true" tabindex="-1"></a><span class="fu"># 3 Design of Data Visualisations</span></span>
<span id="cb38-424"><a href="#cb38-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-425"><a href="#cb38-425" aria-hidden="true" tabindex="-1"></a>Based on the above questions raised in <span class="co">[</span><span class="ot">2.2 Questions raised</span><span class="co">]</span>, it is good practice to break down the tasks the data visualisations will achieve.</span>
<span id="cb38-426"><a href="#cb38-426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-427"><a href="#cb38-427" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.1 Hypothesis</span></span>
<span id="cb38-428"><a href="#cb38-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-429"><a href="#cb38-429" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To study the hypothesis: Climate change has caused annual total rainfall to rise at an average rate of 101mm per decade</span>
<span id="cb38-430"><a href="#cb38-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-431"><a href="#cb38-431" aria-hidden="true" tabindex="-1"></a><span class="ss">    1.  </span>Null hypothesis: Climate change has not caused annual total rainfall to rise per decade.</span>
<span id="cb38-432"><a href="#cb38-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-433"><a href="#cb38-433" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.2 Task Analysis</span></span>
<span id="cb38-434"><a href="#cb38-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-435"><a href="#cb38-435" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.1 User Stories</span></span>
<span id="cb38-436"><a href="#cb38-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-437"><a href="#cb38-437" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>As a casual user, I want to see interesting facts of rainfall at a glance.</span>
<span id="cb38-438"><a href="#cb38-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-439"><a href="#cb38-439" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>As a casual user, I want to see a snapshot of the rainfall trends e.g. is it increasing, if in line with mean amount of rainfall or an anomaly.</span>
<span id="cb38-440"><a href="#cb38-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-441"><a href="#cb38-441" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>As an expert user, I want to select a particular day on a yearly chart, so that I can study the weather situation of a selected day.</span>
<span id="cb38-442"><a href="#cb38-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-443"><a href="#cb38-443" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>As an expert user, I want to see all the changes in rainfall patterns, so that I can see how much rainfall is changing by decade.</span>
<span id="cb38-444"><a href="#cb38-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-445"><a href="#cb38-445" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>As an expert user, I want to see the distribution of the data and if there are any outliers.</span>
<span id="cb38-446"><a href="#cb38-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-447"><a href="#cb38-447" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.2 Breakdown of tasks</span></span>
<span id="cb38-448"><a href="#cb38-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-449"><a href="#cb38-449" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>***Present*** the highest amount of rainfall and year with the highest number of rainy days.</span>
<span id="cb38-450"><a href="#cb38-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-451"><a href="#cb38-451" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>***Present*** the yearly and daily trends of rainfall.</span>
<span id="cb38-452"><a href="#cb38-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-453"><a href="#cb38-453" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>***Present*** the yearly and daily distribution of volume of rainfall.</span>
<span id="cb38-454"><a href="#cb38-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-455"><a href="#cb38-455" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>***Discover*** days of interest. The user can interact with each day to obtain details on demand.</span>
<span id="cb38-456"><a href="#cb38-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-457"><a href="#cb38-457" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>***Identify*** how much variation is occurring yearly.</span>
<span id="cb38-458"><a href="#cb38-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-459"><a href="#cb38-459" aria-hidden="true" tabindex="-1"></a><span class="ss">6.  </span>***Identify*** patterns in the rainfall data.</span>
<span id="cb38-460"><a href="#cb38-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-461"><a href="#cb38-461" aria-hidden="true" tabindex="-1"></a><span class="ss">7.  </span>***Present*** how much uncertainty is behind the data visualisations.</span>
<span id="cb38-462"><a href="#cb38-462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-463"><a href="#cb38-463" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.2 Plots</span></span>
<span id="cb38-464"><a href="#cb38-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-465"><a href="#cb38-465" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.1 To present interesting facts of rainfall at a glance</span></span>
<span id="cb38-466"><a href="#cb38-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-467"><a href="#cb38-467" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-468"><a href="#cb38-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-469"><a href="#cb38-469" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To present the highest amount of rainfall and year with the highest number of rainy days.</span>
<span id="cb38-470"><a href="#cb38-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-471"><a href="#cb38-471" aria-hidden="true" tabindex="-1"></a>This will be provided in the form of cards in the dashboard:</span>
<span id="cb38-472"><a href="#cb38-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-473"><a href="#cb38-473" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A card about the highest amount of rainfall and which day and year it was</span>
<span id="cb38-474"><a href="#cb38-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-475"><a href="#cb38-475" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>The year with the highest number of rainy days</span>
<span id="cb38-476"><a href="#cb38-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-477"><a href="#cb38-477" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.2 To visually present the distribution of rainfall over time and allow users to explore</span></span>
<span id="cb38-478"><a href="#cb38-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-479"><a href="#cb38-479" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-480"><a href="#cb38-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-481"><a href="#cb38-481" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To present the data in an animated fashion to show changes in rainfall data through time</span>
<span id="cb38-482"><a href="#cb38-482" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>To present the yearly and daily distribution of volume of rainfall.</span>
<span id="cb38-483"><a href="#cb38-483" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>To allow users to discover days of interest. The user can interact with each day to obtain details on demand.</span>
<span id="cb38-484"><a href="#cb38-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-485"><a href="#cb38-485" aria-hidden="true" tabindex="-1"></a>A bubble plot was selected as it is visually engaging and can communicate about changes of rainfall over time at a very granular level. Following in the footsteps of <span class="co">[</span><span class="ot">Chua (2019)</span><span class="co">](https://towardsdatascience.com/visualising-singapores-changing-weather-patterns-1983-2019-a78605fadbdf)</span>, who visualised Singapore‚Äôs changing weather patterns from 1983‚Äì2019, I chose to reverse the y-axis to simulate the look of falling rain. Unlike his static plot, I wanted to show the changes through the years and chose to animate the plots. The size and colour of the bubbles also reflected the amount of rainfall for that day.</span>
<span id="cb38-486"><a href="#cb38-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-487"><a href="#cb38-487" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-488"><a href="#cb38-488" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-491"><a href="#cb38-491" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-492"><a href="#cb38-492" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-493"><a href="#cb38-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb38-494"><a href="#cb38-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-495"><a href="#cb38-495" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainyfall, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> amt_rainfall, </span>
<span id="cb38-496"><a href="#cb38-496" aria-hidden="true" tabindex="-1"></a>                    <span class="at">size =</span> amt_rainfall, </span>
<span id="cb38-497"><a href="#cb38-497" aria-hidden="true" tabindex="-1"></a>                      <span class="at">colour =</span> amt_rainfall)) <span class="sc">+</span></span>
<span id="cb38-498"><a href="#cb38-498" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb38-499"><a href="#cb38-499" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb38-500"><a href="#cb38-500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb38-501"><a href="#cb38-501" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">'Years:  1993 - 2023'</span>, </span>
<span id="cb38-502"><a href="#cb38-502" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">'Days of February'</span>, </span>
<span id="cb38-503"><a href="#cb38-503" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-504"><a href="#cb38-504" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transition_time</span>(Year) <span class="sc">+</span>       </span>
<span id="cb38-505"><a href="#cb38-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ease_aes</span>(<span class="st">'linear'</span>) <span class="sc">+</span></span>
<span id="cb38-506"><a href="#cb38-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb38-507"><a href="#cb38-507" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">+</span></span>
<span id="cb38-508"><a href="#cb38-508" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb38-509"><a href="#cb38-509" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-510"><a href="#cb38-510" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-511"><a href="#cb38-511" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-512"><a href="#cb38-512" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>())         </span>
<span id="cb38-513"><a href="#cb38-513" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-514"><a href="#cb38-514" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-515"><a href="#cb38-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-516"><a href="#cb38-516" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-519"><a href="#cb38-519" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-520"><a href="#cb38-520" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb38-521"><a href="#cb38-521" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb38-522"><a href="#cb38-522" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb38-523"><a href="#cb38-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-524"><a href="#cb38-524" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-525"><a href="#cb38-525" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb38-526"><a href="#cb38-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-527"><a href="#cb38-527" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainyfall, </span>
<span id="cb38-528"><a href="#cb38-528" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb38-529"><a href="#cb38-529" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb38-530"><a href="#cb38-530" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb38-531"><a href="#cb38-531" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb38-532"><a href="#cb38-532" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb38-533"><a href="#cb38-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb38-534"><a href="#cb38-534" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb38-535"><a href="#cb38-535" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb38-536"><a href="#cb38-536" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb38-537"><a href="#cb38-537" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-538"><a href="#cb38-538" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-539"><a href="#cb38-539" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-540"><a href="#cb38-540" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-541"><a href="#cb38-541" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb38-542"><a href="#cb38-542" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb38-543"><a href="#cb38-543" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-544"><a href="#cb38-544" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-545"><a href="#cb38-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb38-546"><a href="#cb38-546" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-547"><a href="#cb38-547" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-548"><a href="#cb38-548" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-549"><a href="#cb38-549" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb38-550"><a href="#cb38-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb38-551"><a href="#cb38-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) </span>
<span id="cb38-552"><a href="#cb38-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-553"><a href="#cb38-553" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb38-554"><a href="#cb38-554" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-555"><a href="#cb38-555" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>)</span>
<span id="cb38-556"><a href="#cb38-556" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-557"><a href="#cb38-557" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-558"><a href="#cb38-558" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-559"><a href="#cb38-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-560"><a href="#cb38-560" aria-hidden="true" tabindex="-1"></a>As can be seen in the two plots above, the chart on the left is animated and on autoplay. It provides a quick look at how the amount of rainfall and number of rainy days have increased. However, it is limited as the user cannot interact with the plot and explore any days of interest. The chart on the right is both animated and interactive - the user can see the changes through time and also explore any bubbles of interest. Yet, it is not on autoplay but this feature is not so important if interactivity is an aim of this visualisation.</span>
<span id="cb38-561"><a href="#cb38-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-562"><a href="#cb38-562" aria-hidden="true" tabindex="-1"></a>To further enhance interactivity, an interactive datatable using <span class="in">`DT()`</span> was added and linked to the interactive bubble plot using <span class="in">`crosstalk()`</span>. This allows the user to explore the data at the</span>
<span id="cb38-563"><a href="#cb38-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-566"><a href="#cb38-566" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-567"><a href="#cb38-567" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-568"><a href="#cb38-568" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb38-569"><a href="#cb38-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-570"><a href="#cb38-570" aria-hidden="true" tabindex="-1"></a>rain_data <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(rainyfall)</span>
<span id="cb38-571"><a href="#cb38-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-572"><a href="#cb38-572" aria-hidden="true" tabindex="-1"></a>rain_p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rain_data, </span>
<span id="cb38-573"><a href="#cb38-573" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb38-574"><a href="#cb38-574" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb38-575"><a href="#cb38-575" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb38-576"><a href="#cb38-576" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb38-577"><a href="#cb38-577" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb38-578"><a href="#cb38-578" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb38-579"><a href="#cb38-579" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb38-580"><a href="#cb38-580" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb38-581"><a href="#cb38-581" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb38-582"><a href="#cb38-582" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-583"><a href="#cb38-583" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-584"><a href="#cb38-584" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-585"><a href="#cb38-585" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-586"><a href="#cb38-586" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb38-587"><a href="#cb38-587" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb38-588"><a href="#cb38-588" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-589"><a href="#cb38-589" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-590"><a href="#cb38-590" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb38-591"><a href="#cb38-591" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-592"><a href="#cb38-592" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-593"><a href="#cb38-593" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-594"><a href="#cb38-594" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb38-595"><a href="#cb38-595" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb38-596"><a href="#cb38-596" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) </span>
<span id="cb38-597"><a href="#cb38-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-598"><a href="#cb38-598" aria-hidden="true" tabindex="-1"></a>rain_highlight <span class="ot">&lt;-</span> <span class="fu">highlight</span>(<span class="fu">ggplotly</span>(rain_p,, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-599"><a href="#cb38-599" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>), </span>
<span id="cb38-600"><a href="#cb38-600" aria-hidden="true" tabindex="-1"></a>  <span class="at">on =</span> <span class="st">"plotly_selected"</span>,</span>
<span id="cb38-601"><a href="#cb38-601" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="st">"plotly_doubleclick"</span>)</span>
<span id="cb38-602"><a href="#cb38-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-603"><a href="#cb38-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-604"><a href="#cb38-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-605"><a href="#cb38-605" aria-hidden="true" tabindex="-1"></a>interactive <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span><span class="fu">bscols</span>(rain_highlight,</span>
<span id="cb38-606"><a href="#cb38-606" aria-hidden="true" tabindex="-1"></a>                  DT<span class="sc">::</span><span class="fu">datatable</span>(rain_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)),</span>
<span id="cb38-607"><a href="#cb38-607" aria-hidden="true" tabindex="-1"></a>                  <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb38-608"><a href="#cb38-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-609"><a href="#cb38-609" aria-hidden="true" tabindex="-1"></a>interactive</span>
<span id="cb38-610"><a href="#cb38-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-611"><a href="#cb38-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-612"><a href="#cb38-612" aria-hidden="true" tabindex="-1"></a>However, while pretty, bubble plots are limited in offering a clear snapshot of trends as bubble plots rely on spatial positioning (although I think the inverse y-axis to simulate this helps alleviate this issue). Yet, the data is too granular at this level and the data set is too small.</span>
<span id="cb38-613"><a href="#cb38-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-614"><a href="#cb38-614" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.3 To present a snapshot of patterns and trends from a higher level</span></span>
<span id="cb38-615"><a href="#cb38-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-616"><a href="#cb38-616" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-617"><a href="#cb38-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-618"><a href="#cb38-618" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To move away from granular data</span>
<span id="cb38-619"><a href="#cb38-619" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>To present clear trends in the daily and yearly data</span>
<span id="cb38-620"><a href="#cb38-620" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>To identify patterns in the rainfall data</span>
<span id="cb38-621"><a href="#cb38-621" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>To present how much uncertainty is behind the data visualisations.</span>
<span id="cb38-622"><a href="#cb38-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-623"><a href="#cb38-623" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 3.2.3.1 For daily trends</span></span>
<span id="cb38-624"><a href="#cb38-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-625"><a href="#cb38-625" aria-hidden="true" tabindex="-1"></a>To study the daily trends of the amount of rainfall, a calendar heatmap was selected to reveal temporal patterns in data. At a quick glance, we can compare rainfall patterns across the year intervals simultaneously and how the conditions change through time through the intensity of the colours reflecting the varying amounts of rainfall.</span>
<span id="cb38-626"><a href="#cb38-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-629"><a href="#cb38-629" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-630"><a href="#cb38-630" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-631"><a href="#cb38-631" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-632"><a href="#cb38-632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-633"><a href="#cb38-633" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(rainfall,<span class="fu">aes</span>(Day, Year, <span class="at">fill=</span>amt_rainfall))<span class="sc">+</span></span>
<span id="cb38-634"><a href="#cb38-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color=</span> <span class="st">"white"</span>,<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb38-635"><a href="#cb38-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-636"><a href="#cb38-636" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Amount of Rainfall in Days"</span>, </span>
<span id="cb38-637"><a href="#cb38-637" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-638"><a href="#cb38-638" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Amount of rainfall"</span>) <span class="sc">+</span></span>
<span id="cb38-639"><a href="#cb38-639" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() </span>
<span id="cb38-640"><a href="#cb38-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-641"><a href="#cb38-641" aria-hidden="true" tabindex="-1"></a>heatmap <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb38-642"><a href="#cb38-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb38-643"><a href="#cb38-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb38-644"><a href="#cb38-644" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">colour=</span><span class="st">"white"</span>))<span class="sc">+</span></span>
<span id="cb38-645"><a href="#cb38-645" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">hjust=</span><span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb38-646"><a href="#cb38-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks=</span><span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb38-647"><a href="#cb38-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb38-648"><a href="#cb38-648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))<span class="sc">+</span></span>
<span id="cb38-649"><a href="#cb38-649" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb38-650"><a href="#cb38-650" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day), <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)) </span>
<span id="cb38-651"><a href="#cb38-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-652"><a href="#cb38-652" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(heatmap)</span>
<span id="cb38-653"><a href="#cb38-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-654"><a href="#cb38-654" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-655"><a href="#cb38-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-656"><a href="#cb38-656" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-657"><a href="#cb38-657" aria-hidden="true" tabindex="-1"></a>::: g-col-8</span>
<span id="cb38-658"><a href="#cb38-658" aria-hidden="true" tabindex="-1"></a>As seen in the above plot, heatmaps are excellent in visualising large temporal data by showing clear trends over time - we can see that there is more rainfall and rainy days from 2003 onwards. Moreover, the interactivity allows the user to hover over specific tiles for specific information.</span>
<span id="cb38-659"><a href="#cb38-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-660"><a href="#cb38-660" aria-hidden="true" tabindex="-1"></a>However, while heatmaps are visually nice and informative, <span class="co">[</span><span class="ot">Bock</span><span class="co">](https://www.displayr.com/the-problem-with-heatmaps/)</span> pointed out that the shading in heatmaps are often problematic - "we are poor at comparing shading in non-adjacent regions of a visualisation... <span class="sc">\[</span>also known as the<span class="sc">\]</span> checker shadow illusion". Thus, it is easy for us to mis-gauge the difference in amount of rainfall as seen on the image on the right where the gradient difference between days of 15 (44.2mm) and 18 (23.8mm) for 2013 is not easy to pick up.</span>
<span id="cb38-661"><a href="#cb38-661" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-662"><a href="#cb38-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-663"><a href="#cb38-663" aria-hidden="true" tabindex="-1"></a>::: g-col-4</span>
<span id="cb38-664"><a href="#cb38-664" aria-hidden="true" tabindex="-1"></a><span class="al">![Year 2013: Days 15 and 19](images/clipboard-3912865468.png)</span>{fig-align="center"}</span>
<span id="cb38-665"><a href="#cb38-665" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-666"><a href="#cb38-666" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-667"><a href="#cb38-667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-668"><a href="#cb38-668" aria-hidden="true" tabindex="-1"></a>The use of a cumulative histogram together with the heatmap will show the clear distribution of individual rainfall points and provide a clear representation of the cumulative amount of rainfall for each day.</span>
<span id="cb38-669"><a href="#cb38-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-672"><a href="#cb38-672" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-673"><a href="#cb38-673" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-674"><a href="#cb38-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-675"><a href="#cb38-675" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert amt_rainfall to numeric </span></span>
<span id="cb38-676"><a href="#cb38-676" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>amt_rainfall <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(rainfall<span class="sc">$</span>amt_rainfall))</span>
<span id="cb38-677"><a href="#cb38-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-678"><a href="#cb38-678" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a cumulative histogram by day and facet by year</span></span>
<span id="cb38-679"><a href="#cb38-679" aria-hidden="true" tabindex="-1"></a>rainfall_cumulative <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-680"><a href="#cb38-680" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-681"><a href="#cb38-681" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Day) <span class="sc">%&gt;%</span></span>
<span id="cb38-682"><a href="#cb38-682" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_count =</span> <span class="fu">cumsum</span>(amt_rainfall))</span>
<span id="cb38-683"><a href="#cb38-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-684"><a href="#cb38-684" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the cumulative histogram with a line tracing the tops of the bars</span></span>
<span id="cb38-685"><a href="#cb38-685" aria-hidden="true" tabindex="-1"></a>ch_rainfall <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_cumulative, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> cumulative_count, <span class="at">group =</span> Year, <span class="at">fill =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Cumulative amount of rainfall:"</span>, cumulative_count))) <span class="sc">+</span></span>
<span id="cb38-686"><a href="#cb38-686" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb38-687"><a href="#cb38-687" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span>Year , <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">switch =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb38-688"><a href="#cb38-688" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-689"><a href="#cb38-689" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Cumulative distribution of Rainfall in Days"</span>,</span>
<span id="cb38-690"><a href="#cb38-690" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-691"><a href="#cb38-691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-692"><a href="#cb38-692" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb38-693"><a href="#cb38-693" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb38-694"><a href="#cb38-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-695"><a href="#cb38-695" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb38-696"><a href="#cb38-696" aria-hidden="true" tabindex="-1"></a>cumulative <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(ch_rainfall, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>))</span>
<span id="cb38-697"><a href="#cb38-697" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-698"><a href="#cb38-698" aria-hidden="true" tabindex="-1"></a>cumulative</span>
<span id="cb38-699"><a href="#cb38-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-700"><a href="#cb38-700" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-701"><a href="#cb38-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-702"><a href="#cb38-702" aria-hidden="true" tabindex="-1"></a>The cumulative histogram clearly shows the change in total amount of rainfall in each decade and also shows any outlier days of heavy rain. It also can show trends such that in the later decades, the rain often fell in the first half of the month. Unfortunately, I am not able to build a linking view with <span class="in">`subplot()`</span> and this might be because of the <span class="in">`facet_grid()`</span>. It would be cool if I could link the heatmap and cumulative histograms together so we can track the colour changes in the heatmap with the changes in cumulative values in the cumulative histogram.</span>
<span id="cb38-703"><a href="#cb38-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-704"><a href="#cb38-704" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 3.2.3.2 For weekly trends</span></span>
<span id="cb38-705"><a href="#cb38-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-706"><a href="#cb38-706" aria-hidden="true" tabindex="-1"></a>To improve this issue, I chose animated line charts with a reference line of mean rainfall (1991 - 2020) so that the user can supplement their use of the bubble plot with a clearer idea on whether rainfall has increased or decreased in reference to each year and week being studied and the mean line. As argued by <span class="co">[</span><span class="ot">Uberti</span><span class="co">](https://charliepark.org/slopegraphs/)</span>, "For most people, it's considerably easier to understand an upward or downward line than relative spatial positioning".</span>
<span id="cb38-707"><a href="#cb38-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-708"><a href="#cb38-708" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-709"><a href="#cb38-709" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-712"><a href="#cb38-712" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-713"><a href="#cb38-713" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb38-714"><a href="#cb38-714" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-715"><a href="#cb38-715" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(transformr)</span>
<span id="cb38-716"><a href="#cb38-716" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb38-717"><a href="#cb38-717" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-718"><a href="#cb38-718" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-719"><a href="#cb38-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-720"><a href="#cb38-720" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-721"><a href="#cb38-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-722"><a href="#cb38-722" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, create the plot</span></span>
<span id="cb38-723"><a href="#cb38-723" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(</span>
<span id="cb38-724"><a href="#cb38-724" aria-hidden="true" tabindex="-1"></a>  rainfall,</span>
<span id="cb38-725"><a href="#cb38-725" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> <span class="fu">factor</span>(Year))</span>
<span id="cb38-726"><a href="#cb38-726" aria-hidden="true" tabindex="-1"></a>) <span class="sc">+</span></span>
<span id="cb38-727"><a href="#cb38-727" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb38-728"><a href="#cb38-728" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Hokusai1"</span>, <span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb38-729"><a href="#cb38-729" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-730"><a href="#cb38-730" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-731"><a href="#cb38-731" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-732"><a href="#cb38-732" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-733"><a href="#cb38-733" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Weeks of February"</span>, <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-734"><a href="#cb38-734" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-735"><a href="#cb38-735" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb38-736"><a href="#cb38-736" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels))</span>
<span id="cb38-737"><a href="#cb38-737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-738"><a href="#cb38-738" aria-hidden="true" tabindex="-1"></a>p <span class="sc">+</span> <span class="fu">transition_reveal</span>(Day)</span>
<span id="cb38-739"><a href="#cb38-739" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-740"><a href="#cb38-740" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-741"><a href="#cb38-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-742"><a href="#cb38-742" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-745"><a href="#cb38-745" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-746"><a href="#cb38-746" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-747"><a href="#cb38-747" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb38-748"><a href="#cb38-748" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb38-749"><a href="#cb38-749" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-750"><a href="#cb38-750" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb38-751"><a href="#cb38-751" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb38-752"><a href="#cb38-752" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb38-753"><a href="#cb38-753" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb38-754"><a href="#cb38-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-755"><a href="#cb38-755" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-756"><a href="#cb38-756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-757"><a href="#cb38-757" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-758"><a href="#cb38-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-759"><a href="#cb38-759" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-760"><a href="#cb38-760" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb38-761"><a href="#cb38-761" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-762"><a href="#cb38-762" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb38-763"><a href="#cb38-763" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb38-764"><a href="#cb38-764" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year),<span class="at">shape=</span><span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb38-765"><a href="#cb38-765" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year)) <span class="sc">+</span></span>
<span id="cb38-766"><a href="#cb38-766" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-767"><a href="#cb38-767" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-768"><a href="#cb38-768" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-769"><a href="#cb38-769" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-770"><a href="#cb38-770" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghighlight</span>(<span class="at">use_direct_label =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-771"><a href="#cb38-771" aria-hidden="true" tabindex="-1"></a>              <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(<span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"grey85"</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb38-772"><a href="#cb38-772" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-773"><a href="#cb38-773" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb38-774"><a href="#cb38-774" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb38-775"><a href="#cb38-775" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year, <span class="at">label =</span> <span class="fu">round</span>(amt_rainfall)),</span>
<span id="cb38-776"><a href="#cb38-776" aria-hidden="true" tabindex="-1"></a>             <span class="at">hjust =</span> <span class="sc">-</span>.<span class="dv">5</span>, <span class="at">vjust =</span> .<span class="dv">5</span>, <span class="at">size=</span><span class="fl">2.5</span>,  <span class="at">fontface=</span><span class="st">"bold"</span>) <span class="sc">+</span></span>
<span id="cb38-777"><a href="#cb38-777" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-778"><a href="#cb38-778" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb38-779"><a href="#cb38-779" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels)) <span class="sc">+</span></span>
<span id="cb38-780"><a href="#cb38-780" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>  <span class="fu">factor</span>(Year, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1983'</span>,<span class="st">'1993'</span>,<span class="st">'2003'</span>,<span class="st">'2013'</span>, <span class="st">'2023'</span>))) <span class="sc">+</span></span>
<span id="cb38-781"><a href="#cb38-781" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb38-782"><a href="#cb38-782" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-783"><a href="#cb38-783" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">28</span>)) <span class="sc">+</span></span>
<span id="cb38-784"><a href="#cb38-784" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb38-785"><a href="#cb38-785" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-786"><a href="#cb38-786" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Distribution of Rainfall by Days in Weeks"</span>,</span>
<span id="cb38-787"><a href="#cb38-787" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) </span>
<span id="cb38-788"><a href="#cb38-788" aria-hidden="true" tabindex="-1"></a>small_lines <span class="ot">&lt;-</span> p1 <span class="sc">+</span> <span class="fu">transition_reveal</span>(Day)</span>
<span id="cb38-789"><a href="#cb38-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-790"><a href="#cb38-790" aria-hidden="true" tabindex="-1"></a>small_lines</span>
<span id="cb38-791"><a href="#cb38-791" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-792"><a href="#cb38-792" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-793"><a href="#cb38-793" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-794"><a href="#cb38-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-795"><a href="#cb38-795" aria-hidden="true" tabindex="-1"></a>As seen in the above plots, animated line charts paint a different picture at the granular level. We can see the trend of increasing rain in the latter years and the increasing variability. For the chart on the left, it looked messy and confusing as the lines are superimposed on each other. The animated lines distracted, rather than clarified. On the right, the chart was split into small multiples - according to <span class="co">[</span><span class="ot">Vallandingham (2014)</span><span class="co">](https://flowingdata.com/2014/10/15/linked-small-multiples/)</span>, "the key idea is to slice up your data and use a separate plot to visualize each slice... small multiples can help with&nbsp;*overplotting*&nbsp;‚Äî when data is obscured or occluded because there are too many plotted items" (which is what we are facing). This improved visibility and readability and provided a snapshot of trends at a granular level.</span>
<span id="cb38-796"><a href="#cb38-796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-797"><a href="#cb38-797" aria-hidden="true" tabindex="-1"></a><span class="fu">#### 3.2.3.3 For yearly trends</span></span>
<span id="cb38-798"><a href="#cb38-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-799"><a href="#cb38-799" aria-hidden="true" tabindex="-1"></a>To study the yearly trends of the amount of rainfall, line charts were used.</span>
<span id="cb38-800"><a href="#cb38-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-801"><a href="#cb38-801" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-802"><a href="#cb38-802" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-805"><a href="#cb38-805" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-806"><a href="#cb38-806" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-807"><a href="#cb38-807" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-808"><a href="#cb38-808" aria-hidden="true" tabindex="-1"></a>mean_rainfall_per_year <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-809"><a href="#cb38-809" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-810"><a href="#cb38-810" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Mean_Rainfall =</span> <span class="fu">mean</span>(amt_rainfall, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb38-811"><a href="#cb38-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-812"><a href="#cb38-812" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a time series plot with mean rainfall</span></span>
<span id="cb38-813"><a href="#cb38-813" aria-hidden="true" tabindex="-1"></a>gg2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(mean_rainfall_per_year, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Mean_Rainfall, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb38-814"><a href="#cb38-814" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-815"><a href="#cb38-815" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-816"><a href="#cb38-816" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-817"><a href="#cb38-817" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-818"><a href="#cb38-818" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb38-819"><a href="#cb38-819" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Year), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb38-820"><a href="#cb38-820" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Amount of Rainfall per Year in February"</span>,</span>
<span id="cb38-821"><a href="#cb38-821" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-822"><a href="#cb38-822" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-823"><a href="#cb38-823" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-824"><a href="#cb38-824" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb38-825"><a href="#cb38-825" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-826"><a href="#cb38-826" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb38-827"><a href="#cb38-827" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb38-828"><a href="#cb38-828" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-829"><a href="#cb38-829" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-830"><a href="#cb38-830" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-831"><a href="#cb38-831" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-832"><a href="#cb38-832" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb38-833"><a href="#cb38-833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-834"><a href="#cb38-834" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg2)</span>
<span id="cb38-835"><a href="#cb38-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-836"><a href="#cb38-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-837"><a href="#cb38-837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-838"><a href="#cb38-838" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-839"><a href="#cb38-839" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-840"><a href="#cb38-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-841"><a href="#cb38-841" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-844"><a href="#cb38-844" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-845"><a href="#cb38-845" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-846"><a href="#cb38-846" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-847"><a href="#cb38-847" aria-hidden="true" tabindex="-1"></a>rainfall_sum <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-848"><a href="#cb38-848" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-849"><a href="#cb38-849" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-850"><a href="#cb38-850" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb38-851"><a href="#cb38-851" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean=</span><span class="fu">mean</span>(amt_rainfall),</span>
<span id="cb38-852"><a href="#cb38-852" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd=</span><span class="fu">sd</span>(amt_rainfall)</span>
<span id="cb38-853"><a href="#cb38-853" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-854"><a href="#cb38-854" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n<span class="dv">-1</span>))</span>
<span id="cb38-855"><a href="#cb38-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-856"><a href="#cb38-856" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_sum, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb38-857"><a href="#cb38-857" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb38-858"><a href="#cb38-858" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, </span>
<span id="cb38-859"><a href="#cb38-859" aria-hidden="true" tabindex="-1"></a>                <span class="at">y=</span>mean, <span class="at">color =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, <span class="st">`</span><span class="at">Year</span><span class="st">`</span>, </span>
<span id="cb38-860"><a href="#cb38-860" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;N:"</span>, <span class="st">`</span><span class="at">n</span><span class="st">`</span>,</span>
<span id="cb38-861"><a href="#cb38-861" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;Mean amount of rainfall:"</span>, <span class="fu">round</span>(mean, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb38-862"><a href="#cb38-862" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;95% CI:["</span>, </span>
<span id="cb38-863"><a href="#cb38-863" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">-1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>), <span class="st">","</span>,</span>
<span id="cb38-864"><a href="#cb38-864" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">+1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>),<span class="st">"]"</span>)), <span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb38-865"><a href="#cb38-865" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb38-866"><a href="#cb38-866" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se), </span>
<span id="cb38-867"><a href="#cb38-867" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"gray"</span>, </span>
<span id="cb38-868"><a href="#cb38-868" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb38-869"><a href="#cb38-869" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb38-870"><a href="#cb38-870" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-871"><a href="#cb38-871" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-872"><a href="#cb38-872" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-873"><a href="#cb38-873" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-874"><a href="#cb38-874" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span> </span>
<span id="cb38-875"><a href="#cb38-875" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb38-876"><a href="#cb38-876" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb38-877"><a href="#cb38-877" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb38-878"><a href="#cb38-878" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-879"><a href="#cb38-879" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-880"><a href="#cb38-880" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-881"><a href="#cb38-881" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Trend of mean amount of rainfall for February with 95% CI"</span>,</span>
<span id="cb38-882"><a href="#cb38-882" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-883"><a href="#cb38-883" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-884"><a href="#cb38-884" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb38-885"><a href="#cb38-885" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-886"><a href="#cb38-886" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-887"><a href="#cb38-887" aria-hidden="true" tabindex="-1"></a>mean_line <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(gg, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>))</span>
<span id="cb38-888"><a href="#cb38-888" aria-hidden="true" tabindex="-1"></a>mean_line </span>
<span id="cb38-889"><a href="#cb38-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-890"><a href="#cb38-890" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-891"><a href="#cb38-891" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-892"><a href="#cb38-892" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-893"><a href="#cb38-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-894"><a href="#cb38-894" aria-hidden="true" tabindex="-1"></a>As can be seen in the two plots above, a line chart quickly showed the upward trend of the mean amount of rainfall over the years with a slight blimp in 2013 due to unusual weather patterns. A reference line with the mean rainfall amount in 1991 - 2020 (given by MSS) was also present to chart how the years fared in response to the mean. Both are interactive so that the user can interact with the plots to explore what the mean amount of rainfall is for that year.</span>
<span id="cb38-895"><a href="#cb38-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-896"><a href="#cb38-896" aria-hidden="true" tabindex="-1"></a>The chart on the right goes one step further to show the 95% confidence interval in order to visualise the uncertainty of the point estimate (mean of rainfall for the month of February in that year). Interestingly, in the earlier years of 1983 - 1993, the narrow interval suggests a more precise mean estimate while the wider interval in the latter years suggest greater uncertainty. Hence, we cannot be too certain that the amount of rainfall is increasing through the years.</span>
<span id="cb38-897"><a href="#cb38-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-900"><a href="#cb38-900" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-901"><a href="#cb38-901" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-902"><a href="#cb38-902" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-903"><a href="#cb38-903" aria-hidden="true" tabindex="-1"></a>total_rainfall_per_year <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-904"><a href="#cb38-904" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-905"><a href="#cb38-905" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total_Rainydays =</span> <span class="fu">sum</span>(rainyday_indicator, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb38-906"><a href="#cb38-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-907"><a href="#cb38-907" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a time series plot</span></span>
<span id="cb38-908"><a href="#cb38-908" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(total_rainfall_per_year, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Total_Rainydays, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb38-909"><a href="#cb38-909" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb38-910"><a href="#cb38-910" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> Year), <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb38-911"><a href="#cb38-911" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Number of Rainy days per Year"</span>,</span>
<span id="cb38-912"><a href="#cb38-912" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-913"><a href="#cb38-913" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-914"><a href="#cb38-914" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-915"><a href="#cb38-915" aria-hidden="true" tabindex="-1"></a>   <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb38-916"><a href="#cb38-916" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb38-917"><a href="#cb38-917" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()  <span class="sc">+</span></span>
<span id="cb38-918"><a href="#cb38-918" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-919"><a href="#cb38-919" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb38-920"><a href="#cb38-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-921"><a href="#cb38-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-922"><a href="#cb38-922" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert ggplot to plotly</span></span>
<span id="cb38-923"><a href="#cb38-923" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(gg)</span>
<span id="cb38-924"><a href="#cb38-924" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-925"><a href="#cb38-925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-926"><a href="#cb38-926" aria-hidden="true" tabindex="-1"></a>The number of rainy days seem to be increasing and peaked in the unusual year of 2013 but stagnated in 2023. Hence, this plot was not included as it did not seem to yield any new discovery.</span>
<span id="cb38-927"><a href="#cb38-927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-928"><a href="#cb38-928" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.2.2 To visualise the distribution of rainfall between years</span></span>
<span id="cb38-929"><a href="#cb38-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-930"><a href="#cb38-930" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-931"><a href="#cb38-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-932"><a href="#cb38-932" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To present the yearly distribution of the volume of rainfall</span>
<span id="cb38-933"><a href="#cb38-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-934"><a href="#cb38-934" aria-hidden="true" tabindex="-1"></a>The code chunk below shows four different ways to study the distribution.</span>
<span id="cb38-935"><a href="#cb38-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-936"><a href="#cb38-936" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-937"><a href="#cb38-937" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-940"><a href="#cb38-940" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-941"><a href="#cb38-941" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-942"><a href="#cb38-942" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-943"><a href="#cb38-943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-944"><a href="#cb38-944" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall, </span>
<span id="cb38-945"><a href="#cb38-945" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb38-946"><a href="#cb38-946" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> amt_rainfall,</span>
<span id="cb38-947"><a href="#cb38-947" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Year)) <span class="sc">+</span></span>
<span id="cb38-948"><a href="#cb38-948" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_halfeye</span>(<span class="at">adjust =</span> <span class="fl">0.5</span>,</span>
<span id="cb38-949"><a href="#cb38-949" aria-hidden="true" tabindex="-1"></a>               <span class="at">justification =</span> <span class="sc">-</span><span class="fl">0.2</span>,</span>
<span id="cb38-950"><a href="#cb38-950" aria-hidden="true" tabindex="-1"></a>               <span class="at">.width =</span> <span class="dv">0</span>,</span>
<span id="cb38-951"><a href="#cb38-951" aria-hidden="true" tabindex="-1"></a>               <span class="at">point_colour =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb38-952"><a href="#cb38-952" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width =</span> .<span class="dv">20</span>,</span>
<span id="cb38-953"><a href="#cb38-953" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.shape =</span> <span class="cn">NA</span>,</span>
<span id="cb38-954"><a href="#cb38-954" aria-hidden="true" tabindex="-1"></a>               <span class="at">notch =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb38-955"><a href="#cb38-955" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_dots</span>(<span class="at">side =</span> <span class="st">"left"</span>, </span>
<span id="cb38-956"><a href="#cb38-956" aria-hidden="true" tabindex="-1"></a>            <span class="at">justification =</span> <span class="fl">1.2</span>, </span>
<span id="cb38-957"><a href="#cb38-957" aria-hidden="true" tabindex="-1"></a>            <span class="at">binwidth =</span> .<span class="dv">5</span>,</span>
<span id="cb38-958"><a href="#cb38-958" aria-hidden="true" tabindex="-1"></a>            <span class="at">dotsize =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb38-959"><a href="#cb38-959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb38-960"><a href="#cb38-960" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>)</span>
<span id="cb38-961"><a href="#cb38-961" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-962"><a href="#cb38-962" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-963"><a href="#cb38-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-964"><a href="#cb38-964" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-967"><a href="#cb38-967" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-968"><a href="#cb38-968" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-969"><a href="#cb38-969" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall,</span>
<span id="cb38-970"><a href="#cb38-970" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> amt_rainfall, </span>
<span id="cb38-971"><a href="#cb38-971" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> Year, </span>
<span id="cb38-972"><a href="#cb38-972" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">factor</span>(<span class="fu">after_stat</span>(quantile))</span>
<span id="cb38-973"><a href="#cb38-973" aria-hidden="true" tabindex="-1"></a>           )) <span class="sc">+</span></span>
<span id="cb38-974"><a href="#cb38-974" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_density_ridges</span>(</span>
<span id="cb38-975"><a href="#cb38-975" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"density_ridges_gradient"</span>,</span>
<span id="cb38-976"><a href="#cb38-976" aria-hidden="true" tabindex="-1"></a>    <span class="at">calc_ecdf =</span> <span class="cn">TRUE</span>, </span>
<span id="cb38-977"><a href="#cb38-977" aria-hidden="true" tabindex="-1"></a>    <span class="at">quantiles =</span> <span class="dv">4</span>,</span>
<span id="cb38-978"><a href="#cb38-978" aria-hidden="true" tabindex="-1"></a>    <span class="at">quantile_lines =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb38-979"><a href="#cb38-979" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-980"><a href="#cb38-980" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-981"><a href="#cb38-981" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> mean_value),</span>
<span id="cb38-982"><a href="#cb38-982" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-983"><a href="#cb38-983" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">name =</span> <span class="st">"Quartiles"</span>, <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#696969"</span>, <span class="st">"darkgrey"</span>, <span class="st">"grey"</span>, <span class="st">"lightgrey"</span>)) </span>
<span id="cb38-984"><a href="#cb38-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-985"><a href="#cb38-985" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-986"><a href="#cb38-986" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-987"><a href="#cb38-987" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-988"><a href="#cb38-988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-989"><a href="#cb38-989" aria-hidden="true" tabindex="-1"></a>::: grid</span>
<span id="cb38-990"><a href="#cb38-990" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-993"><a href="#cb38-993" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-994"><a href="#cb38-994" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-995"><a href="#cb38-995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-996"><a href="#cb38-996" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-997"><a href="#cb38-997" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb38-998"><a href="#cb38-998" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">notch=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb38-999"><a href="#cb38-999" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-1000"><a href="#cb38-1000" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1001"><a href="#cb38-1001" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1002"><a href="#cb38-1002" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-1003"><a href="#cb38-1003" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1004"><a href="#cb38-1004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb38-1005"><a href="#cb38-1005" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb38-1006"><a href="#cb38-1006" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,     </span>
<span id="cb38-1007"><a href="#cb38-1007" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb38-1008"><a href="#cb38-1008" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">50</span>),  </span>
<span id="cb38-1009"><a href="#cb38-1009" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>))  <span class="sc">+</span> </span>
<span id="cb38-1010"><a href="#cb38-1010" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb38-1011"><a href="#cb38-1011" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb38-1012"><a href="#cb38-1012" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb38-1013"><a href="#cb38-1013" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb38-1014"><a href="#cb38-1014" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-1015"><a href="#cb38-1015" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-1016"><a href="#cb38-1016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb38-1017"><a href="#cb38-1017" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-1018"><a href="#cb38-1018" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-1019"><a href="#cb38-1019" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()</span>
<span id="cb38-1020"><a href="#cb38-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1021"><a href="#cb38-1021" aria-hidden="true" tabindex="-1"></a>box <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(box)</span>
<span id="cb38-1022"><a href="#cb38-1022" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1023"><a href="#cb38-1023" aria-hidden="true" tabindex="-1"></a>box</span>
<span id="cb38-1024"><a href="#cb38-1024" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1025"><a href="#cb38-1025" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-1026"><a href="#cb38-1026" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1027"><a href="#cb38-1027" aria-hidden="true" tabindex="-1"></a>::: g-col-6</span>
<span id="cb38-1030"><a href="#cb38-1030" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1031"><a href="#cb38-1031" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-1032"><a href="#cb38-1032" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-1033"><a href="#cb38-1033" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> amt_rainfall, <span class="at">y =</span> Year, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb38-1034"><a href="#cb38-1034" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Year), <span class="at">size =</span> <span class="fl">0.6</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">linewidth =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb38-1035"><a href="#cb38-1035" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">width=</span> <span class="fl">0.4</span>, <span class="at">outlier.colour =</span> <span class="st">"grey20"</span>, <span class="at">outlier.size =</span> <span class="dv">1</span>, </span>
<span id="cb38-1036"><a href="#cb38-1036" aria-hidden="true" tabindex="-1"></a>               <span class="at">outlier.alpha =</span> <span class="fl">0.3</span>, <span class="at">notch =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb38-1037"><a href="#cb38-1037" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb38-1038"><a href="#cb38-1038" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb38-1039"><a href="#cb38-1039" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,        </span>
<span id="cb38-1040"><a href="#cb38-1040" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span>  </span>
<span id="cb38-1041"><a href="#cb38-1041" aria-hidden="true" tabindex="-1"></a>   <span class="fu">geom_vline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1042"><a href="#cb38-1042" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1043"><a href="#cb38-1043" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">xintercept =</span> mean_value),</span>
<span id="cb38-1044"><a href="#cb38-1044" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1045"><a href="#cb38-1045" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1046"><a href="#cb38-1046" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_score =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1047"><a href="#cb38-1047" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> mean_score <span class="sc">-</span> <span class="dv">100</span>, <span class="at">y =</span> <span class="cn">Inf</span>, <span class="at">label =</span> <span class="fu">paste</span>(<span class="st">"Mean:"</span>, <span class="fu">round</span>(mean_score, <span class="dv">0</span>))),</span>
<span id="cb38-1048"><a href="#cb38-1048" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="dv">2</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.8</span>, <span class="at">size =</span> <span class="dv">3</span>)  <span class="sc">+</span></span>
<span id="cb38-1049"><a href="#cb38-1049" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-1050"><a href="#cb38-1050" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">200</span>),  </span>
<span id="cb38-1051"><a href="#cb38-1051" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1000</span>, <span class="at">by =</span> <span class="dv">100</span>)) <span class="sc">+</span> </span>
<span id="cb38-1052"><a href="#cb38-1052" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb38-1053"><a href="#cb38-1053" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() </span>
<span id="cb38-1054"><a href="#cb38-1054" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1055"><a href="#cb38-1055" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-1056"><a href="#cb38-1056" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb38-1057"><a href="#cb38-1057" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1058"><a href="#cb38-1058" aria-hidden="true" tabindex="-1"></a>Unfortunately, given that February is a dry month, most of the data points were at 0.0mm which meant that the distribution was not varied enough the follow a normal distribution. We also can see from the charts that 2013 was an outlier year due to <span class="co">[</span><span class="ot">the unusual wet phases of the Northeast Monsoon Season and Madden-Julian Oscillation</span><span class="co">]</span>(https://www.nea.gov.sg/docs/default-source/resource/annual-weather-review-(2013)5529f991598c4fc6a4de9bba4ccf428b.pdf) (it was the only year that had four quartiles and whose median is close to the mean). We can also see from the notches in the boxplot (that were not present in 1983 and 1993 data) that the overlapping notches suggest that the medians are **not** statistically different although the shape of the boxplots also suggest that is insufficient sample size.</span>
<span id="cb38-1059"><a href="#cb38-1059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1060"><a href="#cb38-1060" aria-hidden="true" tabindex="-1"></a><span class="fu">## 3.3 Putting it all together</span></span>
<span id="cb38-1061"><a href="#cb38-1061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1062"><a href="#cb38-1062" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.3.1 Static Visualisation</span></span>
<span id="cb38-1063"><a href="#cb38-1063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1064"><a href="#cb38-1064" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-1065"><a href="#cb38-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1066"><a href="#cb38-1066" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To present clear rainfall trends in years and days</span>
<span id="cb38-1067"><a href="#cb38-1067" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>To present distribution of rainfall in days through the years</span>
<span id="cb38-1068"><a href="#cb38-1068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1069"><a href="#cb38-1069" aria-hidden="true" tabindex="-1"></a>With <span class="in">`patchwork()`</span> combining the following charts,</span>
<span id="cb38-1070"><a href="#cb38-1070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1071"><a href="#cb38-1071" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Line chart with Mean amount of total rainfall for February in Years with 95% CI</span>
<span id="cb38-1072"><a href="#cb38-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1073"><a href="#cb38-1073" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Animated small multiples of line charts with daily amount of rainfall by Week for February in Years</span>
<span id="cb38-1074"><a href="#cb38-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1075"><a href="#cb38-1075" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Notched Boxplot of distributions of rainfall for February in Years</span>
<span id="cb38-1076"><a href="#cb38-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1077"><a href="#cb38-1077" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Heatmap of daily amount of rainfall by Day for February in Years</span>
<span id="cb38-1078"><a href="#cb38-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1079"><a href="#cb38-1079" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>Cumulative histogram of daily amount of rainfall by Day for February in Years</span>
<span id="cb38-1080"><a href="#cb38-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1081"><a href="#cb38-1081" aria-hidden="true" tabindex="-1"></a>Unfortunately, it seemed that since my data visualisations were interactive due to <span class="in">`ggplotly()`</span>, <span class="in">`subplot()`</span> was needed to combine the plots together. However, <span class="in">`subplot()`</span> is very limited in its presentation layout and automatically disabled subtitles. it could also not be rendered and so a snapshot is taken and attached here.</span>
<span id="cb38-1082"><a href="#cb38-1082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1083"><a href="#cb38-1083" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, fig.width= 12, fig.height = 20}</span></span>
<span id="cb38-1084"><a href="#cb38-1084" aria-hidden="true" tabindex="-1"></a><span class="in">#p1 &lt;- subplot(heatmap, cumulative)</span></span>
<span id="cb38-1085"><a href="#cb38-1085" aria-hidden="true" tabindex="-1"></a><span class="in">#p2 &lt;- subplot(mean_line, small_lines, nrows =2)</span></span>
<span id="cb38-1086"><a href="#cb38-1086" aria-hidden="true" tabindex="-1"></a><span class="in">#p3 &lt;- subplot(p2, box)</span></span>
<span id="cb38-1087"><a href="#cb38-1087" aria-hidden="true" tabindex="-1"></a><span class="in">#p4 &lt;- subplot(p1, p3, nrows = 2)</span></span>
<span id="cb38-1088"><a href="#cb38-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1089"><a href="#cb38-1089" aria-hidden="true" tabindex="-1"></a><span class="in">#static &lt;- p4%&gt;% </span></span>
<span id="cb38-1090"><a href="#cb38-1090" aria-hidden="true" tabindex="-1"></a><span class="in">#  layout(title = 'February is still dry but getting wetter&lt;br&gt;',</span></span>
<span id="cb38-1091"><a href="#cb38-1091" aria-hidden="true" tabindex="-1"></a><span class="in">#         subtitle = 'February is the driest month in Singapore but even its total rainfall has been increasing over the decades. #1983 and 1993 were relatively dry while the later years became wetter and rain was often in the first half of the month. There #were also more days with high amounts of rainfall. Climate change has also resulted in unusual weather patterns with 2013 being #a blip year. It was unusually rainy with high amounts of rainfall caused by the unusual wet phases of the Northeast Monsoon #Season and Madden-Julian Oscillation.&lt;br&gt;')</span></span>
<span id="cb38-1092"><a href="#cb38-1092" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1093"><a href="#cb38-1093" aria-hidden="true" tabindex="-1"></a><span class="in">#static</span></span>
<span id="cb38-1094"><a href="#cb38-1094" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1095"><a href="#cb38-1095" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1096"><a href="#cb38-1096" aria-hidden="true" tabindex="-1"></a><span class="al">![Plot attempted with `subplot()`](images/static_plot.png)</span>{fig-align="left" width="859"}</span>
<span id="cb38-1097"><a href="#cb38-1097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1098"><a href="#cb38-1098" aria-hidden="true" tabindex="-1"></a>As such, I disabled the interactive elements of ggplotly in order to use <span class="in">`patchwork()`</span> to build the static data visualistion.</span>
<span id="cb38-1099"><a href="#cb38-1099" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1102"><a href="#cb38-1102" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1103"><a href="#cb38-1103" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-1104"><a href="#cb38-1104" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-1105"><a href="#cb38-1105" aria-hidden="true" tabindex="-1"></a>rainfall_sum <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1106"><a href="#cb38-1106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-1107"><a href="#cb38-1107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb38-1108"><a href="#cb38-1108" aria-hidden="true" tabindex="-1"></a>    <span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb38-1109"><a href="#cb38-1109" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean=</span><span class="fu">mean</span>(amt_rainfall),</span>
<span id="cb38-1110"><a href="#cb38-1110" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd=</span><span class="fu">sd</span>(amt_rainfall)</span>
<span id="cb38-1111"><a href="#cb38-1111" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-1112"><a href="#cb38-1112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se=</span>sd<span class="sc">/</span><span class="fu">sqrt</span>(n<span class="dv">-1</span>))</span>
<span id="cb38-1113"><a href="#cb38-1113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1114"><a href="#cb38-1114" aria-hidden="true" tabindex="-1"></a>line_chart <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_sum, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> mean, <span class="at">group =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb38-1115"><a href="#cb38-1115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb38-1116"><a href="#cb38-1116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x=</span>Year, </span>
<span id="cb38-1117"><a href="#cb38-1117" aria-hidden="true" tabindex="-1"></a>                <span class="at">y=</span>mean, <span class="at">color =</span> Year, <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, <span class="st">`</span><span class="at">Year</span><span class="st">`</span>, </span>
<span id="cb38-1118"><a href="#cb38-1118" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;N:"</span>, <span class="st">`</span><span class="at">n</span><span class="st">`</span>,</span>
<span id="cb38-1119"><a href="#cb38-1119" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;Mean amount of rainfall:"</span>, <span class="fu">round</span>(mean, <span class="at">digits =</span> <span class="dv">2</span>),</span>
<span id="cb38-1120"><a href="#cb38-1120" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"&lt;br&gt;95% CI:["</span>, </span>
<span id="cb38-1121"><a href="#cb38-1121" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">-1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>), <span class="st">","</span>,</span>
<span id="cb38-1122"><a href="#cb38-1122" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">round</span>((mean<span class="fl">+1.96</span><span class="sc">*</span>se), <span class="at">digits =</span> <span class="dv">2</span>),<span class="st">"]"</span>)), <span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb38-1123"><a href="#cb38-1123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(</span>
<span id="cb38-1124"><a href="#cb38-1124" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">ymin =</span> mean <span class="sc">-</span> <span class="fl">1.96</span> <span class="sc">*</span> se, <span class="at">ymax =</span> mean <span class="sc">+</span> <span class="fl">1.96</span> <span class="sc">*</span> se), </span>
<span id="cb38-1125"><a href="#cb38-1125" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"gray"</span>, </span>
<span id="cb38-1126"><a href="#cb38-1126" aria-hidden="true" tabindex="-1"></a>    <span class="at">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb38-1127"><a href="#cb38-1127" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb38-1128"><a href="#cb38-1128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1129"><a href="#cb38-1129" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1130"><a href="#cb38-1130" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-1131"><a href="#cb38-1131" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1132"><a href="#cb38-1132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span> </span>
<span id="cb38-1133"><a href="#cb38-1133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb38-1134"><a href="#cb38-1134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="st">"2013"</span>, <span class="at">y =</span> <span class="dv">25</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">label =</span> <span class="st">"February 2013 saw unusual wet phases </span><span class="sc">\n</span><span class="st">of the Northeast Monsoon Season </span><span class="sc">\n</span><span class="st">and Madden-Julian Oscillation"</span>) <span class="sc">+</span></span>
<span id="cb38-1135"><a href="#cb38-1135" aria-hidden="true" tabindex="-1"></a>    <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>,</span>
<span id="cb38-1136"><a href="#cb38-1136" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-1137"><a href="#cb38-1137" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-1138"><a href="#cb38-1138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-1139"><a href="#cb38-1139" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Trend of mean amount of rainfall for February with 95% CI"</span>,</span>
<span id="cb38-1140"><a href="#cb38-1140" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-1141"><a href="#cb38-1141" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-1142"><a href="#cb38-1142" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span>
<span id="cb38-1143"><a href="#cb38-1143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1144"><a href="#cb38-1144" aria-hidden="true" tabindex="-1"></a>line_chart</span>
<span id="cb38-1145"><a href="#cb38-1145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1146"><a href="#cb38-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1149"><a href="#cb38-1149" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1150"><a href="#cb38-1150" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb38-1151"><a href="#cb38-1151" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb38-1152"><a href="#cb38-1152" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb38-1153"><a href="#cb38-1153" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-1154"><a href="#cb38-1154" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb38-1155"><a href="#cb38-1155" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb38-1156"><a href="#cb38-1156" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb38-1157"><a href="#cb38-1157" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb38-1158"><a href="#cb38-1158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1159"><a href="#cb38-1159" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-1160"><a href="#cb38-1160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1161"><a href="#cb38-1161" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Weeks_Labels <span class="ot">&lt;-</span> <span class="fu">cut</span>(rainfall<span class="sc">$</span>Day, <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">max</span>(rainfall<span class="sc">$</span>Day) <span class="sc">+</span> <span class="dv">7</span>, <span class="at">by =</span> <span class="dv">7</span>), <span class="at">labels =</span> <span class="cn">FALSE</span>, <span class="at">right =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-1162"><a href="#cb38-1162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1163"><a href="#cb38-1163" aria-hidden="true" tabindex="-1"></a>multiples <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-1164"><a href="#cb38-1164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb38-1165"><a href="#cb38-1165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data=</span>rainfall <span class="sc">%&gt;%</span> </span>
<span id="cb38-1166"><a href="#cb38-1166" aria-hidden="true" tabindex="-1"></a>               <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb38-1167"><a href="#cb38-1167" aria-hidden="true" tabindex="-1"></a>               <span class="fu">slice_max</span>(Day),</span>
<span id="cb38-1168"><a href="#cb38-1168" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year),<span class="at">shape=</span><span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb38-1169"><a href="#cb38-1169" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>Day, <span class="at">y=</span>amt_rainfall, <span class="at">color=</span>Year)) <span class="sc">+</span></span>
<span id="cb38-1170"><a href="#cb38-1170" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1171"><a href="#cb38-1171" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1172"><a href="#cb38-1172" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-1173"><a href="#cb38-1173" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1174"><a href="#cb38-1174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gghighlight</span>(<span class="at">use_direct_label =</span> <span class="cn">FALSE</span>,</span>
<span id="cb38-1175"><a href="#cb38-1175" aria-hidden="true" tabindex="-1"></a>              <span class="at">unhighlighted_params =</span> <span class="fu">list</span>(<span class="at">colour =</span> <span class="fu">alpha</span>(<span class="st">"grey85"</span>, <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb38-1176"><a href="#cb38-1176" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-1177"><a href="#cb38-1177" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day[<span class="fu">seq</span>(<span class="dv">1</span>, <span class="fu">length</span>(<span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)), <span class="at">by =</span> <span class="dv">7</span>)]),</span>
<span id="cb38-1178"><a href="#cb38-1178" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Weeks_Labels)) <span class="sc">+</span></span>
<span id="cb38-1179"><a href="#cb38-1179" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="sc">~</span>  <span class="fu">factor</span>(Year, <span class="at">levels=</span><span class="fu">c</span>(<span class="st">'1983'</span>,<span class="st">'1993'</span>,<span class="st">'2003'</span>,<span class="st">'2013'</span>, <span class="st">'2023'</span>))) <span class="sc">+</span></span>
<span id="cb38-1180"><a href="#cb38-1180" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb38-1181"><a href="#cb38-1181" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-1182"><a href="#cb38-1182" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">28</span>)) <span class="sc">+</span></span>
<span id="cb38-1183"><a href="#cb38-1183" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb38-1184"><a href="#cb38-1184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-1185"><a href="#cb38-1185" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Distribution of Rainfall by Days in Weeks"</span>,</span>
<span id="cb38-1186"><a href="#cb38-1186" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) </span>
<span id="cb38-1187"><a href="#cb38-1187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1188"><a href="#cb38-1188" aria-hidden="true" tabindex="-1"></a>multiples</span>
<span id="cb38-1189"><a href="#cb38-1189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1190"><a href="#cb38-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1193"><a href="#cb38-1193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1194"><a href="#cb38-1194" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-1195"><a href="#cb38-1195" aria-hidden="true" tabindex="-1"></a>box_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall, <span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> amt_rainfall, <span class="at">color =</span> Year)) <span class="sc">+</span>  </span>
<span id="cb38-1196"><a href="#cb38-1196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">notch=</span><span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb38-1197"><a href="#cb38-1197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb38-1198"><a href="#cb38-1198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1199"><a href="#cb38-1199" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1200"><a href="#cb38-1200" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-1201"><a href="#cb38-1201" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1202"><a href="#cb38-1202" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">geom =</span> <span class="st">"point"</span>,       </span>
<span id="cb38-1203"><a href="#cb38-1203" aria-hidden="true" tabindex="-1"></a>               <span class="at">fun=</span><span class="st">"mean"</span>,         </span>
<span id="cb38-1204"><a href="#cb38-1204" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span><span class="st">"black"</span>,     </span>
<span id="cb38-1205"><a href="#cb38-1205" aria-hidden="true" tabindex="-1"></a>               <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb38-1206"><a href="#cb38-1206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">50</span>),  </span>
<span id="cb38-1207"><a href="#cb38-1207" aria-hidden="true" tabindex="-1"></a>                      <span class="at">minor_breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">200</span>, <span class="at">by =</span> <span class="dv">25</span>))  <span class="sc">+</span> </span>
<span id="cb38-1208"><a href="#cb38-1208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="cn">FALSE</span>, <span class="at">fill =</span> <span class="cn">FALSE</span>)  <span class="sc">+</span></span>
<span id="cb38-1209"><a href="#cb38-1209" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">200</span>)) <span class="sc">+</span></span>
<span id="cb38-1210"><a href="#cb38-1210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb38-1211"><a href="#cb38-1211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb38-1212"><a href="#cb38-1212" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-1213"><a href="#cb38-1213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_met_d</span>(<span class="at">name=</span><span class="st">"Hokusai1"</span>) <span class="sc">+</span></span>
<span id="cb38-1214"><a href="#cb38-1214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb38-1215"><a href="#cb38-1215" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-1216"><a href="#cb38-1216" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="fl">3.5</span>, <span class="at">vjust =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-1217"><a href="#cb38-1217" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>()</span>
<span id="cb38-1218"><a href="#cb38-1218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1219"><a href="#cb38-1219" aria-hidden="true" tabindex="-1"></a>box_plot</span>
<span id="cb38-1220"><a href="#cb38-1220" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1221"><a href="#cb38-1221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1224"><a href="#cb38-1224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1225"><a href="#cb38-1225" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-1226"><a href="#cb38-1226" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggExtra)</span>
<span id="cb38-1227"><a href="#cb38-1227" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(rainfall<span class="sc">$</span>Year)</span>
<span id="cb38-1228"><a href="#cb38-1228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1229"><a href="#cb38-1229" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ggplot</span>(rainfall,<span class="fu">aes</span>(Day, Year, <span class="at">fill=</span>amt_rainfall))<span class="sc">+</span></span>
<span id="cb38-1230"><a href="#cb38-1230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">color=</span> <span class="st">"white"</span>,<span class="at">size=</span><span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb38-1231"><a href="#cb38-1231" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-1232"><a href="#cb38-1232" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Amount of Rainfall in Days"</span>, </span>
<span id="cb38-1233"><a href="#cb38-1233" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-1234"><a href="#cb38-1234" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Amount of rainfall"</span>) <span class="sc">+</span></span>
<span id="cb38-1235"><a href="#cb38-1235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() </span>
<span id="cb38-1236"><a href="#cb38-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1237"><a href="#cb38-1237" aria-hidden="true" tabindex="-1"></a>heatmap_plot <span class="ot">&lt;-</span>p <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)<span class="sc">+</span></span>
<span id="cb38-1238"><a href="#cb38-1238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>))<span class="sc">+</span></span>
<span id="cb38-1239"><a href="#cb38-1239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>)) <span class="sc">+</span></span>
<span id="cb38-1240"><a href="#cb38-1240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">colour=</span><span class="st">"white"</span>))<span class="sc">+</span></span>
<span id="cb38-1241"><a href="#cb38-1241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title=</span><span class="fu">element_text</span>(<span class="at">hjust=</span><span class="dv">0</span>))<span class="sc">+</span></span>
<span id="cb38-1242"><a href="#cb38-1242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.ticks=</span><span class="fu">element_blank</span>())<span class="sc">+</span></span>
<span id="cb38-1243"><a href="#cb38-1243" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">7</span>))<span class="sc">+</span></span>
<span id="cb38-1244"><a href="#cb38-1244" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">8</span>))<span class="sc">+</span></span>
<span id="cb38-1245"><a href="#cb38-1245" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.text=</span><span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">6</span>))<span class="sc">+</span></span>
<span id="cb38-1246"><a href="#cb38-1246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">removeGrid</span>() <span class="sc">+</span></span>
<span id="cb38-1247"><a href="#cb38-1247" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day), <span class="at">labels =</span> <span class="fu">unique</span>(rainfall<span class="sc">$</span>Day)) </span>
<span id="cb38-1248"><a href="#cb38-1248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1249"><a href="#cb38-1249" aria-hidden="true" tabindex="-1"></a>heatmap_plot</span>
<span id="cb38-1250"><a href="#cb38-1250" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1251"><a href="#cb38-1251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1254"><a href="#cb38-1254" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1255"><a href="#cb38-1255" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MetBrewer)</span>
<span id="cb38-1256"><a href="#cb38-1256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1257"><a href="#cb38-1257" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert amt_rainfall to numeric </span></span>
<span id="cb38-1258"><a href="#cb38-1258" aria-hidden="true" tabindex="-1"></a>rainfall<span class="sc">$</span>amt_rainfall <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(rainfall<span class="sc">$</span>amt_rainfall))</span>
<span id="cb38-1259"><a href="#cb38-1259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1260"><a href="#cb38-1260" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a cumulative histogram by day and facet by year</span></span>
<span id="cb38-1261"><a href="#cb38-1261" aria-hidden="true" tabindex="-1"></a>rainfall_cumulative <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1262"><a href="#cb38-1262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb38-1263"><a href="#cb38-1263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Day) <span class="sc">%&gt;%</span></span>
<span id="cb38-1264"><a href="#cb38-1264" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cumulative_count =</span> <span class="fu">cumsum</span>(amt_rainfall))</span>
<span id="cb38-1265"><a href="#cb38-1265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1266"><a href="#cb38-1266" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the cumulative histogram with a line tracing the tops of the bars</span></span>
<span id="cb38-1267"><a href="#cb38-1267" aria-hidden="true" tabindex="-1"></a>ch_rainfall <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rainfall_cumulative, <span class="fu">aes</span>(<span class="at">x =</span> Day, <span class="at">y =</span> cumulative_count, <span class="at">group =</span> Year, <span class="at">fill =</span> Year)) <span class="sc">+</span></span>
<span id="cb38-1268"><a href="#cb38-1268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb38-1269"><a href="#cb38-1269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span>Year , <span class="at">scales =</span> <span class="st">"fixed"</span>, <span class="at">switch =</span> <span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb38-1270"><a href="#cb38-1270" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb38-1271"><a href="#cb38-1271" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Cumulative distribution of Rainfall in Days"</span>,</span>
<span id="cb38-1272"><a href="#cb38-1272" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-1273"><a href="#cb38-1273" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-1274"><a href="#cb38-1274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">met.brewer</span>(<span class="st">"Hokusai1"</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb38-1275"><a href="#cb38-1275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb38-1276"><a href="#cb38-1276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1277"><a href="#cb38-1277" aria-hidden="true" tabindex="-1"></a>ch_rainfall</span>
<span id="cb38-1278"><a href="#cb38-1278" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1279"><a href="#cb38-1279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1280"><a href="#cb38-1280" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.3.2 Interactive Visualisation</span></span>
<span id="cb38-1281"><a href="#cb38-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1282"><a href="#cb38-1282" aria-hidden="true" tabindex="-1"></a>Aims</span>
<span id="cb38-1283"><a href="#cb38-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1284"><a href="#cb38-1284" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>To allow users to discover patterns themselves</span>
<span id="cb38-1285"><a href="#cb38-1285" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>To allow users to interact with the data table</span>
<span id="cb38-1286"><a href="#cb38-1286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1287"><a href="#cb38-1287" aria-hidden="true" tabindex="-1"></a>With <span class="in">`crosstalk()`</span> combining the following:</span>
<span id="cb38-1288"><a href="#cb38-1288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1289"><a href="#cb38-1289" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Animated interactive bubble plot with daily amount of rainfall by Week for February in Years</span>
<span id="cb38-1290"><a href="#cb38-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1291"><a href="#cb38-1291" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Interactive data table</span>
<span id="cb38-1292"><a href="#cb38-1292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1295"><a href="#cb38-1295" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb38-1296"><a href="#cb38-1296" aria-hidden="true" tabindex="-1"></a>rainyfall <span class="ot">&lt;-</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1297"><a href="#cb38-1297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.integer</span>(<span class="fu">as.character</span>(Year)))</span>
<span id="cb38-1298"><a href="#cb38-1298" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1299"><a href="#cb38-1299" aria-hidden="true" tabindex="-1"></a>rain_data <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(rainyfall)</span>
<span id="cb38-1300"><a href="#cb38-1300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1301"><a href="#cb38-1301" aria-hidden="true" tabindex="-1"></a>rain_p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(rain_data, </span>
<span id="cb38-1302"><a href="#cb38-1302" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> Day, </span>
<span id="cb38-1303"><a href="#cb38-1303" aria-hidden="true" tabindex="-1"></a>                 <span class="at">y =</span> amt_rainfall, </span>
<span id="cb38-1304"><a href="#cb38-1304" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> amt_rainfall, </span>
<span id="cb38-1305"><a href="#cb38-1305" aria-hidden="true" tabindex="-1"></a>                 <span class="at">colour =</span> amt_rainfall,</span>
<span id="cb38-1306"><a href="#cb38-1306" aria-hidden="true" tabindex="-1"></a>                 <span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Year:"</span>, Year, <span class="st">"Day:"</span>, Day, <span class="st">"&lt;br&gt;"</span>, <span class="st">"Amount of rainfall:"</span>, amt_rainfall))) <span class="sc">+</span></span>
<span id="cb38-1307"><a href="#cb38-1307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> amt_rainfall,</span>
<span id="cb38-1308"><a href="#cb38-1308" aria-hidden="true" tabindex="-1"></a>                 <span class="at">frame =</span> Year),</span>
<span id="cb38-1309"><a href="#cb38-1309" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb38-1310"><a href="#cb38-1310" aria-hidden="true" tabindex="-1"></a>             <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb38-1311"><a href="#cb38-1311" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">data =</span> rainfall <span class="sc">%&gt;%</span></span>
<span id="cb38-1312"><a href="#cb38-1312" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarize</span>(<span class="at">mean_value =</span> <span class="fu">mean</span>(amt_rainfall)),</span>
<span id="cb38-1313"><a href="#cb38-1313" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">yintercept =</span> mean_value),</span>
<span id="cb38-1314"><a href="#cb38-1314" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb38-1315"><a href="#cb38-1315" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb38-1316"><a href="#cb38-1316" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Days of February"</span>, </span>
<span id="cb38-1317"><a href="#cb38-1317" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb38-1318"><a href="#cb38-1318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_gray</span>() <span class="sc">+</span></span>
<span id="cb38-1319"><a href="#cb38-1319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb38-1320"><a href="#cb38-1320" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-1321"><a href="#cb38-1321" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-1322"><a href="#cb38-1322" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb38-1323"><a href="#cb38-1323" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb38-1324"><a href="#cb38-1324" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_reverse</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb38-1325"><a href="#cb38-1325" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">28</span>) <span class="sc">+</span></span>
<span id="cb38-1326"><a href="#cb38-1326" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall) <span class="sc">+</span> <span class="dv">10</span>, </span>
<span id="cb38-1327"><a href="#cb38-1327" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">"Mean rainfall: %.2f"</span>, <span class="fu">mean</span>(rainfall<span class="sc">$</span>amt_rainfall)),</span>
<span id="cb38-1328"><a href="#cb38-1328" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="dv">1</span>)</span>
<span id="cb38-1329"><a href="#cb38-1329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1330"><a href="#cb38-1330" aria-hidden="true" tabindex="-1"></a>rain_highlight <span class="ot">&lt;-</span> <span class="fu">highlight</span>(<span class="fu">ggplotly</span>(rain_p,, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"text"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-1331"><a href="#cb38-1331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1500</span>, <span class="at">redraw =</span> <span class="cn">FALSE</span>, <span class="at">easing =</span> <span class="st">"linear"</span>), </span>
<span id="cb38-1332"><a href="#cb38-1332" aria-hidden="true" tabindex="-1"></a>  <span class="at">on =</span> <span class="st">"plotly_selected"</span>,</span>
<span id="cb38-1333"><a href="#cb38-1333" aria-hidden="true" tabindex="-1"></a>  <span class="at">off =</span> <span class="st">"plotly_doubleclick"</span>)</span>
<span id="cb38-1334"><a href="#cb38-1334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1335"><a href="#cb38-1335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1336"><a href="#cb38-1336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1337"><a href="#cb38-1337" aria-hidden="true" tabindex="-1"></a>interactive <span class="ot">&lt;-</span> crosstalk<span class="sc">::</span><span class="fu">bscols</span>(rain_highlight,</span>
<span id="cb38-1338"><a href="#cb38-1338" aria-hidden="true" tabindex="-1"></a>                  DT<span class="sc">::</span><span class="fu">datatable</span>(rain_data, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>)),</span>
<span id="cb38-1339"><a href="#cb38-1339" aria-hidden="true" tabindex="-1"></a>                  <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">11</span>))</span>
<span id="cb38-1340"><a href="#cb38-1340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1341"><a href="#cb38-1341" aria-hidden="true" tabindex="-1"></a>interactive</span>
<span id="cb38-1342"><a href="#cb38-1342" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1343"><a href="#cb38-1343" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1344"><a href="#cb38-1344" aria-hidden="true" tabindex="-1"></a><span class="fu">### 3.3.3 Final Visualisation</span></span>
<span id="cb38-1345"><a href="#cb38-1345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1346"><a href="#cb38-1346" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, fig.width= 12, fig.height = 12}</span></span>
<span id="cb38-1347"><a href="#cb38-1347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1348"><a href="#cb38-1348" aria-hidden="true" tabindex="-1"></a><span class="in">l1 &lt;- (line_chart / multiples) | box_plot</span></span>
<span id="cb38-1349"><a href="#cb38-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1350"><a href="#cb38-1350" aria-hidden="true" tabindex="-1"></a><span class="in">l2 &lt;- heatmap_plot | ch_rainfall </span></span>
<span id="cb38-1351"><a href="#cb38-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1352"><a href="#cb38-1352" aria-hidden="true" tabindex="-1"></a><span class="in">final &lt;- l1/l2 + </span></span>
<span id="cb38-1353"><a href="#cb38-1353" aria-hidden="true" tabindex="-1"></a><span class="in">  plot_annotation(</span></span>
<span id="cb38-1354"><a href="#cb38-1354" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "February seems to be getting wetter.",</span></span>
<span id="cb38-1355"><a href="#cb38-1355" aria-hidden="true" tabindex="-1"></a><span class="in">    subtitle = "February is the driest month in Singapore but even its total rainfall has been increasing over the decades (although there is much uncertainty if this change is statistically \nsignificant). 1983 and 1993 were relatively dry while the later years became wetter and rain was often in the first half of the month. There were also more days with high amounts of rainfall (outliers). Climate change has also resulted in unusual weather patterns with 2013 being a blip year. \nIt was unusually rainy with high amounts of rainfall caused by the unusual wet phases of the Northeast Monsoon Season and Madden-Julian Oscillation.",</span></span>
<span id="cb38-1356"><a href="#cb38-1356" aria-hidden="true" tabindex="-1"></a><span class="in">    caption = "Data source: MSS 2024",</span></span>
<span id="cb38-1357"><a href="#cb38-1357" aria-hidden="true" tabindex="-1"></a><span class="in">    theme = theme(plot.title = element_text(size = 25))  </span></span>
<span id="cb38-1358"><a href="#cb38-1358" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb38-1359"><a href="#cb38-1359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1360"><a href="#cb38-1360" aria-hidden="true" tabindex="-1"></a><span class="in">final</span></span>
<span id="cb38-1361"><a href="#cb38-1361" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1362"><a href="#cb38-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1363"><a href="#cb38-1363" aria-hidden="true" tabindex="-1"></a>To learn more about the changing rainfall patterns, you can:</span>
<span id="cb38-1364"><a href="#cb38-1364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1365"><a href="#cb38-1365" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Animate the rainfall bubble plot by pressing Play and seeing the changes through time,</span>
<span id="cb38-1366"><a href="#cb38-1366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1367"><a href="#cb38-1367" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Selecting individual bubbles to learn more about the day's rainfall</span>
<span id="cb38-1368"><a href="#cb38-1368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1369"><a href="#cb38-1369" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Selecting different bubbles and exploring the linked interactive data table</span>
<span id="cb38-1370"><a href="#cb38-1370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1371"><a href="#cb38-1371" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, fig.width= 12, fig.height = 10}</span></span>
<span id="cb38-1372"><a href="#cb38-1372" aria-hidden="true" tabindex="-1"></a><span class="in">rainyfall &lt;- rainfall %&gt;%</span></span>
<span id="cb38-1373"><a href="#cb38-1373" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(Year = as.integer(as.character(Year)))</span></span>
<span id="cb38-1374"><a href="#cb38-1374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1375"><a href="#cb38-1375" aria-hidden="true" tabindex="-1"></a><span class="in">rain_data &lt;- highlight_key(rainyfall)</span></span>
<span id="cb38-1376"><a href="#cb38-1376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1377"><a href="#cb38-1377" aria-hidden="true" tabindex="-1"></a><span class="in">rain_p &lt;- ggplot(rain_data, </span></span>
<span id="cb38-1378"><a href="#cb38-1378" aria-hidden="true" tabindex="-1"></a><span class="in">             aes(x = Day, </span></span>
<span id="cb38-1379"><a href="#cb38-1379" aria-hidden="true" tabindex="-1"></a><span class="in">                 y = amt_rainfall, </span></span>
<span id="cb38-1380"><a href="#cb38-1380" aria-hidden="true" tabindex="-1"></a><span class="in">                 size = amt_rainfall, </span></span>
<span id="cb38-1381"><a href="#cb38-1381" aria-hidden="true" tabindex="-1"></a><span class="in">                 colour = amt_rainfall,</span></span>
<span id="cb38-1382"><a href="#cb38-1382" aria-hidden="true" tabindex="-1"></a><span class="in">                 text = paste("Year:", Year, "Day:", Day, "&lt;br&gt;", "Amount of rainfall:", amt_rainfall))) +</span></span>
<span id="cb38-1383"><a href="#cb38-1383" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_point(aes(size = amt_rainfall,</span></span>
<span id="cb38-1384"><a href="#cb38-1384" aria-hidden="true" tabindex="-1"></a><span class="in">                 frame = Year),</span></span>
<span id="cb38-1385"><a href="#cb38-1385" aria-hidden="true" tabindex="-1"></a><span class="in">             alpha = 0.7, </span></span>
<span id="cb38-1386"><a href="#cb38-1386" aria-hidden="true" tabindex="-1"></a><span class="in">             show.legend = FALSE) + </span></span>
<span id="cb38-1387"><a href="#cb38-1387" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_hline(data = rainfall %&gt;%</span></span>
<span id="cb38-1388"><a href="#cb38-1388" aria-hidden="true" tabindex="-1"></a><span class="in">               summarize(mean_value = mean(amt_rainfall)),</span></span>
<span id="cb38-1389"><a href="#cb38-1389" aria-hidden="true" tabindex="-1"></a><span class="in">             aes(yintercept = mean_value),</span></span>
<span id="cb38-1390"><a href="#cb38-1390" aria-hidden="true" tabindex="-1"></a><span class="in">             color = "black", linetype = "dashed", linewidth = 0.2) +</span></span>
<span id="cb38-1391"><a href="#cb38-1391" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_size(range = c(2, 10)) +</span></span>
<span id="cb38-1392"><a href="#cb38-1392" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(x = "Days of February", </span></span>
<span id="cb38-1393"><a href="#cb38-1393" aria-hidden="true" tabindex="-1"></a><span class="in">       y = NULL) +</span></span>
<span id="cb38-1394"><a href="#cb38-1394" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_gray() +</span></span>
<span id="cb38-1395"><a href="#cb38-1395" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = 'none',</span></span>
<span id="cb38-1396"><a href="#cb38-1396" aria-hidden="true" tabindex="-1"></a><span class="in">        panel.grid.major = element_blank(),</span></span>
<span id="cb38-1397"><a href="#cb38-1397" aria-hidden="true" tabindex="-1"></a><span class="in">        panel.grid.minor = element_blank(),</span></span>
<span id="cb38-1398"><a href="#cb38-1398" aria-hidden="true" tabindex="-1"></a><span class="in">        axis.text.y = element_blank(),</span></span>
<span id="cb38-1399"><a href="#cb38-1399" aria-hidden="true" tabindex="-1"></a><span class="in">        axis.ticks.y = element_blank()) +</span></span>
<span id="cb38-1400"><a href="#cb38-1400" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_reverse(limits = c(200, 0)) +</span></span>
<span id="cb38-1401"><a href="#cb38-1401" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(breaks = 1:28) +</span></span>
<span id="cb38-1402"><a href="#cb38-1402" aria-hidden="true" tabindex="-1"></a><span class="in">  annotate("text", x = 3, y = mean(rainfall$amt_rainfall) + 10, </span></span>
<span id="cb38-1403"><a href="#cb38-1403" aria-hidden="true" tabindex="-1"></a><span class="in">           label = sprintf("Mean rainfall: %.2f", mean(rainfall$amt_rainfall)),</span></span>
<span id="cb38-1404"><a href="#cb38-1404" aria-hidden="true" tabindex="-1"></a><span class="in">           color = "black", size = 3, vjust = 1)</span></span>
<span id="cb38-1405"><a href="#cb38-1405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1406"><a href="#cb38-1406" aria-hidden="true" tabindex="-1"></a><span class="in">rain_highlight &lt;- highlight(ggplotly(rain_p,, tooltip = c("text")) %&gt;%</span></span>
<span id="cb38-1407"><a href="#cb38-1407" aria-hidden="true" tabindex="-1"></a><span class="in">  animation_opts(frame = 1500, redraw = FALSE, easing = "linear"), </span></span>
<span id="cb38-1408"><a href="#cb38-1408" aria-hidden="true" tabindex="-1"></a><span class="in">  on = "plotly_selected",</span></span>
<span id="cb38-1409"><a href="#cb38-1409" aria-hidden="true" tabindex="-1"></a><span class="in">  off = "plotly_doubleclick")</span></span>
<span id="cb38-1410"><a href="#cb38-1410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1411"><a href="#cb38-1411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1412"><a href="#cb38-1412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1413"><a href="#cb38-1413" aria-hidden="true" tabindex="-1"></a><span class="in">interactive &lt;- crosstalk::bscols(rain_highlight,</span></span>
<span id="cb38-1414"><a href="#cb38-1414" aria-hidden="true" tabindex="-1"></a><span class="in">                  DT::datatable(rain_data, options = list(pageLength = 5)),</span></span>
<span id="cb38-1415"><a href="#cb38-1415" aria-hidden="true" tabindex="-1"></a><span class="in">                  widths = c(11, 11))</span></span>
<span id="cb38-1416"><a href="#cb38-1416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1417"><a href="#cb38-1417" aria-hidden="true" tabindex="-1"></a><span class="in">interactive</span></span>
<span id="cb38-1418"><a href="#cb38-1418" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb38-1419"><a href="#cb38-1419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1420"><a href="#cb38-1420" aria-hidden="true" tabindex="-1"></a><span class="fu"># 4 Learning Points</span></span>
<span id="cb38-1421"><a href="#cb38-1421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1422"><a href="#cb38-1422" aria-hidden="true" tabindex="-1"></a>This exercise was really difficult for me to learn how to present both static and interactive data visualisations. I had a lot of ideas but they proved to be impossible either a) small data sample, b) limited scope of R packages, or c) lack of experience.</span>
<span id="cb38-1423"><a href="#cb38-1423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1424"><a href="#cb38-1424" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>I had a lot of trouble with the Year variable. Do I label it as a ordinal/categorical or continuous variable? Some <span class="in">`ggplotly()`</span> graphs allowed me to use it as an ordinal variable while others insisted on a continuous variable or as an integer. It was good practice to learn what was suitable.</span>
<span id="cb38-1425"><a href="#cb38-1425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1426"><a href="#cb38-1426" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>I had every intention to link my heatmap and cumulative histogram together as I felt being able to see how each colour intensity of the heatmap matched to the cumulative value in cumulative histogram would be very eye-opening. However, the packages did not allow this.</span>
<span id="cb38-1427"><a href="#cb38-1427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1428"><a href="#cb38-1428" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>I also thought of doing a dashboard but unfortunately, <span class="in">`patchwork()`</span> and <span class="in">`subplot()`</span> were very limited in its layout.</span>
<span id="cb38-1429"><a href="#cb38-1429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-1430"><a href="#cb38-1430" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>With limited data sample, it was difficult to plot the distribution especially since it was a dry month and there were many duplicated days of 0.0mm. This was challenging and only the blip year 2013 had 4 quartiles(!) while the year 1983 only had 2 quartiles! It was very weird.</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>